{"version":3,"sources":["webpack://Grommet/webpack/bootstrap","webpack://Grommet/external \"React\"","webpack://Grommet/external \"styled\"","webpack://Grommet/./src/js/default-props.js","webpack://Grommet/./src/js/utils/index.js","webpack://Grommet/./src/js/components/Box/index.js","webpack://Grommet/./src/js/components/Keyboard/index.js","webpack://Grommet/./node_modules/grommet-icons/StyledIcon.js","webpack://Grommet/./src/js/components/Button/index.js","webpack://Grommet/./src/js/components/Text/index.js","webpack://Grommet/./src/js/components/Form/FormContext.js","webpack://Grommet/./src/js/components/Drop/index.js","webpack://Grommet/./src/js/components/TableCell/index.js","webpack://Grommet/./src/js/utils/colors.js","webpack://Grommet/./src/js/components/Table/StyledTable.js","webpack://Grommet/./src/js/components/DataTable/StyledDataTable.js","webpack://Grommet/./src/js/utils/object.js","webpack://Grommet/./src/js/components/Anchor/index.js","webpack://Grommet/./node_modules/prop-types/index.js","webpack://Grommet/./src/js/components/Stack/index.js","webpack://Grommet/./src/js/components/CheckBox/index.js","webpack://Grommet/./src/js/components/Table/TableContext.js","webpack://Grommet/./src/js/components/TextInput/index.js","webpack://Grommet/./src/js/components/InfiniteScroll/index.js","webpack://Grommet/./src/js/components/TableRow/index.js","webpack://Grommet/./src/js/utils/mixins.js","webpack://Grommet/./src/js/components/Heading/index.js","webpack://Grommet/./src/js/contexts/index.js","webpack://Grommet/./src/js/components/DataTable/buildState.js","webpack://Grommet/./src/js/components/DropButton/index.js","webpack://Grommet/./src/js/utils/background.js","webpack://Grommet/./src/js/contexts/ContainerTargetContext/index.js","webpack://Grommet/./src/js/components/Chart/index.js","webpack://Grommet/./src/js/components/Grid/index.js","webpack://Grommet/./src/js/components/Table/index.js","webpack://Grommet/./src/js/components/TableBody/index.js","webpack://Grommet/./src/js/components/TableHeader/index.js","webpack://Grommet/./src/js/components/TableFooter/index.js","webpack://Grommet/./src/js/components/DataTable/Cell.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack://Grommet/./node_modules/polished/dist/polished.esm.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://Grommet/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://Grommet/./src/js/utils/styles.js","webpack://Grommet/./src/js/utils/refs.js","webpack://Grommet/./src/js/themes/base.js","webpack://Grommet/./node_modules/grommet-icons/themes/base.js","webpack://Grommet/./src/js/components/Accordion/AccordionContext.js","webpack://Grommet/./src/js/components/Tip/index.js","webpack://Grommet/external \"ReactDOM\"","webpack://Grommet/./src/js/components/FocusedContainer.js","webpack://Grommet/./src/js/components/Collapsible/index.js","webpack://Grommet/./src/js/components/Calendar/index.js","webpack://Grommet/./src/js/components/Footer/index.js","webpack://Grommet/./src/js/components/Header/index.js","webpack://Grommet/./src/js/components/CheckBoxGroup/index.js","webpack://Grommet/./src/js/components/Chart/utils.js","webpack://Grommet/./src/js/components/Clock/StyledClock.js","webpack://Grommet/./src/js/components/DataChart/Swatch.js","webpack://Grommet/./src/js/components/DataChart/utils.js","webpack://Grommet/./src/js/components/DataTable/ExpanderCell.js","webpack://Grommet/./src/js/components/Form/index.js","webpack://Grommet/./src/js/components/MaskedInput/index.js","webpack://Grommet/./src/js/components/RadioButtonGroup/index.js","webpack://Grommet/./src/js/components/RadioButton/index.js","webpack://Grommet/./src/js/themes/index.js","webpack://Grommet/./src/js/components/Image/index.js","webpack://Grommet/./src/js/components/Layer/index.js","webpack://Grommet/./src/js/components/Layer/StyledLayer.js","webpack://Grommet/./src/js/components/Paragraph/index.js","webpack://Grommet/./src/js/components/Menu/index.js","webpack://Grommet/./src/js/components/Meter/index.js","webpack://Grommet/./src/js/components/Meter/StyledMeter.js","webpack://Grommet/./src/js/components/Meter/utils.js","webpack://Grommet/./src/js/components/Select/utils.js","webpack://Grommet/./src/js/components/Tabs/TabsContext.js","webpack://Grommet/./node_modules/unquote/index.js","webpack://Grommet/./src/js/index.js","webpack://Grommet/./src/js/components/index.js","webpack://Grommet/./src/js/components/Accordion/index.js","webpack://Grommet/./src/js/components/Accordion/Accordion.js","webpack://Grommet/./src/js/components/Box/Box.js","webpack://Grommet/./src/js/utils/border.js","webpack://Grommet/./src/js/utils/DOM.js","webpack://Grommet/./src/js/utils/graphics.js","webpack://Grommet/./src/js/utils/PortalContext.js","webpack://Grommet/./src/js/utils/responsive.js","webpack://Grommet/./node_modules/grommet-icons/icons/Actions.js","webpack://Grommet/./node_modules/grommet-icons/default-props.js","webpack://Grommet/./node_modules/grommet-icons/utils.js","webpack://Grommet/./node_modules/grommet-icons/themes/index.js","webpack://Grommet/./node_modules/grommet-icons/icons/ClosedCaption.js","webpack://Grommet/./node_modules/grommet-icons/icons/Expand.js","webpack://Grommet/./node_modules/grommet-icons/icons/FormDown.js","webpack://Grommet/./node_modules/grommet-icons/icons/FormNext.js","webpack://Grommet/./node_modules/grommet-icons/icons/FormPrevious.js","webpack://Grommet/./node_modules/grommet-icons/icons/FormUp.js","webpack://Grommet/./node_modules/grommet-icons/icons/Next.js","webpack://Grommet/./node_modules/grommet-icons/icons/Pause.js","webpack://Grommet/./node_modules/grommet-icons/icons/Play.js","webpack://Grommet/./node_modules/grommet-icons/icons/Previous.js","webpack://Grommet/./node_modules/grommet-icons/icons/Subtract.js","webpack://Grommet/./node_modules/grommet-icons/icons/Volume.js","webpack://Grommet/./node_modules/grommet-icons/icons/VolumeLow.js","webpack://Grommet/./src/js/components/Keyboard/Keyboard.js","webpack://Grommet/./src/js/components/Box/StyledBox.js","webpack://Grommet/./src/js/components/AccordionPanel/index.js","webpack://Grommet/./src/js/components/AccordionPanel/AccordionPanel.js","webpack://Grommet/./src/js/components/Button/Button.js","webpack://Grommet/./src/js/components/Tip/Tip.js","webpack://Grommet/./src/js/components/Drop/Drop.js","webpack://Grommet/./src/js/components/Drop/DropContainer.js","webpack://Grommet/./src/js/components/Drop/StyledDrop.js","webpack://Grommet/./src/js/contexts/ContainerTargetContext/ContainerTargetContext.js","webpack://Grommet/./src/js/components/Button/StyledButton.js","webpack://Grommet/./src/js/components/Button/StyledButtonKind.js","webpack://Grommet/./src/js/components/Collapsible/Collapsible.js","webpack://Grommet/./src/js/components/Heading/Heading.js","webpack://Grommet/./src/js/components/Heading/StyledHeading.js","webpack://Grommet/./src/js/components/Anchor/Anchor.js","webpack://Grommet/./src/js/components/Anchor/StyledAnchor.js","webpack://Grommet/./src/js/components/Avatar/index.js","webpack://Grommet/./src/js/components/Avatar/Avatar.js","webpack://Grommet/./src/js/components/Avatar/StyledAvatar.js","webpack://Grommet/./src/js/components/Text/Text.js","webpack://Grommet/./src/js/components/Text/StyledText.js","webpack://Grommet/./src/js/components/Calendar/Calendar.js","webpack://Grommet/./src/js/components/Calendar/StyledCalendar.js","webpack://Grommet/./src/js/components/Calendar/utils.js","webpack://Grommet/./src/js/components/Card/index.js","webpack://Grommet/./src/js/components/Card/Card.js","webpack://Grommet/./src/js/components/CardBody/index.js","webpack://Grommet/./src/js/components/CardBody/CardBody.js","webpack://Grommet/./src/js/components/CardFooter/index.js","webpack://Grommet/./src/js/components/CardFooter/CardFooter.js","webpack://Grommet/./src/js/components/Footer/Footer.js","webpack://Grommet/./src/js/components/CardHeader/index.js","webpack://Grommet/./src/js/components/CardHeader/CardHeader.js","webpack://Grommet/./src/js/components/Header/Header.js","webpack://Grommet/./src/js/components/Carousel/index.js","webpack://Grommet/./src/js/components/Carousel/Carousel.js","webpack://Grommet/./src/js/contexts/AnnounceContext/index.js","webpack://Grommet/./src/js/contexts/AnnounceContext/AnnounceContext.js","webpack://Grommet/./src/js/contexts/ResponsiveContext/index.js","webpack://Grommet/./src/js/contexts/ResponsiveContext/ResponsiveContext.js","webpack://Grommet/./src/js/contexts/ThemeContext/index.js","webpack://Grommet/./src/js/contexts/ThemeContext/ThemeContext.js","webpack://Grommet/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://Grommet/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://Grommet/./src/js/components/Stack/Stack.js","webpack://Grommet/./src/js/components/Stack/StyledStack.js","webpack://Grommet/./src/js/components/CheckBoxGroup/CheckBoxGroup.js","webpack://Grommet/./src/js/components/CheckBox/CheckBox.js","webpack://Grommet/./src/js/components/CheckBox/StyledCheckBox.js","webpack://Grommet/./src/js/components/CheckBoxGroup/StyledCheckBoxGroup.js","webpack://Grommet/./src/js/components/Chart/Chart.js","webpack://Grommet/./src/js/components/Chart/StyledChart.js","webpack://Grommet/./src/js/components/Chart/calcs.js","webpack://Grommet/./src/js/components/Clock/index.js","webpack://Grommet/./src/js/components/Clock/Clock.js","webpack://Grommet/./src/js/components/Clock/Analog.js","webpack://Grommet/./src/js/components/Clock/Digital.js","webpack://Grommet/./src/js/components/DataChart/index.js","webpack://Grommet/./src/js/components/DataChart/DataChart.js","webpack://Grommet/./src/js/components/Grid/Grid.js","webpack://Grommet/./src/js/components/Grid/StyledGrid.js","webpack://Grommet/./src/js/components/DataChart/Detail.js","webpack://Grommet/./src/js/components/DataChart/Legend.js","webpack://Grommet/./src/js/components/DataChart/XAxis.js","webpack://Grommet/./src/js/components/DataChart/YAxis.js","webpack://Grommet/./src/js/components/DataChart/XGuide.js","webpack://Grommet/./src/js/components/DataChart/YGuide.js","webpack://Grommet/./src/js/components/DataTable/index.js","webpack://Grommet/./src/js/components/DataTable/DataTable.js","webpack://Grommet/./src/js/components/DataTable/Header.js","webpack://Grommet/./src/js/components/TableCell/TableCell.js","webpack://Grommet/./src/js/components/DataTable/Resizer.js","webpack://Grommet/./src/js/components/DataTable/Searcher.js","webpack://Grommet/./node_modules/grommet-icons/icons/FormSearch.js","webpack://Grommet/./src/js/components/TextInput/TextInput.js","webpack://Grommet/./src/js/components/InfiniteScroll/InfiniteScroll.js","webpack://Grommet/./src/js/components/TextInput/StyledTextInput.js","webpack://Grommet/./src/js/components/TableRow/TableRow.js","webpack://Grommet/./src/js/components/Table/Table.js","webpack://Grommet/./src/js/components/TableBody/TableBody.js","webpack://Grommet/./src/js/components/TableHeader/TableHeader.js","webpack://Grommet/./src/js/components/TableFooter/TableFooter.js","webpack://Grommet/./src/js/components/DataTable/Footer.js","webpack://Grommet/./src/js/components/DataTable/Body.js","webpack://Grommet/./src/js/components/DataTable/GroupedBody.js","webpack://Grommet/./src/js/components/DateInput/index.js","webpack://Grommet/./src/js/components/DateInput/DateInput.js","webpack://Grommet/./node_modules/grommet-icons/icons/Calendar.js","webpack://Grommet/./src/js/components/DropButton/DropButton.js","webpack://Grommet/./src/js/components/Form/Form.js","webpack://Grommet/./src/js/components/MaskedInput/MaskedInput.js","webpack://Grommet/./src/js/components/MaskedInput/StyledMaskedInput.js","webpack://Grommet/./src/js/components/DateInput/utils.js","webpack://Grommet/./src/js/components/Diagram/index.js","webpack://Grommet/./src/js/components/Diagram/Diagram.js","webpack://Grommet/./src/js/components/Diagram/StyledDiagram.js","webpack://Grommet/./src/js/components/Distribution/index.js","webpack://Grommet/./src/js/components/Distribution/Distribution.js","webpack://Grommet/./src/js/components/FormField/index.js","webpack://Grommet/./src/js/components/FormField/FormField.js","webpack://Grommet/./src/js/components/RadioButtonGroup/RadioButtonGroup.js","webpack://Grommet/./src/js/components/RadioButton/RadioButton.js","webpack://Grommet/./src/js/components/RadioButton/StyledRadioButton.js","webpack://Grommet/./src/js/components/Grommet/index.js","webpack://Grommet/./src/js/components/Grommet/Grommet.js","webpack://Grommet/./src/js/themes/grommet.js","webpack://Grommet/./src/js/themes/dark.js","webpack://Grommet/./src/js/components/Grommet/StyledGrommet.js","webpack://Grommet/./src/js/components/Image/Image.js","webpack://Grommet/./src/js/components/Image/StyledImage.js","webpack://Grommet/./src/js/components/Layer/Layer.js","webpack://Grommet/./src/js/components/Layer/LayerContainer.js","webpack://Grommet/./src/js/components/List/index.js","webpack://Grommet/./src/js/components/List/List.js","webpack://Grommet/./src/js/components/Main/index.js","webpack://Grommet/./src/js/components/Main/Main.js","webpack://Grommet/./src/js/components/Markdown/index.js","webpack://Grommet/./src/js/components/Markdown/Markdown.js","webpack://Grommet/./node_modules/markdown-to-jsx/dist/esm.js","webpack://Grommet/./src/js/components/Paragraph/Paragraph.js","webpack://Grommet/./src/js/components/Paragraph/StyledParagraph.js","webpack://Grommet/./src/js/components/Menu/Menu.js","webpack://Grommet/./src/js/components/Meter/Meter.js","webpack://Grommet/./src/js/components/Meter/Bar.js","webpack://Grommet/./src/js/components/Meter/Circle.js","webpack://Grommet/./src/js/components/Nav/index.js","webpack://Grommet/./src/js/components/Nav/Nav.js","webpack://Grommet/./src/js/components/RangeInput/index.js","webpack://Grommet/./src/js/components/RangeInput/RangeInput.js","webpack://Grommet/./src/js/components/RangeInput/StyledRangeInput.js","webpack://Grommet/./src/js/components/RangeSelector/index.js","webpack://Grommet/./src/js/components/RangeSelector/RangeSelector.js","webpack://Grommet/./src/js/components/RangeSelector/EdgeControl.js","webpack://Grommet/./src/js/components/RoutedAnchor/index.js","webpack://Grommet/./src/js/components/RoutedAnchor/RoutedAnchor.js","webpack://Grommet/./src/js/components/RoutedButton/index.js","webpack://Grommet/./src/js/components/RoutedButton/RoutedButton.js","webpack://Grommet/./src/js/components/Select/index.js","webpack://Grommet/./src/js/components/Select/Select.js","webpack://Grommet/./src/js/components/Select/SelectContainer.js","webpack://Grommet/./src/js/components/Select/StyledSelect.js","webpack://Grommet/./src/js/components/Sidebar/index.js","webpack://Grommet/./src/js/components/Sidebar/Sidebar.js","webpack://Grommet/./src/js/components/SkipLink/index.js","webpack://Grommet/./src/js/components/SkipLink/SkipLink.js","webpack://Grommet/./src/js/components/SkipLinks/index.js","webpack://Grommet/./src/js/components/SkipLinks/SkipLinks.js","webpack://Grommet/./src/js/components/SkipLinkTarget/index.js","webpack://Grommet/./src/js/components/SkipLinkTarget/SkipLinkTarget.js","webpack://Grommet/./src/js/components/Tab/index.js","webpack://Grommet/./src/js/components/Tab/Tab.js","webpack://Grommet/./src/js/components/Tab/StyledTab.js","webpack://Grommet/./src/js/components/Tabs/index.js","webpack://Grommet/./src/js/components/Tabs/Tabs.js","webpack://Grommet/./src/js/components/Tabs/StyledTabs.js","webpack://Grommet/./src/js/components/TextArea/index.js","webpack://Grommet/./src/js/components/TextArea/TextArea.js","webpack://Grommet/./src/js/components/TextArea/StyledTextArea.js","webpack://Grommet/./src/js/components/Video/index.js","webpack://Grommet/./src/js/components/Video/Video.js","webpack://Grommet/./src/js/components/Video/StyledVideo.js","webpack://Grommet/./src/js/components/WorldMap/index.js","webpack://Grommet/./src/js/components/WorldMap/WorldMap.js","webpack://Grommet/./src/js/components/WorldMap/StyledWorldMap.js","webpack://Grommet/./node_modules/grommet-styles/es6/utils/colors.js","webpack://Grommet/./node_modules/grommet-styles/es6/styles/color.js","webpack://Grommet/./node_modules/grommet-styles/es6/styles/size.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","styled","defaultProps","theme","base","deepMerge","StyledIcon","obj","_react","_styledComponents","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","_interopRequireWildcard","_grommetStyles","_defaultProps","WeakMap","_extends","assign","target","arguments","length","source","apply","this","colorCss","css","props","colorStyle","color","global","colors","icon","IconInner","_ref","a11yTitle","rest","size","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","createElement","displayName","withConfig","componentId","_ref2","string","_ref2$size","_split","viewBox","split","w","h","scale","dimension","parseFloat","match","_ref3","_ref4","extend","setPrototypeOf","FormContext","createContext","useFormField","error","info","useFormInput","_","valueProp","initialValue","useState","undefined","setValue","nextValue","normalizeColor","dark","colorSpec","result","light","hexExp","rgbExp","rgbaExp","hslExp","canExtractRGBArray","test","getRGBArray","map","v","parseInt","parseHexToRGB","red","green","blue","alpha","splice","g","b","hue2rgb","q","inT","Math","round","hslToRGB","opacity","SIZE_MAP","sizeStyle","StyledTableCell","td","verticalAlign","align","background","backgroundStyle","border","borderStyle","responsive","pad","edgeStyle","box","responsiveBreakpoint","tableContextTheme","StyledTableDataCaption","caption","edgeSize","xxsmall","StyledTableRow","tr","StyledTableBody","tbody","StyledTableHeader","thead","StyledTableFooter","tfoot","StyledTable","table","genericStyles","StyledDataTable","Table","fillProp","fillStyle","dataTable","body","hoverStyle","row","hover","StyledDataTableRow","TableRow","onClick","onClickRow","active","StyledDataTableBody","TableBody","focusStyle","skipSvgChildren","forceOutline","StyledDataTableHeader","TableHeader","StyledDataTableFooter","TableFooter","pin","StyledDataTableCell","TableCell","context","header","join","pinned","StyledPlaceholder","top","bottom","isObject","item","Array","isArray","forEach","freeze","sources","output","TableContext","parseMetricToNum","metric","lineHeight","font","ceil","breakpoint","content","findAllByType","component","type","matches","push","children","child","concat","availableAt","componentType","url","badge","label","toLowerCase","path","parts","toString","slice","reduce","acc","index","abs","datumValue","datum","columns","primaryKey","column","primary","search","data","filters","onSearch","sort","regexps","filter","RegExp","replace","some","external","direction","before","after","d1","d2","sumReducer","accumulated","next","reducers","max","min","sum","reducersInitValues","Number","MAX_VALUE","MIN_VALUE","aggregateColumn","aggregate","aggregateValues","footer","groupBy","groupMap","groupByProperty","groupValue","group","groups","expanded","expand","normalizeBackground","arg","evalStyle","backgroundArg","backgroundColor","colorIsDark","darkContext","isDark","backgroundAndTextColors","textArg","textColor","text","medium","getRGBA","shade","textColorArg","lastIndexOf","image","backgroundStyles","repeat","position","activeStyle","selectedStyle","selected","hoverIndicator","normalizeProp","rowProp","prop","Cell","backgroundProp","columnPin","render","cellPin","primaryProperty","scope","useContext","ThemeContext","renderContexts","textProps","Text","_getPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","Parent","args","Class","a","instance","Function","_cache","Map","fn","TypeError","Wrapper","constructor","writable","configurable","_taggedTemplateLiteralLoose","strings","raw","last","defaultMathSymbols","symbols","postfix","symbol","f","factorial","NaN","Infinity","notation","precedence","rightToLeft","argCount","regSymbol","infix","pow","prefix","of","func","sqrt","_Error","subClass","superClass","PolishedError","code","self","ReferenceError","_assertThisInitialized","Error","unitRegExp","exec","operators","values","op","pop","calculate","expression","additionalSymbols","symbolMap","mergeSymbolMaps","pattern","val","lastIndex","afterValue","token","bad","notNumber","notNewValue","notAfterValue","curr","prev","reverseString","str","reverse","math","formula","reversedFormula","formulaMatch","every","unit","cssVariableRegex","cssVar","cssVariable","passThrough","variableValue","document","documentElement","getComputedStyle","getPropertyValue","trim","capitalizeString","charAt","toUpperCase","positionMap","generateProperty","splitProperty","joinedProperty","generateStyles","valuesWithDefaults","styles","directionalProperty","_len","_key","firstValue","_values$","secondValue","_values$2","thirdValue","_values$3","fourthValue","endsWith","suffix","substr","cssRegex","stripUnit","unitReturn","matchedValue","console","warn","pxtoFactory","to","pxval","newPxval","newBase","em","cssRegex$1","getValueAndUnit","ratioNames","minorSecond","majorSecond","minorThird","majorThird","perfectFourth","augFourth","perfectFifth","minorSixth","goldenSection","majorSixth","minorSeventh","majorSeventh","octave","majorTenth","majorEleventh","majorTwelfth","doubleOctave","modularScale","steps","ratio","realBase","realRatio","rem","between","fromSize","toSize","minScreen","maxScreen","_getValueAndUnit","unitlessFromSize","fromSizeUnit","_getValueAndUnit2","unitlessToSize","toSizeUnit","_getValueAndUnit3","unitlessMinScreen","minScreenUnit","_getValueAndUnit4","unitlessMaxScreen","maxScreenUnit","slope","toFixed","clearFix","parent","clear","display","cover","offset","right","left","ellipsis","width","maxWidth","overflow","textOverflow","whiteSpace","wordWrap","_createForOfIteratorHelperLoose","allowArrayLike","it","iterator","minLen","_arrayLikeToArray","from","_unsupportedIterableToArray","done","arr","len","arr2","fluidRange","cssProp","_step","mediaQueries","fallbacks","_iterator","_extends2","_extends3","dataURIRegex","formatHintMap","woff","woff2","ttf","otf","eot","svg","svgz","generateFormatHint","format","formatHint","generateFileReferences","fontFilePath","fileFormats","isDataURI","generateSources","localFonts","fontReferences","generateLocalReferences","fontFace","fontFamily","fontStretch","fontStyle","fontVariant","fontWeight","_ref$fileFormats","_ref$formatHint","unicodeRange","fontDisplay","fontVariationSettings","fontFeatureSettings","fontFaceDeclaration","src","JSON","parse","stringify","hideText","textIndent","hideVisually","clip","height","margin","padding","hiDPI","constructGradientValue","literals","template","substitutions","definedValues","substitute","_templateObject","linearGradient","colorStops","fallback","_ref$toDirection","toDirection","backgroundImage","normalize","html","textSizeAdjust","main","h1","fontSize","hr","boxSizing","pre","borderBottom","textDecoration","small","sub","sup","img","textTransform","WebkitAppearance","outline","fieldset","legend","progress","textarea","outlineOffset","details","summary","_templateObject$1","radialGradient","_ref$extent","extent","_ref$position","_ref$shape","shape","retinaImage","filename","backgroundSize","extension","retinaFilename","retinaSuffix","ext","rFilename","functionsMap","easeInBack","easeInCirc","easeInCubic","easeInExpo","easeInQuad","easeInQuart","easeInQuint","easeInSine","easeOutBack","easeOutCubic","easeOutCirc","easeOutExpo","easeOutQuad","easeOutQuart","easeOutQuint","easeOutSine","easeInOutBack","easeInOutCirc","easeInOutCubic","easeInOutExpo","easeInOutQuad","easeInOutQuart","easeInOutQuint","easeInOutSine","timingFunctions","timingFunction","getBorderWidth","pointingDirection","fullWidth","halfWidth","fullHeight","halfHeight","getBorderColor","foregroundColor","triangle","_ref$backgroundColor","widthAndUnit","heightAndUnit","isNaN","borderColor","borderWidth","wrap","overflowWrap","wordBreak","colorToInt","convertToInt","hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","secondComponent","lightnessModification","namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","parseToRgb","normalizedColor","normalizedColorName","nameToHex","_alpha","rgbMatched","rgbaMatched","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_rgbColorString","_hslRgbMatched","parseToHsl","delta","rgbToHsl","reduceHexValue","numberToHex","hex","colorToHex","convertToHex","hslToHex","hsl","hsla","rgb","rgba","rgbValue","toColorString","isRgba","isRgb","isHsla","isHsl","curry","curried","combined","adjustHue","degree","hslColor","curriedAdjustHue","complement","guard","lowerBoundary","upperBoundary","darken","amount","curriedDarken","desaturate","curriedDesaturate","getLuminance","rgbColor","_Object$keys$map","channel","getContrast","color1","color2","luminance1","luminance2","grayscale","hslToColorString","invert","lighten","curriedLighten","meetsContrastGuidelines","contrastRatio","AA","AALarge","AAA","AAALarge","mix","weight","otherColor","parsedColor1","parsedColor2","alphaDelta","x","weight1","weight2","floor","curriedMix","opacify","parsedColor","curriedOpacify","readableColor","lightReturnColor","darkReturnColor","strict","isLightColor","preferredReturnColor","rgbToColorString","saturate","curriedSaturate","setHue","curriedSetHue","setLightness","curriedSetLightness","setSaturation","curriedSetSaturation","percentage","curriedShade","tint","curriedTint","transparentize","curriedTransparentize","animation","multiMode","backgroundImages","properties","backgrounds","sideMap","sideKeyword","unshift","borderRadius","side","radius","uppercaseSide","generateSelectors","state","statefulSelectors","states","stateMap","selectors","buttons","positionMap$1","stateMap$1","template$1","textInputs","transitions","transitionsString","transition","baseStyle","family","plain","baseBackground","controlBorderStyle","control","kind","breakpoints","breakpointStyle","horizontal","vertical","horizontalVerticalEqual","start","end","focusStyles","justBorder","focus","shadow","unfocusStyles","adjustPad","orientation","input","placeholderColor","placeholder","placeholderStyle","inputStyle","inputSizeStyle","overflowProp","ALIGN_SELF_MAP","center","stretch","alignSelf","gridArea","componentStyle","disabled","plainInputStyle","colorValue","TEXT_ALIGN_MAP","textAlignStyle","textAlign","ref","innerRef","useRef","useEffect","current","accentColors","statusColors","critical","warning","ok","unknown","focusColor","brand","colorArray","array","generate","baseSpacing","baseFontSize","fontScale","fontSizing","factor","iconBase","duration","jiggle","borderSize","xsmall","large","xlarge","none","hair","full","deviceBreakpoints","phone","tablet","computer","controlBorderWidth","debounceDelay","drop","shadowSize","zIndex","elevation","strong","weak","spacing","xxlarge","accordion","panel","heading","level","icons","collapse","FormUp","FormDown","anchor","avatar","button","timing","calendar","daySize","slideDuration","previous","Previous","Next","FormPrevious","FormNext","card","container","carousel","Subtract","chart","checkBox","check","thickness","toggle","knob","checkBoxGroup","clock","analog","hour","minute","second","huge","digital","collapsible","minSpeed","baseline","dateInput","groupHeader","groupEnd","gap","units","ascending","contract","descending","resize","diagram","line","formField","help","grommet","1","2","3","4","5","6","layer","overlay","list","maskedInput","menu","down","meter","paragraph","radioButton","radioButtonGroup","rangeInput","track","thumb","rangeSelector","select","options","step","skipLinks","tab","tabs","textArea","textInput","tip","video","captions","closedCaption","ClosedCaption","configure","Actions","fullScreen","Expand","pause","Pause","play","Play","reduceVolume","VolumeLow","volume","Volume","scrubber","worldMap","continent","place","deepFreeze","AccordionContext","ReactDOM","isNotAncestorOf","contains","hidden","restrictScroll","trapFocus","bodyOverflowStyle","setBodyOverflowStyle","timer","setTimeout","getBodyChildElements","makeNodeUnfocusable","style","makeNodeFocusable","clearTimeout","aria-hidden","bounds","valuesX","valuesY","boundsX","boundsY","StyledHour","StyledMinute","StyledSecond","StyledAnalog","StyledDigitalDigit","div","previousUp","keyframes","previousDown","StyledDigitalPrevious","nextUp","nextDown","StyledDigitalNext","aspect","point","dim","half","stroke","fill","cx","cy","y","off1","off2","fine","lastValue","dateFormat","startDate","endDate","getTime","day","month","year","Intl","DateTimeFormat","ExpanderCell","onToggle","ExpandIcon","normalizedThemeProps","Box","Button","hiddenPositionStyle","StyledLayer","targetBounds","StyledOverlay","getMargin","axis","marginValue","marginApplied","getBounds","KEYFRAMES","true","false","getAnimationStyle","animate","animationDuration","POSITIONS","desktopContainerStyle","modal","responsiveContainerStyle","StyledContainer","roundStyle","StyledMeter","strokeOpacity","neutralExp","valuesLength","colorIndex","neutralColors","k","applyKey","option","TabsContext","reg","Accordion","forwardRef","activeIndex","multiple","onActive","activeIndexes","setActiveIndexes","stateActiveIndex","setStateActiveIndex","derivedActiveIndexes","role","Children","toArray","Provider","onPanelChange","nextActiveIndexes","nextActiveIndex","AccordionWrapper","onBlur","onFocus","tag","as","tabIndex","focusable","useMemo","setFocus","clickProps","event","adjustedTabIndex","contents","firstIndex","boxAs","StyledBoxGap","directionProp","darkChanged","backgroundIsDark","StyledBox","aria-label","elevationProp","wrapProp","widthProp","heightProp","Keyboard","onEnter","BoxWrapper","responsiveBorderStyle","responsiveStyle","element","parentNode","getBoundingClientRect","rect","scrollWidth","scrollHeight","tagName","documentTags","includes","node","activeElement","parentElement","getElementsByTagName","excludeMatch","targetChildPosition","prepend","appendChild","window","scrollX","scrollY","scrollTo","hasAttribute","setAttribute","elements","prior","getAttribute","removeAttribute","autoFocusingTags","findVisibleParent","offsetParent","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","PI","cos","sin","startAngle","endAngle","normalizedEndAngle","arcSweep","anglePer","PortalContext","windowWidth","sortedBreakpoints","first","lastBreakpoint","breakpointSize","_StyledIcon","strokeWidth","extendDefaultTheme","_utils","_themes","_default","_base","points","transform","KEYS","8","9","13","27","32","37","38","39","40","188","16","KeyboardWrapper","onKeyDown","restProps","onKeyDownHandler","useCallback","keyCode","which","callbackName","addEventListener","removeEventListener","cloneElement","only","ALIGN_MAP","alignStyle","ALIGN_CONTENT_MAP","around","alignContentStyle","alignContent","BASIS_MAP","auto","basisStyle","basis","elevationStyle","FLEX_MAP","grow","shrink","flexStyle","flex","JUSTIFY_MAP","evenly","justifyStyle","justify","WRAP_MAP","wrapStyle","ROUND_MAP","SLIDE_SIZES","PULSE_SIZES","JIGGLE_SIZES","ZOOM_SIZES","animationBounds","deg","normalizeTiming","time","defaultTiming","animationObjectStyle","animationTransition","delay","animationObjectInitialStyle","animationAncilaries","animationStyle","animationItemStyle","interactiveStyle","getHoverIndicatorStyle","getSize","heightObjectStyle","heightStyle","widthObjectStyle","widthStyle","getBreakpointStyle","directionStyle","responsiveSize","corner","overflowStyle","focusIndicator","responsiveMetric","borderMetric","borderOffset","responsiveBorderMetric","responsiveBorderOffset","adjustedBorder","adjustedBorder2","gapStyle","AccordionPanel","onMouseOut","onMouseOver","setHover","iconColor","AccordionIcon","defaultHoverColor","abutMargin","headingColor","contentBorder","panelBorder","aria-selected","aria-expanded","Heading","Collapsible","open","AccordionPanelWrapper","getIconColor","paths","colorProp","shift","objColor","href","kindArg","secondary","themePaths","onMouseOverButton","onMouseOutButton","buttonIcon","styledButtonResult","domTag","StyledButtonKind","fillContainer","count","sizeProp","StyledButton","hasIcon","hasLabel","Tip","ButtonWrapper","tipRef","dropProps","over","setOver","componentRef","useForwardedRef","isValidElement","onMouseLeave","callerRef","Drop","TipWrapper","restrictFocus","dropTarget","originalFocusedElement","setOriginalFocusedElement","dropContainer","setDropContainer","containerTarget","ContainerTargetContext","getNewContainer","setFocusWithoutScroll","removeChild","createPortal","DropContainer","dir","DropWrapper","preventLayerClose","stopPropagation","defaultAlign","defaultPortalContext","onClickOutside","onEsc","portalContext","portalId","nextPortalContext","dropRef","scrollParents","preserveHeight","innerWidth","windowHeight","innerHeight","maxHeight","targetRect","containerRect","percentVisibleAreaBelow","addScrollListeners","findScrollParents","scrollParent","removeScrollListeners","onClickDocument","clickedPortalId","attr","onResize","StyledDrop","alignProp","data-g-portal-id","FocusedContainer","dropKeyFrames","getTransformOriginStyle","radiusStyle","isIconOnly","basicStyle","padStyle","getHoverColor","plainStyle","primaryStyle","activeButtonStyle","disabledStyle","disabledButtonStyle","themePath","kindPartStyles","partStyles","themishObj","hoverIndicatorStyle","AnimatedBox","speedProp","openArg","setOpen","setAnimate","setSize","speed","setSpeed","containerRef","nextSize","nextSpeed","useLayoutEffect","requestAnimationFrame","CollapsibleWrapper","StyledHeading","HeadingWrapper","headingTheme","levelStyle","responsiveData","truncate","Anchor","coloredIcon","StyledAnchor","AnchorWrapper","avatarSize","avatarTextSize","avatarProps","AvatarChildren","StyledAvatar","StyledAvatarText","StyledText","TextWrapper","weightStyle","wordBreakStyle","shouldForwardProp","defaultValidatorFn","headingPadMap","activeDates","timeStamp","normalizeForTimezone","date","refDate","localTimezoneToUTC","toISOString","normalizeReference","reference","dates","normalizedReference","setHours","buildDisplayBounds","firstDayOfWeek","setDate","getDay","subtractDays","addDays","CalendarDayButton","CalendarDay","isInRange","isSelected","otherMonth","buttonProps","StyledDayContainer","StyledDay","disabledProp","inRange","CalendarCustomDay","Calendar","activeDateProp","activeDate","boundsProp","dateProp","datesProp","daysOfWeek","locale","onReference","onSelect","range","referenceProp","showAdjacentDays","setActiveDate","setDates","datesArray","setReference","setBounds","displayBounds","setDisplayBounds","targetDisplayBounds","setTargetDisplayBounds","slide","setSlide","animating","setAnimating","nextDisplayBounds","diffBoundsAboveYear","weeks","daysApart","days","firstDayInMonth","PreviousIcon","NextIcon","previousMonth","endOfMonth","subtractMonths","startOfMonth","nextMonth","addMonths","daysRef","setActive","changeReference","nextReference","betweenDates","selectDate","selectedDate","nextDates","nextDate","adjustedDate","priorDates","selDate","priorDate","formatToLocalYYYYMMDD","adjustedDates","StyledWeek","getMonth","getDate","dateString","selectedState","withinDates","dayDisabled","toDateString","StyledCalendar","onPreviousMonth","onNextMonth","previousInBound","nextInBound","toLocaleDateString","weekday","renderDaysOfWeek","onUp","preventDefault","onDown","onLeft","onRight","StyledWeeksContainer","StyledWeeks","CalendarWrapper","weeksContainerSizeStyle","translateYFrom","translateYTo","slideTransition","slideStyle","daySizeStyle","hourDelta","getHours","months","years","setFullYear","getFullYear","targetMonth","setMonth","sameDay","date1","date2","sameDayOrAfter","sameDayOrBefore","getTimezoneOffset","Card","CardWrapper","CardBodyWrapper","CardFooterWrapper","Footer","FooterWrapper","CardHeaderWrapper","Header","HeaderWrapper","Carousel","initialChild","onChild","controls","timerRef","indexes","setIndexes","priorActiveIndex","setInterval","clearInterval","showArrows","showSelectors","CurrentIcon","wrappedChildren","nextIconDisabled","previousIconDisabled","Stack","guidingChild","CarouselWrapper","AnnounceContext","message","timeout","announcer","querySelector","id","insertBefore","firstChild","createAnnouncer","innerHTML","ResponsiveContext","Extend","Consumer","propTypes","PropTypes","isRequired","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","ReactPropTypes","bool","number","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","StackWrapper","interactiveChild","prunedChildren","toChildIndex","guidingIndex","interactiveIndex","styledChildren","interactive","guiding","StyledStackLayer","buildStyledChildren","StyledStack","stack","styleMap","CheckBoxGroup","labelKey","valueKey","onChange","optionsProp","formContext","onCheckBoxChange","optionValue","optionIndex","persist","adjustedEvent","StyledCheckBoxGroup","valueOption","checked","optionProps","CheckBox","RadioButtonGroupWrapper","stopLabelClick","checkedProp","focusProp","indeterminate","setChecked","themeableProps","CheckedIcon","IndeterminateIcon","visual","StyledCheckBoxToggle","StyledCheckBoxKnob","StyledCheckBoxBox","StyledCheckBoxIcon","preserveAspectRatio","checkBoxNode","StyledCheckBox","StyledCheckBoxInput","removeUndefined","normalizedLabel","StyledCheckBoxContainer","htmlFor","CheckBoxWrapper","span","defaultSize","defaultValues","Chart","propsBounds","dash","onHover","propsOpacity","propsSize","propsValues","normalizeValues","normalizeBounds","inset","padSize","strokeDasharray","containerSize","setContainerSize","needContainerSize","gapWidth","autoWidth","sizeWidth","sizeHeight","viewBounds","useGradient","containerNode","hoverProps","valueToCoordinate","xValue","yValue","valueArg","valueColor","valueOnHover","valueOpacity","valueThickness","valueRest","renderArea","renderPoint","valueX","valueY","off","colorName","defs","gradientRect","drawing","strokeLinecap","strokeLinejoin","uniqueGradientId","gradientId","maskId","x1","y1","x2","y2","c1","c2","gradientColor","stopColor","mask","StyledChart","typeProp","ChartWrapper","animateBounds","thicknessPad","decimals","alignMax","interval","alignMin","calcBounds","minX","maxX","minY","maxY","coarseness","calcValues","cX","cY","deltaX","intervalX","toPrecision","deltaY","intervalY","stepInterval","minSteps","maxSteps","dimensions","yAxis","yStepInterval","xAxis","xStepInterval","TIME_REGEXP","DURATION_REGEXP","parseTime","hourLimit","hours","hours12","minutes","seconds","getMinutes","getSeconds","Clock","precision","run","setElements","atDurationEnd","increment","nextElements","Analog","Digital","ClockWrapper","secondHand","minuteHand","hourAngle","minuteAngle","secondAngle","secondSize","minuteSize","hourSize","getClockDimensions","halfSize","transformOrigin","version","Digit","setPrevious","changing","setChanging","Element","sep","tens","ones","DataChart","axisProp","detail","guideProp","guide","padProp","seriesProp","series","activeProperty","setActiveProperty","xRef","spacerRef","getPropertySeries","find","charts","seriesValues","chartValues","totals","cp","aProperty","aValue","granularities","coarse","heightYGranularity","granularity","chartProps","chartBounds","mergedValues","__","alignedBounds","calcs","seriesStyles","calcThickness","pColor","pointIndex","seriesStyle","halfPad","dateFormats","createDateFormat","renderValue","serie","dataIndex","xAxisElement","XAxis","yAxisElement","YAxis","stackFill","stackElement","XGuide","YGuide","chartRest","cProp","j","pProp","Detail","legendElement","Legend","Grid","available","rows","areas","DataChartWrapper","StyledGrid","a11yTitleProp","rowsProp","GridWrapper","CSS","supports","JUSTIFY_CONTENT_MAP","justifyContentStyle","justifyContent","getRepeatSize","sizeFor","isRow","mapped","attrs","area","cells","areasStyle","columnsStyle","gapSize","rowsStyle","grid","DetailControl","detailIndex","setDetailIndex","detailRefs","pageX","pageY","currentTarget","propertyStyle","Fragment","Swatch","isActive","axisValues","divideBy","maxValue","doublePad","axisValue","contexts","DataTableWrapper","onMore","onSortProp","onSort","resizeable","rowProps","sortProp","sortable","normalizePrimaryProperty","showFooter","filtering","setFiltering","initializeFilters","setFilters","setSort","adjustedData","filterAndSortData","footerValues","buildFooterValues","buildGroups","buildGroupState","groupState","setGroupState","setSelected","widths","setWidths","headerRef","footerRef","headerHeight","setHeaderHeight","footerHeight","setFooterHeight","nextHeaderHeight","nextFooterHeight","nextWidths","onFiltering","onFilter","nextFilters","nextSelected","nextSort","nextGroupState","onExpand","expandedKeys","GroupedBody","Body","pinnedBackground","separateThemeProps","cellProps","iconProps","StyledHeaderCellButton","layoutProps","buttonStyle","StyledContentBox","tablePin","Icon","unitsContent","resizer","Resizer","searcher","Searcher","verticalAlignToJustify","middle","className","colSpan","tableContext","mergedProps","TableCellWrapper","InteractionBox","setStart","setWidth","onMouseDown","nodeName","clientX","onMouseMove","nextWidth","onMouseUp","remove","inputRef","needsFocus","TextInput","FormSearch","renderLabel","suggestion","stringLabel","ContainerBox","dropHeight","defaultDropAlign","defaultMessages","enterSelect","suggestionsCount","suggestionsExist","suggestionIsOpen","defaultSuggestion","defaultValue","dropAlign","messages","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","readOnly","suggestions","announce","suggestionsRef","suggestionRefs","showDrop","setShowDrop","handleSuggestionSelect","handleTextSelect","activeSuggestionIndex","setActiveSuggestionIndex","defaultIndex","indexOfValue","buttonNode","optionsNode","isNodeAfterScroll","offsetTop","isNodeBeforeScroll","openDrop","closeDrop","onNextSuggestion","onPreviousSuggestion","showStyledPlaceholder","extraProps","StyledSuggestions","InfiniteScroll","items","itemRef","renderedLabel","StyledTextInputContainer","nativeEvent","stopImmediatePropagation","onTab","StyledTextInput","autoComplete","TextInputWrapper","InfiniteScrollWrapper","renderMarker","showProp","show","setShow","lastPage","renderPageBounds","setRenderPageBounds","pageHeights","setPageHeights","pendingLength","setPendingLength","aboveMarkerRef","belowMarkerRef","evaluate","scrollTop","nextBeginPage","pagesHeight","nextEndPage","showPage","debounce","sp","showIndex","showNode","findScrollParent","scrollIntoView","rendered","nextPageHeights","lastBottom","topIndex","bottomIndex","aboveHeight","belowHeight","marker","renderedMarker","getInputPadBySide","ol","TableRowWrapper","TableWrapper","TableBodyWrapper","TableHeaderWrapper","TableFooterWrapper","scrollableAncestor","rowRef","primaryValue","memberCount","DateInput","refArg","calendarProps","inline","inputProps","iconSize","schema","formatToSchema","part","char","regexp","fixed","valueToText","textValue","setTextValue","internalValue","setInternalValue","normalizedValue","DropButton","dropContent","MaskedInput","nextTextValue","textToValue","DateInputWrapper","onClose","onOpen","buttonRef","onDropClose","onClickInternal","DropButtonWrapper","invalid","required","defaultTouched","defaultValidationResults","errors","infos","validate","validations","omitValid","nextErrors","nextInfos","validation","status","Form","errorsProp","infosProp","onReset","onSubmit","onValidate","validateOn","valueState","setValueState","touched","setTouched","validationResults","setValidationResults","prevValidationResults","entries","nextValidationResults","errorArg","infoArg","validateArg","validateSingle","aValidate","value2","inForm","componentValue","inputValue","setInputValue","formValue","prevValue","nextComponentValue","nextTouched","FormWrapper","parseValue","valueParts","valueIndex","maskIndex","found","matching","beginIndex","endIndex","minLength","defaultMask","setValueParts","activeMaskIndex","setActiveMaskIndex","activeOptionIndex","setActiveOptionIndex","caretIndex","selectionStart","HTMLInputElement","Event","bubbles","dispatchEvent","onChangeInput","onOption","nextValueParts","onNextOption","onPreviousOption","onSelectOption","onHideDrop","StyledMaskedInputContainer","StyledMaskedInput","MaskedInputWrapper","dateIndex","charCodeZero","charCodeAt","charCodeNine","pullDigits","addDate","computeMidPoint","fromPoint","toPoint","COMMANDS","curved","midPoint","cmds","direct","rectilinear","findTarget","getElementById","Diagram","connections","setDimensions","connectionPoints","setConnectionPoints","svgRef","savedOnResize","onResizeHandler","placeConnections","updatedConnectionPoints","fromTarget","toTarget","fromElement","toElement","fromRect","toRect","cleanedRest","offsetWidth","StyledDiagram","DiagramWrapper","Value","Distribution","subIndex","childBasis","total","accumulator","subTotal","DistributionWrapper","grommetInputNames","grommetInputPadNames","FormFieldBox","FormFieldContentBox","StyledMessageContainer","messageType","Message","containerProps","messageContent","Input","comp","InputComponent","aria-invalid","FormField","contentProps","errorProp","infoProp","contextOnBlur","formFieldTheme","themeBorder","wantContentPad","RadioButtonGroup","containerRest","themeContentProps","abut","labelStyle","outerBackground","outerStyle","innerProps","mergedMargin","outerProps","FormFieldWrapper","optionRefs","onNext","onPrevious","optionDisabled","optionRest","RadioButton","aRef","StyledRadioButtonLabel","circle","StyledRadioButtonContainer","onMouseEnter","StyledRadioButton","StyledRadioButtonInput","StyledRadioButtonBox","StyledRadioButtonIcon","RadioButtonWrapper","FullGlobalStyle","createGlobalStyle","Grommet","deviceResponsive","getBreakpoint","setState","getDerivedStateFromProps","nextProps","prevState","themeMode","stateTheme","themeProp","themeModeProp","nextTheme","baseTheme","themeBackground","defaultMode","componentDidMount","componentWillUnmount","userAgent","getDeviceBreakpoint","StyledGrommet","Component","GrommetWrapper","fullStyle","face","cssVars","Image","onError","imageMissing","setImageMissing","StyledImage","opacityProp","ImageWrapper","FIT_MAP","contain","fitStyle","fit","Layer","layerContainer","setLayerContainer","layerClone","cloneNode","clonedContainer","animationDirection","clone","LayerContainer","LayerWrapper","HiddenAnchor","fullBounds","layerTarget","setTargetBounds","anchorRef","layerRef","updateBounds","StyledList","ul","itemFocus","StyledItem","unfocusStyle","List","action","itemProps","secondaryKey","onClickItem","listRef","setItemFocus","boxProps","adjustedBackground","ListWrapper","MainWrapper","GrommetMarkdownWrapper","components","overrides","Paragraph","th","_typeof","ATTRIBUTE_TO_JSX_PROP_MAP","accesskey","allowfullscreen","allowtransparency","autocomplete","autofocus","autoplay","cellpadding","cellspacing","charset","class","classid","colspan","contenteditable","contextmenu","crossorigin","enctype","for","formaction","formenctype","formmethod","formnovalidate","formtarget","frameborder","hreflang","inputmode","keyparams","keytype","marginheight","marginwidth","maxlength","mediagroup","minlength","novalidate","radiogroup","readonly","rowspan","spellcheck","srcdoc","srclang","srcset","tabindex","usemap","namedCodesToUnicode","amp","apos","gt","lt","nbsp","quot","DO_NOT_PROCESS_HTML_ELEMENTS","ATTR_EXTRACTOR_R","AUTOLINK_MAILTO_CHECK_R","BLOCK_END_R","BLOCKQUOTE_R","BLOCKQUOTE_TRIM_LEFT_MULTILINE_R","BREAK_LINE_R","BREAK_THEMATIC_R","CODE_BLOCK_FENCED_R","CODE_BLOCK_R","CODE_INLINE_R","CONSECUTIVE_NEWLINE_R","CR_NEWLINE_R","FOOTNOTE_R","FOOTNOTE_REFERENCE_R","FORMFEED_R","GFM_TASK_R","HEADING_R","HEADING_SETEXT_R","HTML_BLOCK_ELEMENT_R","HTML_CHAR_CODE_R","HTML_COMMENT_R","HTML_CUSTOM_ATTR_R","HTML_SELF_CLOSING_ELEMENT_R","INTERPOLATION_R","LINK_AUTOLINK_BARE_URL_R","LINK_AUTOLINK_MAILTO_R","LINK_AUTOLINK_R","LIST_ITEM_END_R","LIST_LOOKBEHIND_R","CAPTURE_LETTER_AFTER_HYPHEN","NP_TABLE_R","PARAGRAPH_R","REFERENCE_IMAGE_OR_LINK","REFERENCE_IMAGE_R","REFERENCE_LINK_R","SQUARE_BRACKETS_R","SHOULD_RENDER_AS_BLOCK_R","TAB_R","TABLE_SEPARATOR_R","TABLE_TRIM_PIPES","TABLE_CELL_END_TRIM","TABLE_CENTER_ALIGN","TABLE_LEFT_ALIGN","TABLE_RIGHT_ALIGN","TEXT_BOLD_R","TEXT_EMPHASIZED_R","TEXT_STRIKETHROUGHED_R","TEXT_ESCAPED_R","TEXT_PLAIN_R","TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R","HTML_LEFT_TRIM_AMOUNT_R","UNESCAPE_URL_R","LIST_ITEM_PREFIX_R","LIST_ITEM_R","LIST_R","LINK_R","IMAGE_R","BLOCK_SYNTAXES","slugify","parseTableAlignCapture","parseTableRow","inTable","parseTable","parseTableAlign","parseTableCells","getTableStyle","parserFor","substring","order","normalizeWhitespace","inlineRegex","simpleInlineRegex","simple","blockRegex","anyScopeRegex","sanitizeUrl","decodeURIComponent","unescapeUrl","parseInline","parseSimpleInline","parseBlock","parseCaptureInline","captureNothing","renderNothing","Boolean","getTag","compiler","forceInline","forceBlock","normalizeAttributeKey","attributeValueToJSXPropValue","blockQuote","react","breakLine","breakThematic","codeBlock","lang","codeFenced","codeInline","footnote","identifier","footnoteReference","gfmTask","completed","headingSetext","htmlComment","alt","title","link","linkAngleBraceStyleDetector","linkBareUrlDetector","linkMailtoDetector","_list","ordered","newlineCoalescer","refImage","refLink","fallbackContent","tableSeparator","textBolded","textEmphasized","textEscaped","textStrikethroughed","disableParsingRawHTML","htmlBlock","containsBlockSyntax","noInnerParse","htmlSelfClosing","reactFor","ruleOutput","Markdown","_objectWithoutProperties","StyledParagraph","ParagraphWrapper","Menu","dropBackground","controlButtonIndex","buttonRefs","constants","controlTop","controlBottom","activeItemIndex","setActiveItemIndex","isOpen","MenuIcon","up","onDropOpen","onSelectMenuItem","click","isTab","onNextMenuItem","onPreviousMenuItem","menuIcon","controlMirror","closeMenu","onSpace","openMenu","shiftKey","close","MenuWrapper","Meter","memoizedMax","deriveMax","Bar","Circle","MeterWrapper","capOffset","mid","someHighlight","highlight","pathRest","defaultColor","strokeProps","startValue","pathCaps","translateEndAngle","arcCommands","pathCap","NavWrapper","RangeInput","StyledRangeInput","RangeInputWrapper","getBoundOpacity","bound","getBoundColor","trackColorStyle","lower","upper","thumbPosition","lowerTrackColor","upperTrackColor","rangeTrackStyle","rangeThumbStyle","firefoxMicrosoftThumbStyle","Container","RangeSelector","lastChange","setLastChange","moveValue","setMoveValue","valueForMouseCoord","clientY","scaleY","scaleX","mouseMove","nextValues","mouseUp","EdgeControl","edge","onDecrease","onIncrease","cursor","nextMoveValue","RangeSelectorWrapper","DIRECTION_PROPS","keyboardProps","boxDirection","justifySelf","minWidth","minHeight","RoutedAnchor","method","router","modifierKey","ctrlKey","metaKey","history","RoutedAnchorWrapper","RoutedButton","RoutedButtonWrapper","SelectTextInput","defaultCursor","StyledSelectDropButton","callerPlain","Select","closeOnChange","disabledKey","emptySearchMessage","propOpen","searchPlaceholder","valueLabel","valuedValue","setSearch","allOptions","setAllOptions","optionIndexesInValue","SelectIcon","onRequestOpen","onRequestClose","onSelectChange","selectValue","SelectContainer","SelectWrapper","OptionsBox","OptionBox","SelectOption","ClearButton","onClear","buttonLabel","setActiveIndex","keyboardNavigation","setKeyboardNavigation","searchRef","optionsRef","searchInput","optionLabel","isDisabled","optionVal","valueItem","selectOption","nextOptionIndexesInValue","allOptionsIndex","onActiveOption","customSearchInput","selectOptionsStyle","nextSearch","optionRef","optionSelected","optionActive","Sidebar","SkipLink","SkipLinks","showLayer","setShowLayer","removeLayer","layerNode","skipTo","SkipLinksWrapper","Tab","onActivate","setActiveContent","setActiveTitle","normalizedTitle","tabStyles","normalizedIcon","iconProp","withIconStyles","StyledTab","TabWrapper","tabHoverStyle","Tabs","alignControls","tabContents","propsActiveIndex","activeContent","activeTitle","activateTab","tabsHeaderStyles","tabContentTitle","StyledTabs","StyledTabsHeader","StyledTabPanel","TabsWrapper","TextArea","StyledTextArea","fillArg","TextAreaWrapper","Video","autoPlay","loop","mute","onDurationChange","onEnded","onPause","onPlay","onTimeUpdate","onVolumeChange","setCaptions","currentTime","setCurrentTime","setDuration","percentagePlayed","setPercentagePlayed","playing","setPlaying","scrubTime","setScrubTime","setVolume","hasPlayed","setHasPlayed","interacting","setInteracting","setHeight","scrubberRef","videoRef","muted","textTracks","containsFocus","videoHeight","videoRatio","videoWidth","nextHeight","nextCaptions","controlsElement","mouseEventListeners","scrub","scrubberRect","percent","seek","louder","quieter","fullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","formattedTime","formatTime","Icons","Configure","FullScreen","ReduceVolume","captionControls","showCaptions","StyledVideoControls","pauseButton","playButton","progressMeter","StyledVideoScrubber","volumeUp","volumeDown","onTouchStart","StyledVideoContainer","StyledVideo","VideoWrapper","positionStyle","headStyle","CONTINENTS","origin","dots","maxCoordinate","MAP_LAT_BOTTOM_RAD","mapValues","mapRadius","MAP_LON_RIGHT","mapOffsetY","log","buildContinent","stateDots","segment","spots","dotCommands","stateArea","buildWorld","continents","buildInteractiveProps","activeFunc","WorldMap","continentsProp","hoverColor","onSelectPlace","placesProp","places","world","setContinents","setPlaces","latLon","latitudeRad","coords","activeCoords","setActiveCoords","activeContinent","setActiveContinent","activePlace","setActivePlace","continentElements","continentColor","restContinents","interactiveProps","activate","fillOpacity","placeElements","placeColor","restPlace","fillRule","coord","atan","exp","StyledWorldMap","WorldMapWrapper","_getRGBArray"],"mappings":"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AI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,GACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,IACT,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GA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CR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,IACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,EAAG,IACP,CAAC,GAAI,EAAG,GACR,CAAC,GAAI,EAAG,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,EAAG,GAAI,GACR,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GACT,CAAC,GAAI,GAAI,GA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","file":"grommet.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 73);\n","module.exports = React;","module.exports = styled;","import { deepMerge } from './utils';\r\nimport { base } from './themes/base';\r\n\r\nexport const defaultProps = {\r\n  theme: base,\r\n};\r\n\r\nexport const extendDefaultTheme = theme => {\r\n  defaultProps.theme = deepMerge(base, theme);\r\n};\r\n","export * from './mixins';\r\nexport * from './background';\r\nexport * from './border';\r\nexport * from './colors';\r\nexport * from './DOM';\r\nexport * from './graphics';\r\nexport * from './styles';\r\nexport * from './object';\r\nexport * from './PortalContext';\r\nexport * from './refs';\r\nexport * from './responsive';\r\n","export { Box } from './Box';\r\n","export { Keyboard } from './Keyboard';\r\n","\"use strict\";\n\nexports.__esModule = true;\nexports.StyledIcon = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _styledComponents = _interopRequireWildcard(require(\"styled-components\"));\n\nvar _grommetStyles = require(\"grommet-styles\");\n\nvar _defaultProps = require(\"./default-props\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar colorCss = (0, _styledComponents.css)([\"\", \" \", \" g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill=\\\"none\\\"]{stroke-width:0;}}*[stroke*=\\\"#\\\"],*[STROKE*=\\\"#\\\"]{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*=\\\"#\\\"],*[FILL*=\\\"#\\\"]{fill:inherit;stroke:none;}\"], function (props) {\n  return (0, _grommetStyles.colorStyle)('fill', props.color || props.theme.global.colors.icon, props.theme);\n}, function (props) {\n  return (0, _grommetStyles.colorStyle)('stroke', props.color || props.theme.global.colors.icon, props.theme);\n});\n\nvar IconInner = function IconInner(_ref) {\n  var a11yTitle = _ref.a11yTitle,\n      color = _ref.color,\n      size = _ref.size,\n      theme = _ref.theme,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"color\", \"size\", \"theme\"]);\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"svg\", _extends({\n    \"aria-label\": a11yTitle\n  }, rest));\n};\n\nIconInner.displayName = 'Icon';\n\nvar parseMetricToNum = function parseMetricToNum(string) {\n  return parseFloat(string.match(/\\d+(\\.\\d+)?/), 10);\n};\n\nvar StyledIcon = (0, _styledComponents[\"default\"])(IconInner).withConfig({\n  displayName: \"StyledIcon\",\n  componentId: \"ofa7kd-0\"\n})([\"display:inline-block;flex:0 0 auto;\", \" \", \" \", \"\"], function (_ref2) {\n  var _ref2$size = _ref2.size,\n      size = _ref2$size === void 0 ? 'medium' : _ref2$size,\n      theme = _ref2.theme,\n      viewBox = _ref2.viewBox;\n\n  var _split = (viewBox || '0 0 24 24').split(' '),\n      w = _split[2],\n      h = _split[3];\n\n  var scale = w / h;\n  var dimension = parseMetricToNum(theme.icon.size[size] || size);\n\n  if (w < h) {\n    return \"\\n      width: \" + dimension + \"px;\\n      height: \" + dimension / scale + \"px;\\n    \";\n  }\n\n  if (h < w) {\n    return \"\\n      width: \" + dimension * scale + \"px;\\n      height: \" + dimension + \"px;\\n    \";\n  }\n\n  return \"\\n      width: \" + dimension + \"px;\\n      height: \" + dimension + \"px;\\n    \";\n}, function (_ref3) {\n  var color = _ref3.color;\n  return color !== 'plain' && colorCss;\n}, function (_ref4) {\n  var theme = _ref4.theme;\n  return theme && theme.icon.extend;\n});\nexports.StyledIcon = StyledIcon;\nStyledIcon.defaultProps = {};\nObject.setPrototypeOf(StyledIcon.defaultProps, _defaultProps.defaultProps);","export { Button } from './Button';\r\n","export { Text } from './Text';\r\n","import React, { useState } from 'react';\r\n\r\n// When not a descendant of a Form, FormContext still provides a basic\r\n// useFormInput. It doesn't do anything for components like TextInput.\r\n// But, it does store the value for components like CheckBox or Select\r\n// where the grommet component needs to know the value in order to\r\n// render custom visuals.\r\nconst useFormInput = (_, valueProp, initialValue) => {\r\n  const [value, setValue] = useState(\r\n    valueProp !== undefined ? valueProp : initialValue,\r\n  );\r\n  return [\r\n    valueProp !== undefined ? valueProp : value,\r\n    nextValue => {\r\n      if (initialValue !== undefined) setValue(nextValue);\r\n    },\r\n  ];\r\n};\r\n\r\nconst useFormField = ({ error, info }) => ({ error, info });\r\n\r\nexport const FormContext = React.createContext({ useFormField, useFormInput });\r\n","export { Drop } from './Drop';\r\n","export { TableCell } from './TableCell';\r\n","// Returns the specific color that should be used according to the theme.\r\n// If 'dark' is supplied, it takes precedence over 'theme.dark'.\r\n// Can return undefined.\r\nexport const normalizeColor = (color, theme, dark) => {\r\n  const colorSpec =\r\n    theme.global && theme.global.colors[color] !== undefined\r\n      ? theme.global.colors[color]\r\n      : color;\r\n  // If the color has a light or dark object, use that\r\n  let result = colorSpec;\r\n  if (colorSpec) {\r\n    if (\r\n      (dark === true || (dark === undefined && theme.dark)) &&\r\n      colorSpec.dark !== undefined\r\n    ) {\r\n      result = colorSpec.dark;\r\n    } else if (\r\n      (dark === false || !theme.dark) &&\r\n      colorSpec.light !== undefined\r\n    ) {\r\n      result = colorSpec.light;\r\n    }\r\n  }\r\n  // allow one level of indirection in color names\r\n  if (result && theme.global && theme.global.colors[result] !== undefined) {\r\n    result = normalizeColor(result, theme, dark);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst parseHexToRGB = color =>\r\n  color.length < 7 // 7 is what's needed for '#RRGGBB'\r\n    ? color.match(/[A-Za-z0-9]{1}/g).map(v => parseInt(`${v}${v}`, 16))\r\n    : // https://stackoverflow.com/a/42429333\r\n      color.match(/[A-Za-z0-9]{2}/g).map(v => parseInt(v, 16));\r\n\r\n// From: https://stackoverflow.com/a/9493060/8513067\r\n// Converts an HSL color value to RGB. Conversion formula\r\n// adapted from http://en.wikipedia.org/wiki/HSL_color_space.\r\n// Assumes h, s, and l are contained in the set [0, 1] and\r\n// returns r, g, and b in the set [0, 255].\r\nconst hslToRGB = (h, s, l) => {\r\n  let r;\r\n  let g;\r\n  let b;\r\n\r\n  if (s === 0 || s === '0') {\r\n    // achromatic\r\n    r = l;\r\n    g = l;\r\n    b = l;\r\n  } else {\r\n    const hue2rgb = (p, q, inT) => {\r\n      let t = inT;\r\n      if (t < 0) t += 1;\r\n      if (t > 1) t -= 1;\r\n      if (t < 0.16666667) return p + (q - p) * 6 * t;\r\n      if (t < 1 / 2) return q;\r\n      if (t < 0.66666667) return p + (q - p) * (0.66666667 - t) * 6;\r\n      return p;\r\n    };\r\n\r\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n    const p = 2 * l - q;\r\n    r = hue2rgb(p, q, h + 0.33333333);\r\n    g = hue2rgb(p, q, h);\r\n    b = hue2rgb(p, q, h - 0.33333333);\r\n  }\r\n\r\n  return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\r\n};\r\n\r\n// allow for alpha: #RGB, #RGBA, #RRGGBB, or #RRGGBBAA\r\nconst hexExp = /^#[A-Za-z0-9]{3,4}$|^#[A-Za-z0-9]{6,8}$/;\r\nconst rgbExp = /^rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?\\)/;\r\nconst rgbaExp = /^rgba?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([0-9]*)\\s?,\\s?([.0-9]*)\\s?\\)/;\r\n// e.g. hsl(240, 60%, 50%)\r\nconst hslExp = /^hsla?\\(\\s?([0-9]*)\\s?,\\s?([0-9]*)%?\\s?,\\s?([0-9]*)%?\\s?.*?\\)/;\r\n\r\nconst canExtractRGBArray = color =>\r\n  hexExp.test(color) ||\r\n  rgbExp.test(color) ||\r\n  rgbaExp.test(color) ||\r\n  hslExp.test(color);\r\n\r\nconst getRGBArray = color => {\r\n  if (hexExp.test(color)) {\r\n    const [red, green, blue, alpha] = parseHexToRGB(color);\r\n    return [red, green, blue, alpha !== undefined ? alpha / 255.0 : undefined];\r\n  }\r\n  let match = color.match(rgbExp);\r\n  if (match) {\r\n    return match.splice(1).map(v => parseInt(v, 10));\r\n  }\r\n  match = color.match(rgbaExp);\r\n  if (match) {\r\n    return match.splice(1).map(v => parseFloat(v, 10));\r\n  }\r\n  match = color.match(hslExp);\r\n  if (match) {\r\n    const [h, s, l] = match.splice(1).map(v => parseInt(v, 10));\r\n    return hslToRGB(h / 360.0, s / 100.0, l / 100.0);\r\n  }\r\n  return color;\r\n};\r\n\r\nexport const colorIsDark = color => {\r\n  if (color && canExtractRGBArray(color)) {\r\n    const [red, green, blue, alpha] = getRGBArray(color);\r\n    // if there is an alpha and it's greater than 50%, we can't really tell\r\n    if (alpha < 0.5) return undefined;\r\n    const brightness = (299 * red + 587 * green + 114 * blue) / 1000;\r\n    // From: http://www.had2know.com/technology/color-contrast-calculator-web-design.html\r\n    // Above domain is no longer registered.\r\n    return brightness < 125;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const getRGBA = (color, opacity) => {\r\n  if (color && canExtractRGBArray(color)) {\r\n    const [red, green, blue, alpha] = getRGBArray(color);\r\n    let normalizedAlpha;\r\n    if (opacity !== undefined) {\r\n      normalizedAlpha = opacity;\r\n    } else if (alpha !== undefined) {\r\n      normalizedAlpha = alpha;\r\n    } else {\r\n      normalizedAlpha = 1;\r\n    }\r\n    return `rgba(${red}, ${green}, ${blue}, ${normalizedAlpha})`;\r\n  }\r\n  return undefined;\r\n};\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  backgroundStyle,\r\n  borderStyle,\r\n  edgeStyle,\r\n  genericStyles,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst SIZE_MAP = {\r\n  '1/2': '50%',\r\n  '1/4': '25%',\r\n  '2/4': '50%',\r\n  '3/4': '75%',\r\n  '1/3': '33.33%',\r\n  '2/3': '66.66%',\r\n};\r\n\r\nconst sizeStyle = css`\r\n  width: ${props =>\r\n    SIZE_MAP[props.size] || props.theme.global.size[props.size] || props.size};\r\n  max-width: ${props =>\r\n    SIZE_MAP[props.size] || props.theme.global.size[props.size] || props.size};\r\n  overflow: hidden;\r\n`;\r\n\r\nconst StyledTableCell = styled.td`\r\n  margin: 0;\r\n  padding: 0;\r\n  font-weight: inherit;\r\n  text-align: inherit;\r\n\r\n  ${props => props.size && sizeStyle}\r\n  ${props => props.verticalAlign && `vertical-align: ${props.verticalAlign};`}\r\n  ${props => props.align && `text-align: ${props.align};`}\r\n  ${props => props.background && backgroundStyle(props.background, props.theme)}\r\n  ${props =>\r\n    props.border && borderStyle(props.border, props.responsive, props.theme)}\r\n  ${props =>\r\n    props.pad &&\r\n    edgeStyle(\r\n      'padding',\r\n      props.pad,\r\n      props.responsive,\r\n      props.theme.box.responsiveBreakpoint,\r\n      props.theme,\r\n    )}\r\n  ${props => props.tableContextTheme && props.tableContextTheme.extend}\r\n`;\r\n\r\nStyledTableCell.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableCell.defaultProps, defaultProps);\r\n\r\nconst StyledTableDataCaption = styled.caption`\r\n  margin-bottom: ${props => props.theme.global.edgeSize.xxsmall};\r\n`;\r\n\r\nStyledTableDataCaption.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableDataCaption.defaultProps, defaultProps);\r\n\r\nconst StyledTableRow = styled.tr``;\r\n\r\nStyledTableRow.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableRow.defaultProps, defaultProps);\r\n\r\nconst StyledTableBody = styled.tbody``;\r\n\r\nStyledTableBody.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableBody.defaultProps, defaultProps);\r\n\r\nconst StyledTableHeader = styled.thead``;\r\n\r\nStyledTableHeader.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableHeader.defaultProps, defaultProps);\r\n\r\nconst StyledTableFooter = styled.tfoot``;\r\n\r\nStyledTableFooter.defaultProps = {};\r\nObject.setPrototypeOf(StyledTableFooter.defaultProps, defaultProps);\r\n\r\nconst StyledTable = styled.table`\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n  width: inherit;\r\n  @media all and (min--moz-device-pixel-ratio: 0) {\r\n    table-layout: fixed;\r\n  }\r\n  ${genericStyles} ${props => props.theme.table && props.theme.table.extend};\r\n`;\r\n\r\nStyledTable.defaultProps = {};\r\nObject.setPrototypeOf(StyledTable.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledTableCell,\r\n  StyledTableDataCaption,\r\n  StyledTableRow,\r\n  StyledTableBody,\r\n  StyledTableHeader,\r\n  StyledTableFooter,\r\n  StyledTable,\r\n};\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  backgroundStyle,\r\n  fillStyle,\r\n  focusStyle,\r\n  genericStyles,\r\n  normalizeColor,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\nimport { TableRow } from '../TableRow';\r\nimport { Table } from '../Table';\r\nimport { TableBody } from '../TableBody';\r\nimport { TableCell } from '../TableCell';\r\nimport { TableHeader } from '../TableHeader';\r\nimport { TableFooter } from '../TableFooter';\r\n\r\n// border-collapse: separate is needed so pinned header/footer borders work\r\nconst StyledDataTable = styled(Table)`\r\n  position: relative;\r\n  border-spacing: 0;\r\n  border-collapse: separate;\r\n  height: auto; /* helps Firefox to get table contents to not overflow */\r\n\r\n  ${genericStyles}\r\n  ${props => props.fillProp && fillStyle(props.fillProp)}\r\n  ${props =>\r\n    props.theme.dataTable &&\r\n    props.theme.dataTable.body &&\r\n    props.theme.dataTable.body.extend};\r\n`;\r\n\r\nStyledDataTable.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTable.defaultProps, defaultProps);\r\n\r\nconst hoverStyle = css`\r\n  ${props =>\r\n    backgroundStyle(\r\n      normalizeColor(\r\n        (props.theme.table &&\r\n          props.theme.table.row &&\r\n          props.theme.table.row.hover &&\r\n          props.theme.table.row.hover.background) ||\r\n          props.theme.global.hover.background,\r\n        props.theme,\r\n      ),\r\n      props.theme,\r\n    )}\r\n  color: ${props =>\r\n    normalizeColor(\r\n      (props.theme.table &&\r\n        props.theme.table.row &&\r\n        props.theme.table.row.hover &&\r\n        props.theme.table.row.hover.color) ||\r\n        props.theme.global.hover.color,\r\n      props.theme,\r\n    )};\r\n`;\r\n\r\nconst StyledDataTableRow = styled(TableRow)`\r\n  ${props =>\r\n    props.size &&\r\n    `\r\n    display: table;\r\n    width: 100%;\r\n    table-layout: fixed;\r\n  `}\r\n  ${props =>\r\n    props.onClick &&\r\n    `\r\n    cursor: pointer;\r\n  `}\r\n  &:hover {\r\n    ${props => props.onClickRow && !props.active && hoverStyle}\r\n  }\r\n  ${props => props.active && hoverStyle}\r\n`;\r\n\r\nStyledDataTableRow.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTableRow.defaultProps, defaultProps);\r\n\r\n// focus styling other than outline doesn't work on <tbody />\r\nconst StyledDataTableBody = styled(TableBody)`\r\n  ${props =>\r\n    props.size &&\r\n    `\r\n    display: block;\r\n    width: 100%;\r\n    max-height: ${props.theme.global.size[props.size]};\r\n    overflow: auto;\r\n  `}\r\n\r\n  &:focus {\r\n    ${focusStyle({ skipSvgChildren: true, forceOutline: true })}\r\n  }\r\n`;\r\n\r\nStyledDataTableBody.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTableBody.defaultProps, defaultProps);\r\n\r\nconst StyledDataTableHeader = styled(TableHeader)`\r\n  ${props =>\r\n    props.size &&\r\n    `\r\n    display: table;\r\n    width: 100%;\r\n    table-layout: fixed;\r\n  `}\r\n`;\r\n\r\nStyledDataTableHeader.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTableHeader.defaultProps, defaultProps);\r\n\r\nconst StyledDataTableFooter = styled(TableFooter)`\r\n  ${props =>\r\n    props.size &&\r\n    `\r\n    display: table;\r\n    width: 100%;\r\n    table-layout: fixed;\r\n  `}\r\n  ${props =>\r\n    props.pin &&\r\n    `\r\n      /* Safari needs the relative positioning of tfoot specified */\r\n      position: sticky;\r\n      bottom: 0;\r\n      z-index: 1;\r\n  `}\r\n`;\r\n\r\nStyledDataTableFooter.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTableFooter.defaultProps, defaultProps);\r\n\r\nconst StyledDataTableCell = styled(TableCell)`\r\n  ${props =>\r\n    props.context === 'header' &&\r\n    props.theme.dataTable &&\r\n    props.theme.dataTable.header &&\r\n    props.theme.dataTable.header.extend};\r\n  ${props =>\r\n    props.pin &&\r\n    props.pin.length > 0 &&\r\n    `\r\n    position: sticky;\r\n    ${props.pin.map(p => `${p}: 0;`).join(' ')}\r\n    z-index: ${Object.keys(props.pin).length};\r\n    ${\r\n      props.theme.dataTable &&\r\n      props.theme.dataTable.pinned &&\r\n      props.theme.dataTable.pinned[props.context] &&\r\n      props.theme.dataTable.pinned[props.context].extend\r\n        ? props.theme.dataTable.pinned[props.context].extend\r\n        : ''\r\n    }\r\n  `}\r\n`;\r\n\r\nStyledDataTableCell.defaultProps = {};\r\nObject.setPrototypeOf(StyledDataTableCell.defaultProps, defaultProps);\r\n\r\nconst StyledPlaceholder = styled('caption')`\r\n  position: absolute;\r\n  ${props => `top: ${props.top || 0}px;`}\r\n  ${props => `bottom: ${props.bottom || 0}px;`}\r\n  left: 0;\r\n  right: 0;\r\n`;\r\n\r\nexport {\r\n  StyledDataTable,\r\n  StyledDataTableRow,\r\n  StyledDataTableBody,\r\n  StyledDataTableCell,\r\n  StyledDataTableHeader,\r\n  StyledDataTableFooter,\r\n  StyledPlaceholder,\r\n};\r\n","export const isObject = item =>\r\n  item && typeof item === 'object' && !Array.isArray(item);\r\n\r\nexport const deepFreeze = obj => {\r\n  Object.keys(obj).forEach(\r\n    key => key && isObject(obj[key]) && Object.freeze(obj[key]),\r\n  );\r\n  return Object.freeze(obj);\r\n};\r\n\r\nexport const deepMerge = (target, ...sources) => {\r\n  if (!sources.length) {\r\n    return target;\r\n  }\r\n  // making sure to not change target (immutable)\r\n  const output = { ...target };\r\n  sources.forEach(source => {\r\n    if (isObject(source)) {\r\n      Object.keys(source).forEach(key => {\r\n        if (isObject(source[key])) {\r\n          if (!output[key]) {\r\n            output[key] = { ...source[key] };\r\n          } else {\r\n            output[key] = deepMerge(output[key], source[key]);\r\n          }\r\n        } else {\r\n          output[key] = source[key];\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return output;\r\n};\r\n\r\nexport const removeUndefined = obj => {\r\n  const result = {};\r\n  Object.keys(obj).forEach(key => {\r\n    if (obj[key] !== undefined) {\r\n      result[key] = obj[key];\r\n    }\r\n  });\r\n  return result;\r\n};\r\n","export { Anchor } from './Anchor';\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","export { Stack } from './Stack';\r\n","export { CheckBox } from './CheckBox';\r\n","import React from 'react';\r\n\r\nexport const TableContext = React.createContext(undefined);\r\n","export { TextInput } from './TextInput';\r\n","export { InfiniteScroll } from './InfiniteScroll';\r\n","export { TableRow } from './TableRow';\r\n","import { css } from 'styled-components';\r\n\r\nexport const parseMetricToNum = metric => {\r\n  if (typeof metric === 'number') return metric;\r\n  if (metric.match(/\\s/) && process.env.NODE_ENV !== 'production') {\r\n    console.warn(`Invalid single measurement value: \"${metric}\"`);\r\n  }\r\n  return parseFloat(metric.match(/\\d+(\\.\\d+)?/), 10);\r\n};\r\n\r\nexport const fontSize = (size, lineHeight) => css`\r\n  font-size: ${props =>\r\n    `${(parseMetricToNum(size) /\r\n      parseMetricToNum(props.theme.global.font.size)) *\r\n      1}rem`};\r\n  line-height: ${props =>\r\n    lineHeight ||\r\n    `${Math.ceil(\r\n      parseMetricToNum(size) / parseMetricToNum(props.theme.global.lineHeight),\r\n    ) *\r\n      (parseMetricToNum(props.theme.global.lineHeight) /\r\n        parseMetricToNum(size))}px`};\r\n`;\r\n\r\nexport const breakpointStyle = (breakpoint, content) => css`\r\n  @media only screen ${breakpoint.value &&\r\n      `and (max-width: ${breakpoint.value}px)`} {\r\n    ${content};\r\n  }\r\n`;\r\n\r\nexport const findAllByType = (component, type) => {\r\n  let matches = [];\r\n\r\n  if (component.type === type) {\r\n    matches.push(component);\r\n  }\r\n\r\n  if (component.children) {\r\n    component.children.forEach(child => {\r\n      matches = matches.concat(findAllByType(child, type));\r\n    });\r\n  }\r\n\r\n  return matches;\r\n};\r\n\r\nexport const getAvailableAtBadge = (availableAt, componentType) => [\r\n  {\r\n    url: `https://storybook.grommet.io/?selectedKind=${componentType}-${availableAt}&full=0&stories=1&panelRight=0`,\r\n    badge:\r\n      'https://cdn-images-1.medium.com/fit/c/120/120/1*TD1P0HtIH9zF0UEH28zYtw.png',\r\n    label: 'Storybook',\r\n  },\r\n  {\r\n    url: `https://codesandbox.io/s/github/grommet/grommet-sandbox?initialpath=/${availableAt.toLowerCase()}&module=%2Fsrc%2F${availableAt}.js`,\r\n    badge: 'https://codesandbox.io/static/img/play-codesandbox.svg',\r\n    label: 'CodeSandbox',\r\n  },\r\n];\r\n","export { Heading } from './Heading';\r\n","export * from './AnnounceContext';\r\nexport * from './ContainerTargetContext';\r\nexport * from './ResponsiveContext';\r\nexport * from './ThemeContext';\r\n","// This file contains helper functions for DataTable, to keep the component\r\n// files simpler.\r\n\r\nexport const set = (obj, path, value) => {\r\n  let parts = path;\r\n  if (Object(obj) !== obj) return obj;\r\n  if (!Array.isArray(path)) parts = path.toString().match(/[^.[\\]]+/g) || [];\r\n\r\n  parts.slice(0, -1).reduce((acc, item, index) => {\r\n    if (Object(acc[item]) === acc[item]) {\r\n      return acc[item];\r\n    }\r\n    acc[item] = Math.abs(parts[index + 1]) > 0 === +parts[index + 1] ? [] : {};\r\n    return acc[item];\r\n  }, obj)[parts[parts.length - 1]] = value;\r\n\r\n  return obj;\r\n};\r\n\r\n// get the value for the property in the datum object\r\nexport const datumValue = (datum, property) => {\r\n  if (!property) return undefined;\r\n  const parts = property.split('.');\r\n  if (parts.length === 1) {\r\n    return datum[property];\r\n  }\r\n  if (!datum[parts[0]]) {\r\n    return undefined;\r\n  }\r\n  return datumValue(datum[parts[0]], parts.slice(1).join('.'));\r\n};\r\n\r\n// get the primary property name\r\nexport const normalizePrimaryProperty = (columns, primaryKey) => {\r\n  let result;\r\n  columns.forEach(column => {\r\n    // remember the first key property\r\n    if (column.primary && !result) {\r\n      result = column.property;\r\n    }\r\n  });\r\n  if (!result) {\r\n    if (primaryKey === false) result = undefined;\r\n    else if (primaryKey) result = primaryKey;\r\n    else if (columns.length > 0) result = columns[0].property;\r\n  }\r\n  return result;\r\n};\r\n\r\n// initialize filters with empty strings\r\nexport const initializeFilters = columns => {\r\n  const result = {};\r\n  columns.forEach(column => {\r\n    if (column.search) {\r\n      result[column.property] = '';\r\n    }\r\n  });\r\n  return result;\r\n};\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#Escaping\r\nconst escapeRegExp = input => input.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n\r\n// filter data based on filters then sort\r\nexport const filterAndSortData = (data, filters, onSearch, sort) => {\r\n  let result = data;\r\n  if (!onSearch) {\r\n    const regexps = {};\r\n    Object.keys(filters)\r\n      .filter(n => filters[n])\r\n      .forEach(n => {\r\n        regexps[n] = new RegExp(escapeRegExp(filters[n]), 'i');\r\n      });\r\n    if (Object.keys(regexps).length > 0) {\r\n      result = data.filter(\r\n        datum =>\r\n          !Object.keys(regexps).some(\r\n            property => !regexps[property].test(datumValue(datum, property)),\r\n          ),\r\n      );\r\n    }\r\n  }\r\n\r\n  if (sort && !sort.external) {\r\n    const { property, direction } = sort;\r\n    result = result === data ? [...data] : result; // don't sort caller's data\r\n    const before = direction === 'asc' ? 1 : -1;\r\n    const after = direction === 'asc' ? -1 : 1;\r\n    result.sort((d1, d2) => {\r\n      if (datumValue(d1, property) > datumValue(d2, property)) return before;\r\n      if (datumValue(d1, property) < datumValue(d2, property)) return after;\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n// aggregate reducers\r\nconst sumReducer = (accumulated, next) => accumulated + next;\r\nconst minReducer = (accumulated, next) =>\r\n  accumulated === undefined ? next : Math.min(accumulated, next);\r\nconst maxReducer = (accumulated, next) =>\r\n  accumulated === undefined ? next : Math.max(accumulated, next);\r\n\r\nconst reducers = {\r\n  max: maxReducer,\r\n  min: minReducer,\r\n  sum: sumReducer,\r\n};\r\n\r\n// aggregate reducers init values\r\nconst reducersInitValues = {\r\n  min: Number.MAX_VALUE,\r\n  max: Number.MIN_VALUE,\r\n  sum: 0,\r\n};\r\n\r\n// aggregate a single column\r\nconst aggregateColumn = (column, data) => {\r\n  let value;\r\n  if (column.aggregate === 'avg') {\r\n    value = data.map(d => datumValue(d, column.property)).reduce(sumReducer);\r\n    value /= data.length;\r\n  } else {\r\n    value = data\r\n      .map(d => datumValue(d, column.property))\r\n      .reduce(reducers[column.aggregate], reducersInitValues[column.aggregate]);\r\n  }\r\n  return value;\r\n};\r\n\r\n// aggregate all columns that can\r\nconst aggregate = (columns, data) => {\r\n  let result = {};\r\n  columns.forEach(column => {\r\n    if (column.aggregate) {\r\n      const value = aggregateColumn(column, data);\r\n      result = set(result, column.property, value);\r\n    }\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\n// build the values for the footer cells\r\nexport const buildFooterValues = (columns, data) => {\r\n  const aggregateValues = aggregate(columns, data);\r\n\r\n  let result = {};\r\n  columns.forEach(column => {\r\n    if (column.footer) {\r\n      if (typeof column.footer === 'string') {\r\n        result = set(result, column.property, column.footer);\r\n      } else if (column.footer.aggregate) {\r\n        const value = datumValue(aggregateValues, column.property);\r\n        result = set(result, column.property, value);\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\n// looks at the groupBy property of each data object and returns an\r\n// array with one item for each unique value of that property.\r\nexport const buildGroups = (columns, data, groupBy) => {\r\n  let result;\r\n  if (groupBy) {\r\n    result = [];\r\n    const groupMap = {};\r\n    data.forEach(datum => {\r\n      const groupByProperty = groupBy.property ? groupBy.property : groupBy;\r\n      const groupValue = datumValue(datum, groupByProperty);\r\n      if (!groupMap[groupValue]) {\r\n        const group = { data: [], datum: {}, key: groupValue };\r\n        group.datum[groupByProperty] = groupValue;\r\n        result.push(group);\r\n        groupMap[groupValue] = group;\r\n      }\r\n      groupMap[groupValue].data.push(datum);\r\n    });\r\n\r\n    // include any aggregate column values across the data for each group\r\n    columns.forEach(column => {\r\n      if (column.aggregate) {\r\n        result.forEach(group => {\r\n          const { datum } = group;\r\n          datum[column.property] = aggregateColumn(column, group.data);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n// build group expanded state, expanding any in groupBy.expand\r\nexport const buildGroupState = (groups, groupBy) => {\r\n  const result = {};\r\n  if (groups) {\r\n    groups.forEach(({ key }) => {\r\n      result[key] = { expanded: false };\r\n    });\r\n  }\r\n  if (groupBy && groupBy.expand) {\r\n    groupBy.expand.forEach(value => {\r\n      result[value] = { expanded: true };\r\n    });\r\n  }\r\n  return result;\r\n};\r\n","export { DropButton } from './DropButton';\r\n","import { css } from 'styled-components';\r\n\r\nimport { colorIsDark, getRGBA, normalizeColor } from './colors';\r\n\r\n// evalStyle() converts a styled-components item into a string\r\nconst evalStyle = (arg, theme) => {\r\n  if (arg && Array.isArray(arg) && typeof arg[0] === 'function') {\r\n    return arg[0]({ theme });\r\n  }\r\n  return arg;\r\n};\r\n\r\nexport const normalizeBackground = (background, theme) => {\r\n  // If the background has a light or dark object, use that\r\n  let result = background;\r\n  if (background) {\r\n    if (theme.dark && background.dark && typeof background.dark !== 'boolean') {\r\n      result = background.dark;\r\n    } else if (\r\n      !theme.dark &&\r\n      background.light &&\r\n      typeof background.light !== 'boolean'\r\n    ) {\r\n      result = background.light;\r\n    }\r\n    result = evalStyle(result, theme);\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const backgroundIsDark = (backgroundArg, theme) => {\r\n  const background = normalizeBackground(backgroundArg, theme);\r\n  let result;\r\n  if (background) {\r\n    if (typeof background === 'object') {\r\n      const { color, dark, opacity } = background;\r\n      if (typeof dark === 'boolean') {\r\n        result = dark;\r\n      } else if (\r\n        color &&\r\n        // weak opacity means we keep the existing darkness\r\n        (!opacity || opacity !== 'weak')\r\n      ) {\r\n        const backgroundColor = normalizeColor(background.color, theme);\r\n        if (backgroundColor) {\r\n          result = colorIsDark(backgroundColor);\r\n        }\r\n      }\r\n    } else {\r\n      const color = normalizeColor(background, theme);\r\n      if (color) {\r\n        result = colorIsDark(color);\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst darkContext = backgroundColor => {\r\n  const isDark = colorIsDark(backgroundColor);\r\n  if (isDark === undefined) return undefined;\r\n  return isDark ? 'dark' : 'light';\r\n};\r\n\r\n// Returns an array of two CSS colors: [background, color]\r\n// Either could be undefined.\r\n// background could be a CSS gradient, like \"linear-gradient(...)\"\r\nexport const backgroundAndTextColors = (backgroundArg, textArg, theme) => {\r\n  if (!backgroundArg) return [undefined, textArg];\r\n\r\n  const { global } = theme;\r\n  const background = normalizeBackground(backgroundArg, theme);\r\n  const text = textArg || global.colors.text;\r\n\r\n  let backgroundColor;\r\n  let textColor;\r\n  if (typeof background === 'object') {\r\n    if (background.dark === false) {\r\n      textColor = text.light || text;\r\n    } else if (background.dark) {\r\n      textColor = text.dark || text;\r\n    }\r\n\r\n    if (background.color) {\r\n      const color = normalizeColor(background.color, theme, background.dark);\r\n      const opacity =\r\n        background.opacity === true\r\n          ? global.opacity.medium\r\n          : global.opacity[background.opacity] || background.opacity;\r\n      backgroundColor = getRGBA(color, opacity) || color;\r\n\r\n      // If we don't have a textColor already, and we aren't too translucent,\r\n      // set the textColor to have the best contrast against the background\r\n      // color.\r\n      if (!textColor && (opacity === undefined || opacity > 0.3)) {\r\n        const shade = darkContext(backgroundColor, theme);\r\n        textColor = normalizeColor((shade && text[shade]) || text, theme);\r\n      }\r\n    }\r\n  } else {\r\n    backgroundColor = normalizeColor(background, theme);\r\n    const shade = darkContext(backgroundColor, theme);\r\n    if (shade) {\r\n      textColor = normalizeColor(text[shade] || text, theme, shade === 'dark');\r\n    } else {\r\n      // If we can't determine the shade, we assume this isn't a simple color.\r\n      // It could be a gradient. backgroundStyle() will take care of that case.\r\n      if (backgroundColor !== 'transparent') backgroundColor = undefined;\r\n      if (text) textColor = normalizeColor(text, theme);\r\n    }\r\n  }\r\n  // if textArg is false, we don't want the textColor, used for Button hover\r\n  if (textArg === false) textColor = undefined;\r\n\r\n  return [backgroundColor, textColor];\r\n};\r\n\r\nexport const backgroundStyle = (backgroundArg, theme, textColorArg) => {\r\n  // for Grommet component, if the background isn't defined, don't set it\r\n  if (backgroundArg === undefined) return undefined;\r\n\r\n  const background = normalizeBackground(backgroundArg, theme);\r\n\r\n  if (\r\n    typeof background === 'string' &&\r\n    background.lastIndexOf('url', 0) === 0\r\n  ) {\r\n    return css`\r\n      background: ${background} no-repeat center center;\r\n      background-size: cover;\r\n    `;\r\n  }\r\n\r\n  const [backgroundColor, textColor] = backgroundAndTextColors(\r\n    background,\r\n    textColorArg,\r\n    theme,\r\n  );\r\n\r\n  if (background.image) {\r\n    const backgroundStyles = `\r\n      ${backgroundColor ? `background-color: ${backgroundColor};` : ''}\r\n      background-image: ${background.image};\r\n      background-repeat: ${background.repeat || 'no-repeat'};\r\n      background-position: ${background.position || 'center center'};\r\n      background-size: ${background.size || 'cover'};\r\n    `;\r\n\r\n    // allow both background color and image, in case the image doesn't fill\r\n    // when image and opacity are used together, we need to use pseudo :before\r\n    // to ensure that only image and background color are affected by opacity\r\n    // but not the container contents\r\n    return css`\r\n      ${textColor ? `color: ${textColor};` : ''}\r\n      ${!background.opacity\r\n        ? backgroundStyles\r\n        : `position: relative;\r\n        z-index: 0;\r\n        &:before {\r\n          content: '';\r\n          position: absolute;\r\n          top: 0;\r\n          right: 0;\r\n          left: 0;\r\n          bottom: 0;\r\n          z-index: -1;\r\n          ${backgroundStyles}\r\n          opacity: ${\r\n            background.opacity === true\r\n              ? theme.global.opacity.medium\r\n              : theme.global.opacity[background.opacity] || background.opacity\r\n          };\r\n        }`}\r\n    `;\r\n  }\r\n\r\n  if (backgroundColor) {\r\n    return css`\r\n      background-color: ${backgroundColor};\r\n      ${textColor ? `color: ${textColor};` : ''}\r\n    `;\r\n  }\r\n\r\n  if (typeof background === 'string')\r\n    // This case takes care of gradients\r\n    // or theme colors that use CSS names like 'crimson' that we don't parse\r\n    return css`\r\n      background: ${normalizeColor(background, theme)};\r\n    `;\r\n\r\n  return undefined;\r\n};\r\n\r\nexport const activeStyle = css`\r\n  ${props =>\r\n    backgroundStyle(\r\n      normalizeColor(props.theme.global.active.background, props.theme),\r\n      props.theme,\r\n      props.theme.global.active.color,\r\n    )}\r\n`;\r\n\r\nexport const selectedStyle = css`\r\n  ${props =>\r\n    backgroundStyle(\r\n      normalizeColor(props.theme.global.selected.background, props.theme),\r\n      props.theme,\r\n      props.theme.global.selected.color,\r\n    )}\r\n`;\r\n\r\nexport const getHoverIndicatorStyle = (hoverIndicator, theme) => {\r\n  let background;\r\n  if (hoverIndicator === true || hoverIndicator === 'background') {\r\n    ({ background } = theme.global.hover);\r\n  } else {\r\n    background = hoverIndicator;\r\n  }\r\n  return css`\r\n    ${backgroundStyle(background, theme, theme.global.hover.color)}\r\n  `;\r\n};\r\n","export { ContainerTargetContext } from './ContainerTargetContext';\r\n","export { Chart } from './Chart';\r\nexport { calcBounds, calcs, round } from './calcs';\r\n","export { Grid } from './Grid';\r\n","export { Table } from './Table';\r\n","export { TableBody } from './TableBody';\r\n","export { TableHeader } from './TableHeader';\r\n","export { TableFooter } from './TableFooter';\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Text } from '../Text';\r\nimport { StyledDataTableCell } from './StyledDataTable';\r\nimport { datumValue } from './buildState';\r\nimport { TableContext } from '../Table/TableContext';\r\n\r\nconst normalizeProp = (name, rowProp, prop) => {\r\n  if (rowProp && rowProp[name]) return rowProp[name];\r\n  return prop;\r\n};\r\n\r\nconst Cell = ({\r\n  background: backgroundProp,\r\n  border,\r\n  column: {\r\n    align,\r\n    pin: columnPin,\r\n    footer,\r\n    property,\r\n    render,\r\n    verticalAlign,\r\n    size,\r\n  },\r\n  datum,\r\n  index,\r\n  pad,\r\n  pin: cellPin,\r\n  primaryProperty,\r\n  rowProp,\r\n  scope,\r\n}) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const value = datumValue(datum, property);\r\n  const context = useContext(TableContext);\r\n  const renderContexts =\r\n    context === 'body' || (context === 'footer' && footer && footer.aggregate);\r\n\r\n  let content;\r\n  if (render && renderContexts) {\r\n    content = render(datum);\r\n  } else if (value !== undefined) {\r\n    content = value;\r\n  }\r\n\r\n  if (typeof content === 'string' || typeof content === 'number') {\r\n    const textProps =\r\n      property === primaryProperty ? theme.dataTable.primary : {};\r\n    content = <Text {...textProps}>{content}</Text>;\r\n  }\r\n\r\n  let pin;\r\n  if (cellPin) pin = cellPin;\r\n  else if (columnPin) pin = ['left'];\r\n\r\n  let background;\r\n  if (pin && theme.dataTable.pinned && theme.dataTable.pinned[context]) {\r\n    background = theme.dataTable.pinned[context].background;\r\n  } else background = undefined;\r\n\r\n  return (\r\n    <StyledDataTableCell\r\n      scope={scope}\r\n      {...theme.dataTable[context]}\r\n      align={align}\r\n      context={context}\r\n      verticalAlign={verticalAlign}\r\n      size={size}\r\n      background={\r\n        normalizeProp(\r\n          'background',\r\n          rowProp,\r\n          Array.isArray(backgroundProp)\r\n            ? backgroundProp[index % backgroundProp.length]\r\n            : backgroundProp,\r\n        ) || background\r\n      }\r\n      border={normalizeProp('border', rowProp, border)}\r\n      pad={normalizeProp('pad', rowProp, pad)}\r\n      pin={pin}\r\n    >\r\n      {content}\r\n    </StyledDataTableCell>\r\n  );\r\n};\r\n\r\nCell.displayName = 'Cell';\r\n\r\nCell.defaultProps = {};\r\nObject.setPrototypeOf(Cell.defaultProps, defaultProps);\r\n\r\nexport { Cell };\r\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction factorial(a) {\n  if (a % 1 || !(+a >= 0)) return NaN;\n  if (a > 170) return Infinity;else if (a === 0) return 1;else {\n    return a * factorial(a - 1);\n  }\n}\n\nfunction power(a, b) {\n  return Math.pow(a, b);\n}\n\nfunction sqrt(a) {\n  return Math.sqrt(a);\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultMathSymbols = {\n  symbols: {\n    '!': {\n      postfix: {\n        symbol: '!',\n        f: factorial,\n        notation: 'postfix',\n        precedence: 6,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '!',\n      regSymbol: '!'\n    },\n    '^': {\n      infix: {\n        symbol: '^',\n        f: power,\n        notation: 'infix',\n        precedence: 5,\n        rightToLeft: 1,\n        argCount: 2\n      },\n      symbol: '^',\n      regSymbol: '\\\\^'\n    },\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    },\n    sqrt: {\n      func: {\n        symbol: 'sqrt',\n        f: sqrt,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'sqrt',\n      regSymbol: 'sqrt\\\\b'\n    }\n  }\n};\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found.\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultMathSymbols.symbols, additionalSymbols.symbols) : _extends({}, defaultMathSymbols.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable.\n *\n * Passthrough can be enabled (off by default) for when you are unsure of the input and want non-variable values to be returned instead of an error.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, passThrough) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    if (passThrough) return cssVariable;\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else {\n    throw new PolishedError(74);\n  }\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  //  prettier-ignore\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith (string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @deprecated - stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value, unitReturn) {\n  if (typeof value !== 'string') return unitReturn ? [value, undefined] : value;\n  var matchedValue = value.match(cssRegex);\n\n  if (unitReturn) {\n    // eslint-disable-next-line no-console\n    console.warn(\"stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit.\");\n    if (matchedValue) return [parseFloat(value), matchedValue[2]];\n    return [value, undefined];\n  }\n\n  if (matchedValue) return parseFloat(value);\n  return value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\nvar em = /*#__PURE__*/pxtoFactory('em');\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex$1);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\nvar rem = /*#__PURE__*/pxtoFactory('rem');\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width) {\n  if (width === void 0) {\n    width = '100%';\n  }\n\n  return {\n    display: 'inline-block',\n    maxWidth: width,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n\n      var obj = _step.value;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      localFonts = _ref.localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject(), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nfunction _templateObject$1() {\n  var data = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"]);\n\n  _templateObject$1 = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject$1(), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor, backgroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return backgroundColor + \" \" + backgroundColor + \" \" + foregroundColor + \" \" + backgroundColor;\n\n    case 'right':\n    case 'bottomLeft':\n      return backgroundColor + \" \" + backgroundColor + \" \" + backgroundColor + \" \" + foregroundColor;\n\n    case 'bottom':\n    case 'topLeft':\n      return foregroundColor + \" \" + backgroundColor + \" \" + backgroundColor + \" \" + backgroundColor;\n\n    case 'left':\n    case 'topRight':\n      return backgroundColor + \" \" + foregroundColor + \" \" + backgroundColor + \" \" + backgroundColor;\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return {\n    width: '0',\n    height: '0',\n    borderColor: getBorderColor(pointingDirection, foregroundColor, backgroundColor),\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  };\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsla\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor);\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor);\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * (parseFloat(weight) / 1.0) + color2.alpha * (1 - parseFloat(weight) / 1.0)\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\n\nvar defaultLightReturnColor = '#000';\nvar defaultDarkReturnColor = '#fff';\n/**\n * Returns black or white (or optional light and dark return colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, set `strict` to `true` to ensure that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, lightReturnColor, darkReturnColor, strict) {\n  if (lightReturnColor === void 0) {\n    lightReturnColor = defaultLightReturnColor;\n  }\n\n  if (darkReturnColor === void 0) {\n    darkReturnColor = defaultDarkReturnColor;\n  }\n\n  if (strict === void 0) {\n    strict = false;\n  }\n\n  var isLightColor = getLuminance(color) > 0.179;\n  var preferredReturnColor = isLightColor ? lightReturnColor : darkReturnColor; // TODO: Make `strict` the default behaviour in the next major release.\n  // Without `strict`, this may return a color that does not meet WCAG AA.\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isLightColor ? defaultLightReturnColor : defaultDarkReturnColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff');\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 - parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap$1 = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap$1.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken as darken, curriedDesaturate as desaturate, directionalProperty, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, invert, curriedLighten as lighten, linearGradient, margin, math, meetsContrastGuidelines, curriedMix as mix, modularScale, normalize, curriedOpacify as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate as saturate, curriedSetHue as setHue, curriedSetLightness as setLightness, curriedSetSaturation as setSaturation, curriedShade as shade, size, stripUnit, textInputs, timingFunctions, curriedTint as tint, toColorString, transitions, curriedTransparentize as transparentize, triangle, wordWrap };\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import { css } from 'styled-components';\r\nimport { backgroundStyle } from './background';\r\nimport { normalizeColor } from './colors';\r\nimport { breakpointStyle, parseMetricToNum } from './mixins';\r\n\r\nexport const baseStyle = css`\r\n  font-family: ${props => props.theme.global.font.family};\r\n  font-size: ${props => props.theme.global.font.size};\r\n  line-height: ${props => props.theme.global.font.height};\r\n  font-weight: ${props => props.theme.global.font.weight};\r\n  ${props =>\r\n    !props.plain && backgroundStyle(props.theme.baseBackground, props.theme)}\r\n  box-sizing: border-box;\r\n  -webkit-text-size-adjust: 100%;\r\n  -ms-text-size-adjust: 100%;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-font-smoothing: antialiased;\r\n`;\r\n\r\nexport const controlBorderStyle = css`\r\n  border: ${props => props.theme.global.control.border.width} solid\r\n    ${props =>\r\n      normalizeColor(\r\n        props.theme.global.control.border.color || 'border',\r\n        props.theme,\r\n      )};\r\n  border-radius: ${props => props.theme.global.control.border.radius};\r\n`;\r\n\r\nexport const edgeStyle = (\r\n  kind,\r\n  data,\r\n  responsive,\r\n  responsiveBreakpoint,\r\n  theme,\r\n) => {\r\n  const breakpoint =\r\n    responsiveBreakpoint && theme.global.breakpoints[responsiveBreakpoint];\r\n\r\n  if (typeof data === 'string') {\r\n    return css`\r\n      ${kind}: ${theme.global.edgeSize[data] || data};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n        ${kind}: ${breakpoint.edgeSize[data] || data};\r\n      `,\r\n          )\r\n        : ''};\r\n    `;\r\n  }\r\n  const result = [];\r\n\r\n  const { horizontal, vertical, top, bottom, left, right } = data;\r\n\r\n  // if horizontal and vertical are equal OR all sides are equal,\r\n  // we can just return a single css value such as padding: 12px\r\n  // instead of breaking out by sides.\r\n  const horizontalVerticalEqual =\r\n    horizontal && vertical && horizontal === vertical;\r\n  const allSidesEqual =\r\n    top && bottom && left && right && ((top === bottom) === left) === right;\r\n\r\n  if (horizontalVerticalEqual || allSidesEqual) {\r\n    // since the values will be the same between vertical & horizontal OR\r\n    // left, right, top, & bottom, we can just choose one\r\n    const value = horizontalVerticalEqual ? horizontal : top;\r\n    return css`\r\n      ${kind}: ${theme.global.edgeSize[value] || value};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n        ${kind}: ${breakpoint.edgeSize[value] || value};\r\n      `,\r\n          )\r\n        : ''};\r\n    `;\r\n  }\r\n\r\n  if (horizontal) {\r\n    result.push(css`\r\n      ${kind}-left: ${theme.global.edgeSize[horizontal] || horizontal};\r\n      ${kind}-right: ${theme.global.edgeSize[horizontal] || horizontal};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-left: ${breakpoint.edgeSize[horizontal] || horizontal};\r\n          ${kind}-right: ${breakpoint.edgeSize[horizontal] || horizontal};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (vertical) {\r\n    result.push(css`\r\n      ${kind}-top: ${theme.global.edgeSize[vertical] || vertical};\r\n      ${kind}-bottom: ${theme.global.edgeSize[vertical] || vertical};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-top: ${breakpoint.edgeSize[vertical] || vertical};\r\n          ${kind}-bottom: ${breakpoint.edgeSize[vertical] || vertical};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (top) {\r\n    result.push(css`\r\n      ${kind}-top: ${theme.global.edgeSize[top] || top};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-top: ${breakpoint.edgeSize[top] || top};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (bottom) {\r\n    result.push(css`\r\n      ${kind}-bottom: ${theme.global.edgeSize[bottom] || bottom};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-bottom: ${breakpoint.edgeSize[bottom] || bottom};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (left) {\r\n    result.push(css`\r\n      ${kind}-left: ${theme.global.edgeSize[left] || left};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-left: ${breakpoint.edgeSize[left] || left};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (right) {\r\n    result.push(css`\r\n      ${kind}-right: ${theme.global.edgeSize[right] || right};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-right: ${breakpoint.edgeSize[right] || right};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (data.start) {\r\n    result.push(css`\r\n      ${kind}-inline-start: ${theme.global.edgeSize[data.start] || data.start};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-inline-start: ${breakpoint.edgeSize[data.start] ||\r\n              data.start};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n  if (data.end) {\r\n    result.push(css`\r\n      ${kind}-inline-end: ${theme.global.edgeSize[data.end] || data.end};\r\n      ${responsive && breakpoint\r\n        ? breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          ${kind}-inline-end: ${breakpoint.edgeSize[data.end] || data.end};\r\n        `,\r\n          )\r\n        : ''};\r\n    `);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport const fillStyle = fillProp => {\r\n  if (fillProp === 'horizontal') {\r\n    return 'width: 100%;';\r\n  }\r\n  if (fillProp === 'vertical') {\r\n    return 'height: 100%;';\r\n  }\r\n  if (fillProp) {\r\n    return `\r\n      width: 100%;\r\n      height: 100%;\r\n    `;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst focusStyles = (props, { forceOutline, justBorder } = {}) => {\r\n  const {\r\n    theme: {\r\n      global: { focus },\r\n    },\r\n  } = props;\r\n  if (!focus || (forceOutline && !focus.outline)) {\r\n    const color = normalizeColor('focus', props.theme);\r\n    if (color) return `outline: 2px solid ${color};`;\r\n    return ''; // native\r\n  }\r\n  if (focus.outline && (!focus.border || !justBorder)) {\r\n    if (typeof focus.outline === 'object') {\r\n      const color = normalizeColor(focus.outline.color || 'focus', props.theme);\r\n      const size = focus.outline.size || '2px';\r\n      return `\r\n        outline-offset: 0px;\r\n        outline: ${size} solid ${color};\r\n      `;\r\n    }\r\n    return `outline: ${focus.outline};`;\r\n  }\r\n  if (focus.shadow && (!focus.border || !justBorder)) {\r\n    if (typeof focus.shadow === 'object') {\r\n      const color = normalizeColor(\r\n        // If there is a focus.border.color, use that for shadow too.\r\n        // This is for backwards compatibility in v2.\r\n        (focus.border && focus.border.color) || focus.shadow.color || 'focus',\r\n        props.theme,\r\n      );\r\n      const size = focus.shadow.size || '2px'; // backwards compatible default\r\n      return `\r\n        outline: none;\r\n        box-shadow: 0 0 ${size} ${size} ${color};\r\n      `;\r\n    }\r\n    return `\r\n      outline: none;\r\n      box-shadow: ${focus.shadow};\r\n    `;\r\n  }\r\n  if (focus.border) {\r\n    const color = normalizeColor(focus.border.color || 'focus', props.theme);\r\n    return `\r\n      outline: none;\r\n      border-color: ${color};\r\n    `;\r\n  }\r\n  return ''; // defensive\r\n};\r\n\r\nconst unfocusStyles = (props, { forceOutline, justBorder } = {}) => {\r\n  const {\r\n    theme: {\r\n      global: { focus },\r\n    },\r\n  } = props;\r\n  if (!focus || (forceOutline && !focus.outline)) {\r\n    const color = normalizeColor('focus', props.theme);\r\n    if (color) return `outline: none;`;\r\n    return ''; // native\r\n  }\r\n  if (focus.outline && (!focus.border || !justBorder)) {\r\n    if (typeof focus.outline === 'object') {\r\n      return `\r\n        outline-offset: 0px;\r\n        outline: none;\r\n      `;\r\n    }\r\n    return `outline: none;`;\r\n  }\r\n  if (focus.shadow && (!focus.border || !justBorder)) {\r\n    if (typeof focus.shadow === 'object') {\r\n      return `\r\n        outline: none;\r\n        box-shadow: none;\r\n      `;\r\n    }\r\n    return `\r\n      outline: none;\r\n      box-shadow: none;\r\n    `;\r\n  }\r\n  if (focus.border) {\r\n    return `\r\n      outline: none;\r\n      border-color: none;\r\n    `;\r\n  }\r\n  return ''; // defensive\r\n};\r\n\r\n// focus also supports clickable elements inside svg\r\nexport const focusStyle = ({\r\n  forceOutline,\r\n  justBorder,\r\n  skipSvgChildren,\r\n} = {}) => css`\r\n  ${props =>\r\n    !skipSvgChildren &&\r\n    `\r\n  > circle,\r\n  > ellipse,\r\n  > line,\r\n  > path,\r\n  > polygon,\r\n  > polyline,\r\n  > rect {\r\n    ${focusStyles(props)}\r\n  }`}\r\n  ${props => focusStyles(props, { forceOutline, justBorder })}\r\n  ${!forceOutline &&\r\n    `\r\n  ::-moz-focus-inner {\r\n    border: 0;\r\n  }\r\n  `}\r\n`;\r\n\r\n// This is placed next to focusStyle for easy maintainability\r\n// of code since changes to focusStyle should be reflected in\r\n// unfocusStyle as well. However, this function is only being used\r\n// by List for an iterim state. It is not recommended to rely on\r\n// this function for other components.\r\nexport const unfocusStyle = ({\r\n  forceOutline,\r\n  justBorder,\r\n  skipSvgChildren,\r\n} = {}) => css`\r\n  ${props =>\r\n    !skipSvgChildren &&\r\n    `\r\n  > circle,\r\n  > ellipse,\r\n  > line,\r\n  > path,\r\n  > polygon,\r\n  > polyline,\r\n  > rect {\r\n    ${unfocusStyles(props)}\r\n  }`}\r\n  ${props => unfocusStyles(props, { forceOutline, justBorder })}\r\n  ${!forceOutline &&\r\n    `\r\n  ::-moz-focus-inner {\r\n    border: 0;\r\n  }\r\n  `}\r\n`;\r\n\r\n// For backwards compatibility we need to add back the control border width.\r\n// Based on how grommet was functioning prior to https://github.com/grommet/grommet/pull/3939,\r\n// the padding was subtracting the border width from the theme value, but the\r\n// placeholder was not. Because we're now placing the subtraction into the\r\n// theme itself, we have to add back in the border width here.\r\n// This is used for placeholder/icon in TextInput and MaskedInput.\r\nconst adjustPad = (props, value) =>\r\n  `${parseMetricToNum(`${props.theme.global.edgeSize[value] || value}px`) +\r\n    parseMetricToNum(`${props.theme.global.control.border.width}px`)}px`;\r\n\r\nexport const getInputPadBySide = (props, side) => {\r\n  if (typeof props.theme.global.input.padding !== 'object') {\r\n    const adjustedPad = adjustPad(props, props.theme.global.input.padding);\r\n    return adjustedPad;\r\n  }\r\n\r\n  let orientation;\r\n  if (side === 'left' || side === 'right') orientation = 'horizontal';\r\n  else if (side === 'top' || side === 'bottom') orientation = 'vertical';\r\n  else orientation = undefined;\r\n\r\n  // if individual side isn't available, fallback to the\r\n  // orientation if possible\r\n  const pad =\r\n    props.theme.global.input.padding[side] ||\r\n    props.theme.global.input.padding[orientation];\r\n\r\n  const adjustedPad = adjustPad(props, pad);\r\n\r\n  return adjustedPad;\r\n};\r\n\r\nconst placeholderColor = css`\r\n  color: ${props =>\r\n    normalizeColor(props.theme.global.colors.placeholder, props.theme)};\r\n`;\r\n\r\nconst placeholderStyle = css`\r\n  &::-webkit-input-placeholder {\r\n    ${placeholderColor};\r\n  }\r\n\r\n  &::-moz-placeholder {\r\n    ${placeholderColor};\r\n  }\r\n\r\n  &:-ms-input-placeholder {\r\n    ${placeholderColor};\r\n  }\r\n`;\r\n\r\nconst inputSizeStyle = props => {\r\n  const data = props.theme.text[props.size];\r\n  return css`\r\n    font-size: ${data.size};\r\n    line-height: ${data.height};\r\n  `;\r\n};\r\n\r\nexport const inputStyle = css`\r\n  box-sizing: border-box;\r\n  ${props =>\r\n    `font-size: ${\r\n      props.theme.global.input.font.size\r\n        ? props.theme.text[props.theme.global.input.font.size].size ||\r\n          props.theme.global.input.font.size\r\n        : 'inherit'\r\n    };`}\r\n  font-family: inherit;\r\n  border: none;\r\n  -webkit-appearance: none;\r\n  background: transparent;\r\n  color: inherit;\r\n  width: 100%;\r\n  ${props =>\r\n    props.theme.global.input.font.height &&\r\n    `line-height: ${props.theme.global.input.font.height};`}\r\n  ${props =>\r\n    props.theme.global.input.padding &&\r\n    typeof props.theme.global.input.padding !== 'object'\r\n      ? // On a breaking change release, this condition could be removed and\r\n        // just the edgeStyle could remain. Currently, this is needed for\r\n        // backwards compatibility since we are placing the calculation in\r\n        // base.js\r\n        `padding: ${parseMetricToNum(\r\n          props.theme.global.edgeSize[props.theme.global.input.padding] ||\r\n            props.theme.global.input.padding,\r\n        ) - parseMetricToNum(props.theme.global.control.border.width)}px;`\r\n      : edgeStyle(\r\n          'padding',\r\n          props.theme.global.input.padding,\r\n          props.responsive,\r\n          props.theme.box.responsiveBreakpoint,\r\n          props.theme,\r\n        )}\r\n  ${props =>\r\n    // for backwards compatibility, check if props.theme.global.input.weight\r\n    (props.theme.global.input.weight || props.theme.global.input.font.weight) &&\r\n    css`\r\n      font-weight: ${props.theme.global.input.weight ||\r\n        props.theme.global.input.font.weight};\r\n    `} margin: 0;\r\n  ${props => props.size && inputSizeStyle(props)}\r\n  ${props => props.focus && !props.plain && focusStyle()};\r\n  ${controlBorderStyle}\r\n  ${placeholderStyle}\r\n\r\n  ::-webkit-search-decoration {\r\n    -webkit-appearance: none;\r\n  }\r\n\r\n  &::-moz-focus-inner {\r\n    border: none;\r\n    outline: none;\r\n  }\r\n\r\n  &:-moz-placeholder, // FF 18-\r\n  &::-moz-placeholder { // FF 19+\r\n    opacity: 1;\r\n  }\r\n\r\n  ${props => props.theme.global.input.extend}\r\n`;\r\n\r\nexport const overflowStyle = overflowProp => {\r\n  if (typeof overflowProp === 'string') {\r\n    return css`\r\n      overflow: ${overflowProp};\r\n    `;\r\n  }\r\n\r\n  return css`\r\n    ${overflowProp.horizontal &&\r\n      `overflow-x: ${overflowProp.horizontal};`} ${overflowProp.vertical &&\r\n      `overflow-y: ${overflowProp.vertical};`};\r\n  `;\r\n};\r\n\r\nconst ALIGN_SELF_MAP = {\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nexport const genericStyles = css`\r\n  ${props =>\r\n    props.alignSelf && `align-self: ${ALIGN_SELF_MAP[props.alignSelf]};`}\r\n  ${props => props.gridArea && `grid-area: ${props.gridArea};`}\r\n  ${props =>\r\n    props.margin &&\r\n    props.theme.global &&\r\n    edgeStyle(\r\n      'margin',\r\n      props.margin,\r\n      props.responsive,\r\n      props.theme.global.edgeSize.responsiveBreakpoint,\r\n      props.theme,\r\n    )}\r\n`;\r\n\r\nexport const disabledStyle = componentStyle => css`\r\n  opacity: ${props =>\r\n    componentStyle || props.theme.global.control.disabled.opacity};\r\n  cursor: default;\r\n`;\r\n\r\nexport const sizeStyle = (name, value, theme) => css`\r\n  ${name}: ${theme.global.size[value] || value};\r\n`;\r\n\r\nexport const plainInputStyle = css`\r\n  outline: none;\r\n  border: none;\r\n`;\r\n\r\n// CSS for this sub-object in the theme\r\nexport const kindPartStyles = (obj, theme, colorValue) => {\r\n  const styles = [];\r\n  if (obj.padding || obj.pad) {\r\n    // button uses `padding` but other components use Grommet `pad`\r\n    const pad = obj.padding || obj.pad;\r\n    if (pad.vertical || pad.horizontal)\r\n      styles.push(\r\n        `padding: ${theme.global.edgeSize[pad.vertical] ||\r\n          pad.vertical ||\r\n          0} ${theme.global.edgeSize[pad.horizontal] || pad.horizontal || 0};`,\r\n      );\r\n    else styles.push(`padding: ${theme.global.edgeSize[pad] || pad || 0};`);\r\n  }\r\n  if (obj.background)\r\n    styles.push(\r\n      backgroundStyle(\r\n        colorValue || obj.background,\r\n        theme,\r\n        obj.color ||\r\n          (Object.prototype.hasOwnProperty.call(obj, 'color') &&\r\n          obj.color === undefined\r\n            ? false\r\n            : undefined),\r\n      ),\r\n    );\r\n  else if (obj.color)\r\n    styles.push(`color: ${normalizeColor(obj.color, theme)};`);\r\n  if (obj.border) {\r\n    if (obj.border.width)\r\n      styles.push(css`\r\n        border-style: solid;\r\n        border-width: ${obj.border.width};\r\n      `);\r\n    if (obj.border.color)\r\n      styles.push(css`\r\n        border-color: ${normalizeColor(\r\n          (!obj.background && colorValue) || obj.border.color || 'border',\r\n          theme,\r\n        )};\r\n      `);\r\n    if (obj.border.radius)\r\n      styles.push(css`\r\n        border-radius: ${obj.border.radius};\r\n      `);\r\n  } else if (obj.border === false) styles.push('border: none;');\r\n  if (colorValue && !obj.border && !obj.background)\r\n    styles.push(`color: ${normalizeColor(colorValue, theme)};`);\r\n  if (obj.font) {\r\n    if (obj.font.size) {\r\n      styles.push(\r\n        `font-size: ${theme.text[obj.font.size].size || obj.font.size};`,\r\n      );\r\n    }\r\n    if (obj.font.height) {\r\n      styles.push(`line-height: ${obj.font.height};`);\r\n    }\r\n    if (obj.font.weight) {\r\n      styles.push(`font-weight: ${obj.font.weight};`);\r\n    }\r\n  }\r\n  if (obj.opacity) {\r\n    const opacity =\r\n      obj.opacity === true\r\n        ? theme.global.opacity.medium\r\n        : theme.global.opacity[obj.opacity] || obj.opacity;\r\n    styles.push(`opacity: ${opacity};`);\r\n  }\r\n  if (obj.extend) styles.push(obj.extend);\r\n  return styles;\r\n};\r\n\r\nconst TEXT_ALIGN_MAP = {\r\n  center: 'center',\r\n  end: 'right',\r\n  start: 'left',\r\n};\r\n\r\nexport const textAlignStyle = css`\r\n  text-align: ${props => TEXT_ALIGN_MAP[props.textAlign]};\r\n`;\r\n","import { useEffect, useRef } from 'react';\r\n\r\n// https://medium.com/the-non-traditional-developer/how-to-use-the-forwarded-ref-in-react-1fb108f4e6af\r\nexport const useForwardedRef = ref => {\r\n  const innerRef = useRef(null);\r\n  useEffect(() => {\r\n    if (!ref) return;\r\n    if (typeof ref === 'function') {\r\n      ref(innerRef.current);\r\n    } else {\r\n      // eslint-disable-next-line no-param-reassign\r\n      ref.current = innerRef.current;\r\n    }\r\n  });\r\n\r\n  return innerRef;\r\n};\r\n","import { rgba } from 'polished';\r\n\r\nimport { Actions } from 'grommet-icons/icons/Actions';\r\nimport { ClosedCaption } from 'grommet-icons/icons/ClosedCaption';\r\nimport { Expand } from 'grommet-icons/icons/Expand';\r\nimport { FormDown } from 'grommet-icons/icons/FormDown';\r\nimport { FormNext } from 'grommet-icons/icons/FormNext';\r\nimport { FormPrevious } from 'grommet-icons/icons/FormPrevious';\r\nimport { FormUp } from 'grommet-icons/icons/FormUp';\r\nimport { Next } from 'grommet-icons/icons/Next';\r\nimport { Pause } from 'grommet-icons/icons/Pause';\r\nimport { Play } from 'grommet-icons/icons/Play';\r\nimport { Previous } from 'grommet-icons/icons/Previous';\r\nimport { Subtract } from 'grommet-icons/icons/Subtract';\r\nimport { Volume } from 'grommet-icons/icons/Volume';\r\nimport { VolumeLow } from 'grommet-icons/icons/VolumeLow';\r\nimport { base as iconBase } from 'grommet-icons/themes/base';\r\n\r\nimport { deepFreeze, deepMerge } from '../utils/object';\r\nimport { parseMetricToNum } from '../utils/mixins';\r\n\r\nconst brandColor = '#7D4CDB';\r\nconst accentColors = ['#6FFFB0', '#FD6FFF', '#81FCED', '#FFCA58'];\r\nconst neutralColors = ['#00873D', '#3D138D', '#00739D', '#A2423D'];\r\nconst statusColors = {\r\n  critical: '#FF4040',\r\n  error: '#FF4040',\r\n  warning: '#FFAA15',\r\n  ok: '#00C781',\r\n  unknown: '#CCCCCC',\r\n  disabled: '#CCCCCC',\r\n};\r\nconst darkColors = [\r\n  '#333333',\r\n  '#555555',\r\n  '#777777',\r\n  '#999999',\r\n  '#999999',\r\n  '#999999',\r\n];\r\nconst lightColors = [\r\n  '#F8F8F8',\r\n  '#F2F2F2',\r\n  '#EDEDED',\r\n  '#DADADA',\r\n  '#DADADA',\r\n  '#DADADA',\r\n];\r\nconst focusColor = accentColors[0];\r\n\r\nconst colors = {\r\n  active: rgba(221, 221, 221, 0.5),\r\n  'background-back': {\r\n    dark: '#33333308',\r\n    light: '#EDEDED',\r\n  },\r\n  'background-front': {\r\n    dark: '#444444',\r\n    light: '#FFFFFF',\r\n  },\r\n  'background-contrast': {\r\n    light: '#33333310',\r\n    dark: '#FFFFFF18',\r\n  },\r\n  'active-background': 'background-contrast',\r\n  'active-text': 'text-strong',\r\n  black: '#000000',\r\n  border: {\r\n    dark: rgba(255, 255, 255, 0.33),\r\n    light: rgba(0, 0, 0, 0.33),\r\n  },\r\n  brand: brandColor,\r\n  control: {\r\n    dark: 'accent-1',\r\n    light: 'brand',\r\n  },\r\n  focus: focusColor,\r\n  'graph-0': 'accent-1',\r\n  'graph-1': 'neutral-1',\r\n  'graph-2': 'neutral-2',\r\n  'graph-3': 'neutral-3',\r\n  'graph-4': 'neutral-4',\r\n  placeholder: '#AAAAAA',\r\n  selected: 'brand',\r\n  text: {\r\n    dark: '#f8f8f8',\r\n    light: '#444444',\r\n  },\r\n  'text-strong': {\r\n    dark: '#FFFFFF',\r\n    light: '#000000',\r\n  },\r\n  'text-weak': {\r\n    dark: '#CCCCCC',\r\n    light: '#555555',\r\n  },\r\n  'text-xweak': {\r\n    dark: '#BBBBBB',\r\n    light: '#666666',\r\n  },\r\n  icon: {\r\n    dark: '#f8f8f8',\r\n    light: '#666666',\r\n  },\r\n  'selected-background': 'brand',\r\n  'selected-text': 'text-strong',\r\n  white: '#FFFFFF',\r\n};\r\n\r\nconst colorArray = (array, prefix) =>\r\n  array.forEach((color, index) => {\r\n    colors[`${prefix}-${index + 1}`] = color;\r\n  });\r\n\r\ncolorArray(accentColors, 'accent');\r\ncolorArray(darkColors, 'dark');\r\ncolorArray(lightColors, 'light');\r\ncolorArray(neutralColors, 'neutral');\r\nObject.keys(statusColors).forEach(color => {\r\n  colors[`status-${color}`] = statusColors[color];\r\n});\r\n\r\nexport const generate = (baseSpacing = 24, scale = 6) => {\r\n  // 24\r\n  const baseFontSize = baseSpacing * 0.75; // 18\r\n  const fontScale = baseSpacing / scale; // 4\r\n\r\n  const fontSizing = factor => ({\r\n    size: `${baseFontSize + factor * fontScale}px`,\r\n    height: `${baseSpacing + factor * fontScale}px`,\r\n    // maxWidth chosen to be ~50 characters wide\r\n    // see: https://ux.stackexchange.com/a/34125\r\n    maxWidth: `${baseSpacing * (baseFontSize + factor * fontScale)}px`,\r\n  });\r\n\r\n  const borderWidth = 2;\r\n  const controlBorderWidth = 1;\r\n\r\n  const result = deepMerge(iconBase, {\r\n    global: {\r\n      active: {\r\n        background: {\r\n          color: 'active',\r\n          opacity: 'medium',\r\n        },\r\n        color: {\r\n          dark: 'white',\r\n          light: 'black',\r\n        },\r\n      },\r\n      animation: {\r\n        duration: '1s',\r\n        jiggle: {\r\n          duration: '0.1s',\r\n        },\r\n      },\r\n      borderSize: {\r\n        xsmall: '1px',\r\n        small: '2px',\r\n        medium: `${baseSpacing / 6}px`, // 4\r\n        large: `${baseSpacing / 2}px`, // 12\r\n        xlarge: `${baseSpacing}px`, // 24\r\n      },\r\n      breakpoints: {\r\n        small: {\r\n          value: baseSpacing * 32, // 768\r\n          borderSize: {\r\n            xsmall: '1px',\r\n            small: '2px',\r\n            medium: `${baseSpacing / 6}px`, // 4\r\n            large: `${baseSpacing / 4}px`, // 6\r\n            xlarge: `${baseSpacing / 2}px`, // 12\r\n          },\r\n          edgeSize: {\r\n            none: '0px',\r\n            hair: '1px', // for Chart\r\n            xxsmall: '2px',\r\n            xsmall: `${baseSpacing / 8}px`, // 3\r\n            small: `${baseSpacing / 4}px`, // 6\r\n            medium: `${baseSpacing / 2}px`, // 12\r\n            large: `${baseSpacing}px`, // 24\r\n            xlarge: `${baseSpacing * 2}px`, // 48\r\n          },\r\n          size: {\r\n            xxsmall: `${baseSpacing}px`, // 24\r\n            xsmall: `${baseSpacing * 2}px`, // 48\r\n            small: `${baseSpacing * 4}px`, // 96\r\n            medium: `${baseSpacing * 8}px`, // 192\r\n            large: `${baseSpacing * 16}px`, // 384\r\n            xlarge: `${baseSpacing * 32}px`, // 768\r\n            full: '100%',\r\n          },\r\n        },\r\n        medium: {\r\n          value: baseSpacing * 64, // 1536\r\n        },\r\n        large: {}, // anything above 'medium'\r\n      },\r\n      // Breakpoints used at Server Side Rendering for the initial rendering\r\n      // These values correspond to the theme breakpoints\r\n      deviceBreakpoints: {\r\n        phone: 'small',\r\n        tablet: 'medium',\r\n        computer: 'large',\r\n      },\r\n      colors,\r\n      control: {\r\n        border: {\r\n          width: `${controlBorderWidth}px`,\r\n          radius: '4px',\r\n          color: 'border',\r\n        },\r\n        disabled: {\r\n          opacity: 0.3,\r\n        },\r\n      },\r\n      // The time to wait after the user stopped typing, measured in ms.\r\n      debounceDelay: 300,\r\n      drop: {\r\n        background: {\r\n          dark: 'black',\r\n          light: 'white',\r\n        },\r\n        border: {\r\n          radius: '0px',\r\n        },\r\n        shadowSize: 'small',\r\n        zIndex: '20',\r\n      },\r\n      edgeSize: {\r\n        none: '0px',\r\n        hair: '1px', // for Chart\r\n        xxsmall: `${baseSpacing / 8}px`, // 3\r\n        xsmall: `${baseSpacing / 4}px`, // 6\r\n        small: `${baseSpacing / 2}px`, // 12\r\n        medium: `${baseSpacing}px`, // 24\r\n        large: `${baseSpacing * 2}px`, // 48\r\n        xlarge: `${baseSpacing * 4}px`, // 96\r\n        responsiveBreakpoint: 'small',\r\n      },\r\n      elevation: {\r\n        light: {\r\n          none: 'none',\r\n          xsmall: '0px 1px 2px rgba(0, 0, 0, 0.20)',\r\n          small: '0px 2px 4px rgba(0, 0, 0, 0.20)',\r\n          medium: '0px 4px 8px rgba(0, 0, 0, 0.20)',\r\n          large: '0px 8px 16px rgba(0, 0, 0, 0.20)',\r\n          xlarge: '0px 12px 24px rgba(0, 0, 0, 0.20)',\r\n        },\r\n        dark: {\r\n          none: 'none',\r\n          xsmall: '0px 2px 2px rgba(255, 255, 255, 0.40)',\r\n          small: '0px 4px 4px rgba(255, 255, 255, 0.40)',\r\n          medium: '0px 6px 8px rgba(255, 255, 255, 0.40)',\r\n          large: '0px 8px 16px rgba(255, 255, 255, 0.40)',\r\n          xlarge: '0px 12px 24px rgba(255, 255, 255, 0.40)',\r\n        },\r\n      },\r\n      focus: {\r\n        // shadow or outline are required for accessibility\r\n        border: {\r\n          // remove to only have shadow\r\n          color: 'focus',\r\n        },\r\n        // outline: { color: undefined, size: undefined },\r\n        shadow: {\r\n          color: 'focus',\r\n          size: '2px',\r\n        },\r\n      },\r\n      font: {\r\n        ...fontSizing(0),\r\n        // face: undefined,\r\n        // family: undefined,\r\n      },\r\n      hover: {\r\n        background: {\r\n          color: 'active',\r\n          opacity: 'medium',\r\n        },\r\n        color: {\r\n          dark: 'white',\r\n          light: 'black',\r\n        },\r\n      },\r\n      input: {\r\n        padding: {\r\n          horizontal: `${parseMetricToNum(`${baseSpacing / 2}px`) -\r\n            parseMetricToNum(`${controlBorderWidth}px`)}px`,\r\n          vertical: `${parseMetricToNum(`${baseSpacing / 2}px`) -\r\n            parseMetricToNum(`${controlBorderWidth}px`)}px`,\r\n        },\r\n        font: {\r\n          // size: undefined,\r\n          // height: undefined,\r\n          weight: 600,\r\n        },\r\n        // deprecate in v3\r\n        // weight: undefined,\r\n      },\r\n      opacity: {\r\n        strong: 0.8,\r\n        medium: 0.4,\r\n        weak: 0.1,\r\n      },\r\n      selected: {\r\n        background: 'selected',\r\n        color: 'white',\r\n      },\r\n      spacing: `${baseSpacing}px`,\r\n      size: {\r\n        xxsmall: `${baseSpacing * 2}px`, // 48\r\n        xsmall: `${baseSpacing * 4}px`, // 96\r\n        small: `${baseSpacing * 8}px`, // 192\r\n        medium: `${baseSpacing * 16}px`, // 384\r\n        large: `${baseSpacing * 32}px`, // 768\r\n        xlarge: `${baseSpacing * 48}px`, // 1152\r\n        xxlarge: `${baseSpacing * 64}px`, // 1536\r\n        full: '100%',\r\n      },\r\n    },\r\n    accordion: {\r\n      panel: {\r\n        // border: {\r\n        //   side: 'bottom',\r\n        //   color: 'border',\r\n        // },\r\n      },\r\n      border: {\r\n        side: 'bottom',\r\n        color: 'border',\r\n      },\r\n      heading: {\r\n        level: '4', // level ranges from 1-6\r\n        // margin: undefined\r\n      },\r\n      hover: {\r\n        color: { dark: 'light-4', light: 'dark-3' }, // deprecated\r\n        heading: {\r\n          color: { dark: 'light-4', light: 'dark-3' },\r\n        },\r\n      },\r\n      icons: {\r\n        collapse: FormUp,\r\n        expand: FormDown,\r\n        // color: { dark: undefined, light: undefined },\r\n      },\r\n    },\r\n    anchor: {\r\n      textDecoration: 'none',\r\n      fontWeight: 600,\r\n      color: {\r\n        dark: 'accent-1',\r\n        light: 'brand',\r\n      },\r\n      hover: {\r\n        textDecoration: 'underline',\r\n        // fontWeight: undefined,\r\n        // extend: undefined,\r\n      },\r\n      // extend: undefined,\r\n    },\r\n    avatar: {\r\n      // extend: undefined,\r\n      size: {\r\n        xsmall: `${baseSpacing * 0.75}px`,\r\n        small: `${baseSpacing}px`,\r\n        medium: `${baseSpacing * 2}px`, // default 48\r\n        large: `${baseSpacing * 3}px`,\r\n        xlarge: `${baseSpacing * 4}px`,\r\n      },\r\n      text: {\r\n        size: {\r\n          xsmall: 'small',\r\n          small: 'medium',\r\n          medium: 'large',\r\n          large: 'xlarge',\r\n          xlarge: 'xxlarge',\r\n        },\r\n        // fontWeight: undefined,\r\n        // extend: undefined\r\n      },\r\n    },\r\n    box: {\r\n      responsiveBreakpoint: 'small', // when we switch rows to columns\r\n      // extend: undefined,\r\n    },\r\n    button: {\r\n      size: {\r\n        small: {\r\n          border: {\r\n            radius: `${baseSpacing * 0.75}px`,\r\n          },\r\n          pad: {\r\n            vertical: `${baseSpacing / 4 - borderWidth}px`, // 4px\r\n            horizontal: `${baseSpacing - borderWidth * 2}px`, // 20px,\r\n          },\r\n        },\r\n        medium: {\r\n          border: {\r\n            radius: `${baseSpacing * 0.75}px`, // 18px\r\n          },\r\n          pad: {\r\n            vertical: `${baseSpacing / 4 - borderWidth}px`, // 4px\r\n            horizontal: `${baseSpacing - borderWidth}px`, // 22px\r\n          },\r\n        },\r\n        large: {\r\n          border: {\r\n            radius: `${baseSpacing}px`, // 24px\r\n          },\r\n          pad: {\r\n            vertical: `${baseSpacing / 4 + borderWidth}px`, // 8px\r\n            horizontal: `${baseSpacing + borderWidth * 4}px`, // 32px,\r\n          },\r\n        },\r\n      },\r\n      border: {\r\n        // color: { dark: undefined, light: undefined }\r\n        width: `${borderWidth}px`,\r\n        radius: `${baseSpacing * 0.75}px`,\r\n      },\r\n      // color: { dark: undefined, light: undefined }\r\n      // default: {\r\n      //   background: undefined,\r\n      //   border: undefined,\r\n      //   color: undefined,\r\n      //   font: {\r\n      //     weight: undefined,\r\n      //   },\r\n      //   padding: {\r\n      //     vertical: undefined,\r\n      //     horizontal: undefined,\r\n      //   },\r\n      //   extend: undefined,\r\n      // },\r\n      // primary: {\r\n      //   font: {\r\n      //     weight: undefined,\r\n      //   },\r\n      //   background: undefined,\r\n      //   border: undefined,\r\n      //   color: undefined,\r\n      //   padding: {\r\n      //     vertical: undefined,\r\n      //     horizontal: undefined,\r\n      //   },\r\n      //   extend: undefined,\r\n      // },\r\n      // secondary: {\r\n      //   font: {\r\n      //     weight: undefined,\r\n      //   },\r\n      //   background: undefined,\r\n      //   border: undefined,\r\n      //   color: undefined,\r\n      //   padding: {\r\n      //     vertical: undefined,\r\n      //     horizontal: undefined,\r\n      //   },\r\n      //   extend: undefined,\r\n      // },\r\n      // option: {\r\n      //   background: undefined,\r\n      //   border: undefined,\r\n      //   color: undefined,\r\n      //   padding: {\r\n      //     vertical: undefined,\r\n      //     horizontal: undefined,\r\n      //   },\r\n      //   extend: undefined,\r\n      // },\r\n      active: {\r\n        background: 'active-background',\r\n        //   border: undefined,\r\n        color: 'active-text',\r\n        //   extend: undefined,\r\n        //   default: {},\r\n        //   primary: {},\r\n        //   secondary: {},\r\n      },\r\n      disabled: {\r\n        //   background: undefined,\r\n        //   border: undefined,\r\n        //   color: undefined,\r\n        opacity: 0.3,\r\n        //   extend: undefined,\r\n        //   default: {},\r\n        //   primary: {},\r\n        //   secondary: {},\r\n      },\r\n      // hover: {\r\n      //   background: undefined,\r\n      //   border: undefined,\r\n      //   color: undefined},\r\n      //   extend: undefined,\r\n      //   default: {},\r\n      //   primary: {},\r\n      //   secondary: {},\r\n      // },\r\n      padding: {\r\n        vertical: `${baseSpacing / 4 - borderWidth}px`,\r\n        horizontal: `${baseSpacing - borderWidth}px`,\r\n      },\r\n      transition: {\r\n        timing: 'ease-in-out',\r\n        duration: 0.1,\r\n        properties: ['color', 'background-color', 'border-color', 'box-shadow'],\r\n      },\r\n    },\r\n    calendar: {\r\n      // daySize must align with global.size\r\n      small: {\r\n        fontSize: `${baseFontSize - fontScale}px`,\r\n        lineHeight: 1.375,\r\n        daySize: `${(baseSpacing * 8) / 7}px`,\r\n        slideDuration: '0.2s',\r\n      },\r\n      medium: {\r\n        fontSize: `${baseFontSize}px`,\r\n        lineHeight: 1.45,\r\n        daySize: `${(baseSpacing * 16) / 7}px`,\r\n        slideDuration: '0.5s',\r\n      },\r\n      large: {\r\n        fontSize: `${baseFontSize + 3 * fontScale}px`,\r\n        lineHeight: 1.11,\r\n        daySize: `${(baseSpacing * 32) / 7}px`,\r\n        slideDuration: '0.8s',\r\n      },\r\n      icons: {\r\n        previous: Previous,\r\n        next: Next,\r\n        small: {\r\n          previous: FormPrevious,\r\n          next: FormNext,\r\n        },\r\n      },\r\n      heading: { level: '4' }, // level ranges from 1-6\r\n    },\r\n    card: {\r\n      container: {\r\n        round: 'small',\r\n        elevation: 'small',\r\n      },\r\n      header: {},\r\n      body: {},\r\n      footer: {},\r\n    },\r\n    carousel: {\r\n      icons: {\r\n        current: Subtract,\r\n        next: Next,\r\n        previous: Previous,\r\n        // color: { dark: undefined, light: undefined },\r\n      },\r\n      animation: {\r\n        duration: 1000,\r\n      },\r\n      disabled: {\r\n        icons: {\r\n          // color: { dark: undefined, light: undefined },\r\n        },\r\n      },\r\n    },\r\n    chart: {\r\n      color: 'graph-0',\r\n      // extend: undefined,\r\n    },\r\n    checkBox: {\r\n      border: {\r\n        color: {\r\n          dark: 'rgba(255, 255, 255, 0.5)',\r\n          light: 'rgba(0, 0, 0, 0.15)',\r\n        },\r\n        width: '2px',\r\n      },\r\n      check: {\r\n        // extend: undefined,\r\n        radius: '4px',\r\n        thickness: '4px',\r\n      },\r\n      // color: { dark: undefined, light: undefined },\r\n      // extend: undefined,\r\n      // gap: undefined\r\n      hover: {\r\n        border: {\r\n          color: {\r\n            dark: 'white',\r\n            light: 'black',\r\n          },\r\n        },\r\n      },\r\n      icon: {\r\n        // size: undefined,\r\n        // extend: undefined,\r\n      },\r\n      icons: {\r\n        // checked: undefined,\r\n        // indeterminate: undefined,\r\n      },\r\n      size: `${baseSpacing}px`,\r\n      toggle: {\r\n        // background: undefined\r\n        color: {\r\n          dark: '#d9d9d9',\r\n          light: '#d9d9d9',\r\n        },\r\n        knob: {\r\n          // extend: undefined,\r\n        },\r\n        radius: `${baseSpacing}px`,\r\n        size: `${baseSpacing * 2}px`,\r\n        // extend: undefined,\r\n      },\r\n    },\r\n    checkBoxGroup: {\r\n      // container: {\r\n      //   // any box props\r\n      //   extend: undefined,\r\n      // },\r\n    },\r\n    clock: {\r\n      analog: {\r\n        // extend: undefined,\r\n        hour: {\r\n          color: {\r\n            dark: 'light-2',\r\n            light: 'dark-3',\r\n          },\r\n          width: `${baseSpacing / 3}px`,\r\n          size: `${baseSpacing}px`,\r\n          shape: 'round',\r\n        },\r\n        minute: {\r\n          color: {\r\n            dark: 'light-4',\r\n            light: 'dark-3',\r\n          },\r\n          width: `${baseSpacing / 6}px`,\r\n          size: `${Math.round(baseSpacing / 2)}px`,\r\n          shape: 'round',\r\n        },\r\n        second: {\r\n          color: {\r\n            dark: 'accent-1',\r\n            light: 'accent-1',\r\n          },\r\n          width: `${baseSpacing / 8}px`,\r\n          size: `${Math.round(baseSpacing / 2.666)}px`,\r\n          shape: 'round',\r\n        },\r\n        size: {\r\n          xsmall: `${baseSpacing * 2}px`,\r\n          small: `${baseSpacing * 3}px`,\r\n          medium: `${baseSpacing * 4}px`,\r\n          large: `${baseSpacing * 6}px`,\r\n          xlarge: `${baseSpacing * 9}px`,\r\n          xxlarge: `${baseSpacing * 12}px`,\r\n          huge: `${baseSpacing * 12}px`, // kept for backwards compatibility\r\n        },\r\n      },\r\n      digital: {\r\n        text: {\r\n          xsmall: { size: `${baseFontSize - 2 * fontScale}px`, height: 1.5 },\r\n          small: { size: `${baseFontSize - fontScale}px`, height: 1.43 },\r\n          medium: { size: `${baseFontSize}px`, height: 1.375 },\r\n          large: { size: `${baseFontSize + fontScale}px`, height: 1.167 },\r\n          xlarge: { size: `${baseFontSize + 2 * fontScale}px`, height: 1.1875 },\r\n          xxlarge: { size: `${baseFontSize + 4 * fontScale}px`, height: 1.125 },\r\n        },\r\n      },\r\n    },\r\n    collapsible: {\r\n      minSpeed: 200,\r\n      baseline: 500,\r\n    },\r\n    dateInput: {\r\n      // icon: {\r\n      //   size: undefined,\r\n      // },\r\n    },\r\n    dataTable: {\r\n      // body: {\r\n      //   extend: undefined,\r\n      // },\r\n      // pinned: {\r\n      //   body: {\r\n      //      background: undefined,\r\n      //      extend: undefined,\r\n      //   },\r\n      //   header: {\r\n      //      background: undefined,\r\n      //      extend: undefined,\r\n      //   },\r\n      //   footer: {\r\n      //      background: undefined,\r\n      //      extend: undefined,\r\n      //   },\r\n      // },\r\n      groupHeader: {\r\n        background: {\r\n          dark: 'dark-2',\r\n          light: 'light-2',\r\n        },\r\n        border: { side: 'bottom', size: 'xsmall' },\r\n        pad: { horizontal: 'small', vertical: 'xsmall' },\r\n      },\r\n      groupEnd: {\r\n        border: { side: 'bottom', size: 'xsmall' },\r\n      },\r\n      header: {\r\n        // background: undefined,\r\n        // border: undefined,\r\n        // color: undefined,\r\n        // extend: undefined,\r\n        // font: {\r\n        //   weight: undefined,\r\n        //   size: undefined,\r\n        // },\r\n        gap: 'small',\r\n        // hover: {\r\n        //   background: undefined,\r\n        // },\r\n        // pad: undefined,\r\n        units: {\r\n          color: 'text-xweak',\r\n          margin: { left: 'xsmall' },\r\n        },\r\n      },\r\n      icons: {\r\n        ascending: FormDown,\r\n        contract: FormUp,\r\n        descending: FormUp,\r\n        expand: FormDown,\r\n        // sortable: undefined,\r\n      },\r\n      primary: {\r\n        weight: 'bold',\r\n      },\r\n      resize: {\r\n        border: {\r\n          color: 'border',\r\n          side: 'end',\r\n        },\r\n        // hover: {\r\n        //   border: {\r\n        //     color: undefined,\r\n        //     side: undefined,\r\n        //     size: undefined,\r\n        //   },\r\n        // },\r\n      },\r\n    },\r\n    diagram: {\r\n      // extend: undefined,\r\n      line: {\r\n        color: 'graph-0',\r\n      },\r\n    },\r\n    // drop: {\r\n    //   extend: undefined,\r\n    //   maxHeight: undefined,\r\n    // },\r\n    formField: {\r\n      border: {\r\n        color: 'border',\r\n        error: {\r\n          color: {\r\n            dark: 'white',\r\n            light: 'status-critical',\r\n          },\r\n        },\r\n        position: 'inner',\r\n        side: 'bottom',\r\n      },\r\n      content: {\r\n        // margin: undefined,\r\n        pad: 'small',\r\n      },\r\n      disabled: {\r\n        background: {\r\n          color: 'status-disabled',\r\n          opacity: 'medium',\r\n        },\r\n        // border: {\r\n        //   color: undefined,\r\n        // },\r\n        // label: {\r\n        //   color: undefined,\r\n        // },\r\n      },\r\n      // focus: {\r\n      //   background: {\r\n      //     color: undefined,\r\n      //   },\r\n      //   border: {\r\n      //     color: undefined,\r\n      //   },\r\n      // },\r\n      error: {\r\n        color: 'status-critical',\r\n        margin: { vertical: 'xsmall', horizontal: 'small' },\r\n        // background: undefined,\r\n        // container: {}, // any Box props\r\n        // icon: undefined,\r\n      },\r\n      // extend: undefined,\r\n      help: {\r\n        color: 'dark-3',\r\n        margin: {\r\n          start: 'small',\r\n        },\r\n      },\r\n      info: {\r\n        color: 'text-xweak',\r\n        margin: { vertical: 'xsmall', horizontal: 'small' },\r\n        // container: {}, // any Box props\r\n        // icon: undefined,\r\n      },\r\n      label: {\r\n        margin: { vertical: 'xsmall', horizontal: 'small' },\r\n      },\r\n      margin: { bottom: 'small' },\r\n      // round: undefined,\r\n    },\r\n    grommet: {\r\n      // extend: undefined\r\n    },\r\n    heading: {\r\n      font: {\r\n        // family: undefined\r\n      },\r\n      level: {\r\n        1: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(4) },\r\n          medium: { ...fontSizing(8) },\r\n          large: { ...fontSizing(16) },\r\n          xlarge: { ...fontSizing(24) },\r\n        },\r\n        2: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(2) },\r\n          medium: { ...fontSizing(4) },\r\n          large: { ...fontSizing(8) },\r\n          xlarge: { ...fontSizing(12) },\r\n        },\r\n        3: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(1) },\r\n          medium: { ...fontSizing(2) },\r\n          large: { ...fontSizing(4) },\r\n          xlarge: { ...fontSizing(6) },\r\n        },\r\n        4: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(0) },\r\n          medium: { ...fontSizing(0) },\r\n          large: { ...fontSizing(0) },\r\n          xlarge: { ...fontSizing(0) },\r\n        },\r\n        5: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(-0.5) },\r\n          medium: { ...fontSizing(-0.5) },\r\n          large: { ...fontSizing(-0.5) },\r\n          xlarge: { ...fontSizing(-0.5) },\r\n        },\r\n        6: {\r\n          font: {\r\n            // family: undefined,\r\n            // weight: undefined,\r\n          },\r\n          small: { ...fontSizing(-1) },\r\n          medium: { ...fontSizing(-1) },\r\n          large: { ...fontSizing(-1) },\r\n          xlarge: { ...fontSizing(-1) },\r\n        },\r\n      },\r\n      responsiveBreakpoint: 'small', // when we scale the font size down\r\n      weight: 600,\r\n    },\r\n    layer: {\r\n      background: {\r\n        dark: 'black',\r\n        light: 'white',\r\n      },\r\n      border: {\r\n        radius: '4px',\r\n      },\r\n      container: {\r\n        zIndex: '20',\r\n      },\r\n      // extend: undefined,\r\n      overlay: {\r\n        background: 'rgba(0, 0, 0, 0.5)',\r\n      },\r\n      responsiveBreakpoint: 'small', // when Layer takes over the full screen\r\n      zIndex: '20',\r\n    },\r\n    list: {\r\n      item: {\r\n        // background: undefined,\r\n        border: 'horizontal',\r\n        pad: { horizontal: 'medium', vertical: 'small' },\r\n        // extend: undefined,\r\n      },\r\n      // extend: undefined,\r\n    },\r\n    maskedInput: {\r\n      // container: {\r\n      //   extend: undefined,\r\n      // },\r\n      // extend: undefined,\r\n      // disabled: { opacity: undefined },\r\n    },\r\n    menu: {\r\n      // background: undefined,\r\n      // extend: undefined,\r\n      icons: {\r\n        down: FormDown,\r\n        // up: undefined,\r\n        // color: { dark: undefined, light: undefined },\r\n      },\r\n    },\r\n    meter: {\r\n      color: 'graph-0',\r\n      // colors: [] || colors: ['graph-0', 'graph-1', 'graph-2', 'graph-3'],\r\n      // extend: undefined,\r\n    },\r\n    paragraph: {\r\n      font: {\r\n        // family: undefined\r\n      },\r\n      small: { ...fontSizing(-1) },\r\n      medium: { ...fontSizing(0) },\r\n      large: { ...fontSizing(1) },\r\n      xlarge: { ...fontSizing(2) },\r\n      xxlarge: { ...fontSizing(4) },\r\n    },\r\n    radioButton: {\r\n      border: {\r\n        color: {\r\n          dark: 'rgba(255, 255, 255, 0.5)',\r\n          light: 'rgba(0, 0, 0, 0.15)',\r\n        },\r\n        width: '2px',\r\n      },\r\n      check: {\r\n        radius: '100%',\r\n        // background: {\r\n        //  color: undefined,\r\n        // },\r\n        // color: { dark: undefined, light: undefined },\r\n        // extend: undefined,\r\n      },\r\n      // color: undefined,\r\n      hover: {\r\n        // background: {\r\n        //   color: undefined,\r\n        // },\r\n        border: {\r\n          color: {\r\n            dark: 'white',\r\n            light: 'black',\r\n          },\r\n        },\r\n      },\r\n      icon: {\r\n        // size: undefined,\r\n        // extend: undefined,\r\n      },\r\n      icons: {\r\n        // circle: undefined,\r\n      },\r\n      gap: 'small',\r\n      size: `${baseSpacing}px`,\r\n      font: {\r\n        // weight: undefined,\r\n      },\r\n      container: {\r\n        // extend: undefined\r\n      },\r\n    },\r\n    radioButtonGroup: {\r\n      // container: {}, // any box props\r\n    },\r\n    rangeInput: {\r\n      // extend: undefined\r\n      track: {\r\n        height: '4px',\r\n        color: 'border',\r\n        // opacity: undefined,\r\n        // lower: {\r\n        //   color: 'undefined',\r\n        //   opacity: undefined,\r\n        // },\r\n        // upper: {\r\n        //   color: undefined,\r\n        //   opacity: undefined,\r\n        // },\r\n        // extend: undefined\r\n      },\r\n      thumb: {\r\n        // color: { dark: undefined, light: undefined },\r\n        // extend: undefined\r\n      },\r\n    },\r\n    rangeSelector: {\r\n      background: {\r\n        invert: {\r\n          color: 'light-4',\r\n        },\r\n      },\r\n      // edge: {\r\n      //   type: undefined,\r\n      // },\r\n    },\r\n    select: {\r\n      // background: undefined,\r\n      clear: {\r\n        container: {\r\n          pad: 'small',\r\n          background: 'background-contrast',\r\n        }, // any box props\r\n        text: {\r\n          color: 'text-weak',\r\n        }, // any text props\r\n      },\r\n      container: {\r\n        // extend: undefined,\r\n      },\r\n      control: {\r\n        // extend: undefined,\r\n        // open: undefined,\r\n      },\r\n      icons: {\r\n        // color: { dark: undefined, light: undefined },\r\n        margin: { horizontal: 'small' },\r\n        down: FormDown,\r\n        // up: undefined\r\n      },\r\n      options: {\r\n        container: {\r\n          align: 'start',\r\n          pad: 'small',\r\n        },\r\n        text: {\r\n          margin: 'none',\r\n        },\r\n      },\r\n      // searchInput: undefined,\r\n      step: 20,\r\n    },\r\n    skipLinks: {\r\n      position: 'top',\r\n      container: {\r\n        elevation: 'large',\r\n        round: 'small',\r\n        pad: 'medium',\r\n      },\r\n      label: {\r\n        margin: { bottom: 'medium' },\r\n        size: 'medium',\r\n      },\r\n    },\r\n    tab: {\r\n      active: {\r\n        color: 'text',\r\n        // background: undefined,\r\n      },\r\n      // background: undefined,\r\n      border: {\r\n        side: 'bottom',\r\n        size: 'small',\r\n        color: {\r\n          dark: 'accent-1',\r\n          light: 'brand',\r\n        },\r\n        active: {\r\n          color: {\r\n            dark: 'white',\r\n            light: 'black',\r\n          },\r\n        },\r\n        disabled: {\r\n          // color: undefined,\r\n        },\r\n        hover: {\r\n          color: {\r\n            dark: 'white',\r\n            light: 'black',\r\n          },\r\n          // extend: undefined,\r\n        },\r\n      },\r\n      color: 'control',\r\n      // disabled: {\r\n      //   color: undefined,\r\n      // },\r\n      // extend: undefined,\r\n      hover: {\r\n        // background: undefined,\r\n        // extend: undefined,\r\n        color: {\r\n          dark: 'white',\r\n          light: 'black',\r\n        },\r\n      },\r\n      margin: {\r\n        vertical: 'xxsmall',\r\n        horizontal: 'small',\r\n      },\r\n      pad: {\r\n        bottom: 'xsmall',\r\n      },\r\n    },\r\n    tabs: {\r\n      // background: undefined,\r\n      // extend: undefined,\r\n      // gap: undefined,\r\n      header: {\r\n        // background: undefined,\r\n        // border: {\r\n        //   side: undefined,\r\n        //   size: undefined,\r\n        //   style: undefined,\r\n        //   color: undefined,\r\n        // },\r\n        // extend: undefined,\r\n      },\r\n      panel: {\r\n        // extend: undefined,\r\n      },\r\n    },\r\n    table: {\r\n      header: {\r\n        align: 'start',\r\n        pad: { horizontal: 'small', vertical: 'xsmall' },\r\n        border: 'bottom',\r\n        // verticalAlign: undefined,\r\n        // background: undefined,\r\n        // extend: undefined,\r\n      },\r\n      body: {\r\n        align: 'start',\r\n        pad: { horizontal: 'small', vertical: 'xsmall' },\r\n        // background: undefined,\r\n        // border: undefined,\r\n        // extend: undefined,\r\n      },\r\n      // row: {\r\n      //   hover: {\r\n      //     background: undefined,\r\n      //     color: undefined,\r\n      //   },\r\n      // },\r\n      footer: {\r\n        align: 'start',\r\n        pad: { horizontal: 'small', vertical: 'xsmall' },\r\n        border: 'top',\r\n        // verticalAlign: undefined,\r\n        // background: undefined,\r\n        // extend: undefined,\r\n      },\r\n    },\r\n    text: {\r\n      font: {\r\n        // family: undefined\r\n      },\r\n      xsmall: { ...fontSizing(-1.5) },\r\n      small: { ...fontSizing(-1) },\r\n      medium: { ...fontSizing(0) }, // 18px\r\n      large: { ...fontSizing(1) }, // 22px\r\n      xlarge: { ...fontSizing(2) },\r\n      xxlarge: { ...fontSizing(4) },\r\n    },\r\n    textArea: {\r\n      // extend: undefined,\r\n      // disabled: { opacity: undefined },\r\n    },\r\n    textInput: {\r\n      // extend: undefined,\r\n      // disabled: { opacity: undefined },\r\n    },\r\n    tip: {\r\n      content: {\r\n        // any Box props\r\n        background: 'background-contrast',\r\n        elevation: 'small',\r\n        margin: 'xsmall',\r\n        pad: { vertical: 'xsmall', horizontal: 'small' },\r\n        round: 'small',\r\n      },\r\n      drop: {\r\n        // any props for the drop\r\n        align: { top: 'bottom' }, // most common use case is Header with Buttons\r\n      },\r\n    },\r\n    video: {\r\n      captions: {\r\n        background: 'rgba(0, 0, 0, 0.7)',\r\n      },\r\n      // controls: { background: undefined },\r\n      icons: {\r\n        closedCaption: ClosedCaption,\r\n        configure: Actions,\r\n        fullScreen: Expand,\r\n        pause: Pause,\r\n        play: Play,\r\n        reduceVolume: VolumeLow,\r\n        volume: Volume,\r\n        // color: { dark: undefined, light: undefined },\r\n      },\r\n      // scrubber: { track: { color: undefined } },\r\n      scrubber: {\r\n        color: 'light-4',\r\n      },\r\n    },\r\n    worldMap: {\r\n      color: 'light-3',\r\n      continent: {\r\n        active: '8px',\r\n        base: '6px',\r\n      },\r\n      hover: {\r\n        color: 'light-4',\r\n      },\r\n      place: {\r\n        active: '20px',\r\n        base: '8px',\r\n      },\r\n    },\r\n  });\r\n\r\n  return deepFreeze(result);\r\n};\r\n\r\nexport const base = generate(24);\r\n","\"use strict\";\n\nexports.__esModule = true;\nexports.base = void 0;\nvar base = {\n  global: {\n    colors: {\n      icon: '#666666'\n    }\n  },\n  icon: {\n    size: {\n      small: '12px',\n      medium: '24px',\n      large: '48px',\n      xlarge: '96px'\n    }\n  }\n};\nexports.base = base;","import { createContext } from 'react';\r\n\r\nexport const AccordionContext = createContext({});\r\n","export { Tip } from './Tip';\r\n","module.exports = ReactDOM;","import React, { useEffect, useRef, useState } from 'react';\r\n\r\nimport {\r\n  getBodyChildElements,\r\n  makeNodeFocusable,\r\n  makeNodeUnfocusable,\r\n} from '../utils';\r\n\r\nconst isNotAncestorOf = child => parent => !parent.contains(child);\r\n\r\nexport const FocusedContainer = ({\r\n  hidden = false,\r\n  restrictScroll = false,\r\n  children,\r\n  trapFocus,\r\n  ...rest\r\n}) => {\r\n  const [bodyOverflowStyle, setBodyOverflowStyle] = useState('');\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const removeTrap = () => {\r\n      const child = ref.current;\r\n      getBodyChildElements()\r\n        .filter(isNotAncestorOf(child))\r\n        .forEach(makeNodeFocusable);\r\n      if (restrictScroll) {\r\n        document.body.style.overflow = bodyOverflowStyle;\r\n      }\r\n    };\r\n\r\n    const handleTrapFocus = () => {\r\n      const child = ref.current;\r\n      getBodyChildElements()\r\n        .filter(isNotAncestorOf(child))\r\n        .forEach(makeNodeUnfocusable);\r\n\r\n      if (restrictScroll && bodyOverflowStyle !== 'hidden') {\r\n        setBodyOverflowStyle(document.body.style.overflow);\r\n        document.body.style.overflow = 'hidden';\r\n      }\r\n    };\r\n\r\n    const timer = setTimeout(() => {\r\n      if (!hidden && trapFocus) {\r\n        handleTrapFocus();\r\n      }\r\n    }, 0);\r\n\r\n    return () => {\r\n      removeTrap();\r\n      clearTimeout(timer);\r\n    };\r\n  }, [hidden, bodyOverflowStyle, restrictScroll, trapFocus]);\r\n\r\n  return (\r\n    <div ref={ref} aria-hidden={hidden} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","export { Collapsible } from './Collapsible';\r\n","export { Calendar } from './Calendar';\r\n","export { Footer } from './Footer';\r\n","export { Header } from './Header';\r\n","export { CheckBoxGroup } from './CheckBoxGroup';\r\n","export const normalizeValues = values =>\r\n  (values || []).map((value, index) => {\r\n    if (value === undefined) return { value: [index, undefined] };\r\n    if (typeof value === 'number') return { value: [index, value] };\r\n    if (Array.isArray(value)) return { value };\r\n    return value;\r\n  });\r\n\r\nexport const normalizeBounds = (bounds, values) => {\r\n  let result = bounds;\r\n  if (!result) {\r\n    result = [\r\n      [0, 1],\r\n      [0, 1],\r\n    ];\r\n    (values || []).forEach(value => {\r\n      if (value.value[0] !== undefined) {\r\n        result[0][0] = Math.min(result[0][0], value.value[0]);\r\n        result[0][1] = Math.max(result[0][1], value.value[0]);\r\n      }\r\n      if (value.value[1] !== undefined) {\r\n        result[1][0] = Math.min(result[1][0], value.value[1]);\r\n        result[1][1] = Math.max(result[1][1], value.value[1]);\r\n      }\r\n      if (value.value[2] !== undefined) {\r\n        result[1][0] = Math.min(result[1][0], value.value[2]);\r\n        result[1][1] = Math.max(result[1][1], value.value[2]);\r\n      }\r\n    });\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const areNormalizedValuesEquals = (valuesX, valuesY) => {\r\n  console.warn(\r\n    `This function will be removed in the upcoming releases.\r\nPlease get in touch with us if you have concerns.`,\r\n  );\r\n\r\n  if (!valuesX || !valuesY) return false;\r\n\r\n  if (valuesX.length !== valuesY.length) return false;\r\n\r\n  if (valuesX.length === 0) return true;\r\n\r\n  if (!valuesX[0].value || !valuesY[0].value) return false;\r\n\r\n  return valuesX.every((_, i) =>\r\n    valuesX[i].value.every((value, index) => value === valuesY[i].value[index]),\r\n  );\r\n};\r\n\r\nexport const areNormalizedBoundsEquals = (boundsX, boundsY) => {\r\n  console.warn(\r\n    `This function will be removed in the upcoming releases.\r\nPlease get in touch with us if you have concerns.`,\r\n  );\r\n\r\n  if (!boundsX || !boundsY) return false;\r\n\r\n  if (boundsX.length !== boundsY.length || !(boundsX.length > 0)) return false;\r\n\r\n  return boundsX.every((_, i) =>\r\n    boundsX[i].every((value, index) => value === boundsY[i][index]),\r\n  );\r\n};\r\n","import styled, { css, keyframes } from 'styled-components';\r\n\r\nimport { normalizeColor, genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst StyledHour = styled.line`\r\n  stroke-width: ${props => props.theme.clock.analog.hour.width};\r\n  stroke: ${props =>\r\n    normalizeColor(props.theme.clock.analog.hour.color, props.theme)};\r\n  transition: stroke 1s ease-out;\r\n`;\r\n\r\nStyledHour.defaultProps = {};\r\nObject.setPrototypeOf(StyledHour.defaultProps, defaultProps);\r\n\r\nconst StyledMinute = styled.line`\r\n  stroke-width: ${props => props.theme.clock.analog.minute.width};\r\n  stroke: ${props =>\r\n    normalizeColor(props.theme.clock.analog.minute.color, props.theme)};\r\n  transition: stroke 1s ease-out;\r\n`;\r\n\r\nStyledMinute.defaultProps = {};\r\nObject.setPrototypeOf(StyledMinute.defaultProps, defaultProps);\r\n\r\nconst StyledSecond = styled.line`\r\n  stroke-width: ${props => props.theme.clock.analog.second.width};\r\n  stroke: ${props =>\r\n    normalizeColor(props.theme.clock.analog.second.color, props.theme)};\r\n  transition: stroke 1s ease-out;\r\n`;\r\n\r\nStyledSecond.defaultProps = {};\r\nObject.setPrototypeOf(StyledSecond.defaultProps, defaultProps);\r\n\r\nconst StyledAnalog = styled.svg`\r\n  width: ${props => props.theme.clock.analog.size[props.size]};\r\n  height: ${props => props.theme.clock.analog.size[props.size]};\r\n\r\n  ${genericStyles}\r\n  ${props => props.theme.clock.analog && props.theme.clock.analog.extend};\r\n`;\r\n\r\nStyledAnalog.defaultProps = {};\r\nObject.setPrototypeOf(StyledAnalog.defaultProps, defaultProps);\r\n\r\nconst sizeStyle = props => {\r\n  // size is a combination of the size and height properties\r\n  const size = props.size || 'medium';\r\n  const data = props.theme.clock.digital.text[size] || {};\r\n  return css`\r\n    font-size: ${data.size || props.theme.clock.digital.text.medium.size};\r\n    line-height: ${data.height || props.theme.clock.digital.text.medium.height};\r\n  `;\r\n};\r\n\r\nconst StyledDigitalDigit = styled.div`\r\n  position: relative;\r\n  width: 0.8em;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  ${props => sizeStyle(props)};\r\n`;\r\n\r\nStyledDigitalDigit.defaultProps = {};\r\nObject.setPrototypeOf(StyledDigitalDigit.defaultProps, defaultProps);\r\n\r\nconst previousUp = keyframes`\r\n  0% { transform: translateY(0); }\r\n  100% { transform: translateY(-100%); }\r\n`;\r\n\r\nconst previousDown = keyframes`\r\n  0% { transform: translateY(0); }\r\n  100% { transform: translateY(100%); }\r\n`;\r\n\r\nconst StyledDigitalPrevious = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 0.8em;\r\n  text-align: center;\r\n  animation: ${props =>\r\n      props.direction === 'down' ? previousDown : previousUp}\r\n    0.5s forwards;\r\n`;\r\n\r\nStyledDigitalPrevious.defaultProps = {};\r\nObject.setPrototypeOf(StyledDigitalPrevious.defaultProps, defaultProps);\r\n\r\nconst nextUp = keyframes`\r\n  0% { transform: translateY(100%); }\r\n  100% { transform: translateY(0); }\r\n`;\r\n\r\nconst nextDown = keyframes`\r\n  0% { transform: translateY(-100%); }\r\n  100% { transform: translateY(0); }\r\n`;\r\n\r\nconst StyledDigitalNext = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 0.8em;\r\n  text-align: center;\r\n  animation: ${props => (props.direction === 'down' ? nextDown : nextUp)} 0.5s\r\n    forwards;\r\n`;\r\n\r\nStyledDigitalNext.defaultProps = {};\r\nObject.setPrototypeOf(StyledDigitalNext.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledHour,\r\n  StyledMinute,\r\n  StyledSecond,\r\n  StyledAnalog,\r\n  StyledDigitalDigit,\r\n  StyledDigitalPrevious,\r\n  StyledDigitalNext,\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { normalizeColor, parseMetricToNum } from '../../utils';\r\n\r\nconst Swatch = ({ aspect, color, point, thickness }) => {\r\n  const theme = useContext(ThemeContext);\r\n  const dim = parseInt(theme.global.spacing, 10) / 2;\r\n  const half = dim / 2;\r\n  let width = dim;\r\n  let content;\r\n  if (aspect === 'x')\r\n    content = <path d={`M 0 ${half} L ${dim} ${half}`} stroke=\"#000\" />;\r\n  else if (aspect === 'y')\r\n    content = <path d={`M ${half} 0 L ${half} ${dim}`} stroke=\"#000\" />;\r\n  else if (aspect === 'thickness')\r\n    content = (\r\n      <g stroke=\"#000\" fill=\"none\">\r\n        <circle cx={half} cy={half} r={half / 4} />\r\n        <circle cx={half} cy={half} r={half - 1} />\r\n      </g>\r\n    );\r\n  else if (aspect === 'color')\r\n    content = (\r\n      <g>\r\n        <rect x={0} y={0} width={half} height={dim} fill=\"#000\" opacity={0.4} />\r\n        <rect\r\n          x={half}\r\n          y={0}\r\n          width={half}\r\n          height={dim}\r\n          fill=\"#000\"\r\n          opacity={0.8}\r\n        />\r\n      </g>\r\n    );\r\n  else if (point === 'circle')\r\n    content = <circle cx={half} cy={half} r={half} />;\r\n  else {\r\n    let d;\r\n    if (point === 'diamond')\r\n      d = `M ${half} 0 L ${dim} ${half} L ${half} ${dim} L 0 ${half} Z`;\r\n    else if (point === 'star') {\r\n      const off1 = half / 3;\r\n      const off2 = off1 * 2;\r\n      d = `M ${half} 0 L ${half - off2} ${dim} L ${dim} ${half -\r\n        off1} L 0 ${half - off1} L ${half + off2} ${dim} Z`;\r\n    } else if (point === 'triangle')\r\n      d = `M ${half} 0 L ${dim} ${dim} L 0 ${dim} Z`;\r\n    else if (point === 'triangleDown')\r\n      d = `M 0 0 L ${dim} 0 L ${half} ${dim} Z`;\r\n    else if (point === 'square')\r\n      d = `M 0 0 L ${dim} 0 L ${dim} ${dim} L 0 ${dim} Z`;\r\n    // TODO: dash\r\n    else if (thickness) {\r\n      width = parseMetricToNum(theme.global.edgeSize[thickness]) || dim;\r\n      d = `M 0 0 L ${width} 0 L ${width} ${dim} L 0 ${dim} Z`;\r\n    } // box\r\n    else d = `M 0 0 L ${dim} 0 L ${dim} ${dim} L 0 ${dim} Z`;\r\n    content = <path d={d} />;\r\n  }\r\n  const opacity =\r\n    color && color.opacity ? theme.global.opacity[color.opacity] : undefined;\r\n  return (\r\n    <svg\r\n      width={width}\r\n      height={dim}\r\n      viewBox={`0 0 ${width} ${dim}`}\r\n      fill={color ? normalizeColor(color.color || color, theme) : undefined}\r\n      opacity={opacity}\r\n      stroke=\"none\"\r\n    >\r\n      {content}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport { Swatch };\r\n","export const points = [\r\n  'circle',\r\n  'diamond',\r\n  'square',\r\n  'star',\r\n  'triangle',\r\n  'triangleDown',\r\n];\r\n\r\nexport const heightYGranularity = {\r\n  xxsmall: { fine: 2, medium: 2 },\r\n  xsmall: { fine: 3, medium: 2 },\r\n  small: { fine: 5, medium: 3 },\r\n  medium: { fine: 7, medium: 5 },\r\n  large: { fine: 9, medium: 5 },\r\n  xlarge: { fine: 11, medium: 5 },\r\n};\r\n\r\nexport const halfPad = {\r\n  xlarge: 'large',\r\n  large: 'medium',\r\n  medium: 'small',\r\n  small: 'xsmall',\r\n  xsmall: 'xxsmall',\r\n};\r\n\r\nexport const doublePad = {\r\n  large: 'xlarge',\r\n  medium: 'large',\r\n  small: 'medium',\r\n  xsmall: 'small',\r\n  xxsmall: 'xsmall',\r\n};\r\n\r\nexport const createDateFormat = (firstValue, lastValue, full) => {\r\n  let dateFormat;\r\n  const startDate = new Date(firstValue);\r\n  const endDate = new Date(lastValue);\r\n  if (\r\n    // check for valid dates, this is the fastest way\r\n    !Number.isNaN(startDate.getTime()) &&\r\n    !Number.isNaN(endDate.getTime())\r\n  ) {\r\n    const delta = Math.abs(endDate - startDate);\r\n    let options;\r\n    if (delta < 60000)\r\n      // less than 1 minute\r\n      options = full\r\n        ? {\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            second: '2-digit',\r\n            day: undefined,\r\n          }\r\n        : { second: '2-digit', day: undefined };\r\n    else if (delta < 3600000)\r\n      // less than 1 hour\r\n      options = full\r\n        ? { hour: 'numeric', minute: '2-digit', day: undefined }\r\n        : { minute: '2-digit', day: undefined };\r\n    else if (delta < 86400000)\r\n      // less than 1 day\r\n      options = { hour: 'numeric' };\r\n    else if (delta < 2592000000)\r\n      // less than 30 days\r\n      options = {\r\n        month: full ? 'short' : 'numeric',\r\n        day: 'numeric',\r\n      };\r\n    else if (delta < 31557600000)\r\n      // less than 1 year\r\n      options = { month: full ? 'long' : 'short' };\r\n    // 1 year or more\r\n    else options = { year: 'numeric' };\r\n    if (options)\r\n      dateFormat = new Intl.DateTimeFormat(undefined, options).format;\r\n  }\r\n  return dateFormat;\r\n};\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { TableCell } from '../TableCell';\r\nimport { normalizeColor } from '../../utils';\r\n\r\nconst ExpanderCell = ({ context, expanded, onToggle, ...rest }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  let content;\r\n  if (onToggle) {\r\n    const ExpandIcon = theme.dataTable.icons[expanded ? 'contract' : 'expand'];\r\n    content = <ExpandIcon color={normalizeColor('border', theme)} />;\r\n  }\r\n  const normalizedThemeProps = {\r\n    ...theme.table[context],\r\n    ...theme.dataTable[context],\r\n  };\r\n  delete normalizedThemeProps.background;\r\n  delete normalizedThemeProps.border;\r\n  delete normalizedThemeProps.pad;\r\n  content = (\r\n    <Box {...normalizedThemeProps} {...rest} align=\"center\" pad=\"xsmall\">\r\n      {content}\r\n    </Box>\r\n  );\r\n  if (onToggle) {\r\n    content = (\r\n      <Button\r\n        fill\r\n        a11yTitle={expanded ? 'collapse' : 'expand'}\r\n        hoverIndicator\r\n        disabled={!onToggle}\r\n        onClick={onToggle}\r\n        plain\r\n      >\r\n        {content}\r\n      </Button>\r\n    );\r\n  }\r\n  return (\r\n    <TableCell\r\n      size=\"xxsmall\"\r\n      plain\r\n      verticalAlign={context === 'groupEnd' ? 'bottom' : 'top'}\r\n      pad=\"none\"\r\n    >\r\n      {content}\r\n    </TableCell>\r\n  );\r\n};\r\n\r\nExpanderCell.displayName = 'ExpanderCell';\r\n\r\nExpanderCell.defaultProps = {};\r\nObject.setPrototypeOf(ExpanderCell.defaultProps, defaultProps);\r\n\r\nexport { ExpanderCell };\r\n","export { Form } from './Form';\r\nexport { FormContext } from './FormContext';\r\n","export { MaskedInput } from './MaskedInput';\r\n","export { RadioButtonGroup } from './RadioButtonGroup';\r\n","export { RadioButton } from './RadioButton';\r\n","export { base, generate } from './base';\r\nexport { grommet } from './grommet';\r\nexport { dark } from './dark';\r\n","export { Image } from './Image';\r\n","export { Layer } from './Layer';\r\n","import styled, { css, keyframes } from 'styled-components';\r\n\r\nimport {\r\n  baseStyle,\r\n  backgroundStyle,\r\n  breakpointStyle,\r\n  parseMetricToNum,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst hiddenPositionStyle = css`\r\n  left: -100%;\r\n  right: 100%;\r\n  z-index: -1;\r\n  position: fixed;\r\n`;\r\n\r\nconst desktopLayerStyle = `\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n`;\r\n\r\nconst responsiveLayerStyle = `\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst StyledLayer = styled.div`\r\n  ${baseStyle}\r\n  background: transparent;\r\n  position: relative;\r\n  z-index: ${props => props.theme.layer.zIndex};\r\n  pointer-events: none;\r\n  outline: none;\r\n\r\n  ${props => {\r\n    if (props.position === 'hidden') {\r\n      return hiddenPositionStyle;\r\n    }\r\n    const styles = [];\r\n    if (props.targetBounds) {\r\n      const { left, right, top, bottom } = props.targetBounds;\r\n      styles.push(`\r\n        position: fixed;\r\n        top: ${top}px;\r\n        left: ${left}px;\r\n        right: ${right}px;\r\n        bottom: ${bottom}px;\r\n      `);\r\n    } else {\r\n      styles.push(desktopLayerStyle);\r\n    }\r\n    if (props.responsive && props.theme.layer.responsiveBreakpoint) {\r\n      const breakpoint =\r\n        props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];\r\n      styles.push(breakpointStyle(breakpoint, responsiveLayerStyle));\r\n    }\r\n    return styles;\r\n  }}\r\n  ${props => props.theme.layer && props.theme.layer.extend};\r\n`;\r\n\r\nStyledLayer.defaultProps = {};\r\nObject.setPrototypeOf(StyledLayer.defaultProps, defaultProps);\r\n\r\nconst StyledOverlay = styled.div`\r\n  position: absolute;\r\n  ${props => {\r\n    if (props.responsive && props.theme.layer.responsiveBreakpoint) {\r\n      const breakpoint =\r\n        props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];\r\n      return breakpointStyle(breakpoint, 'position: relative;');\r\n    }\r\n    return '';\r\n  }} top: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  bottom: 0px;\r\n  ${props =>\r\n    !props.plain &&\r\n    props.theme.layer.overlay.background &&\r\n    backgroundStyle(\r\n      props.theme.layer.overlay.background,\r\n      props.theme,\r\n    )} pointer-events: all;\r\n`;\r\n\r\nconst getMargin = (margin, theme, position) => {\r\n  const axis =\r\n    position.indexOf('top') !== -1 || position.indexOf('bottom') !== -1\r\n      ? 'vertical'\r\n      : 'horizontal';\r\n  const marginValue = margin[position] || margin[axis] || margin;\r\n  const marginApplied = theme.global.edgeSize[marginValue] || marginValue;\r\n  const marginInTheme = !!theme.global.edgeSize[marginValue];\r\n\r\n  return !marginInTheme && typeof marginValue !== 'string'\r\n    ? 0\r\n    : parseMetricToNum(marginApplied);\r\n};\r\n\r\nconst getBounds = (bounds, margin, theme, position = undefined) => {\r\n  if (position) {\r\n    return bounds[position] + getMargin(margin, theme, position);\r\n  }\r\n  return {\r\n    bottom: bounds.bottom + getMargin(margin, theme, 'bottom'),\r\n    // 'bottom-left': getMargin(margin, theme, 'bottom-left'),\r\n    // 'bottom-right': getMargin(margin, theme, 'bottom-right'),\r\n    end: bounds.right + getMargin(margin, theme, 'end'),\r\n    left: bounds.left + getMargin(margin, theme, 'left'),\r\n    right: bounds.right + getMargin(margin, theme, 'right'),\r\n    start: bounds.left + getMargin(margin, theme, 'start'),\r\n    top: bounds.top + getMargin(margin, theme, 'top'),\r\n    // 'top-right': getMargin(margin, theme, 'top-right'),\r\n    // 'top-left': getMargin(margin, theme, 'top-left'),\r\n  };\r\n};\r\n\r\nconst KEYFRAMES = {\r\n  center: {\r\n    vertical: keyframes`\r\n      0% { transform: translateX(-50%) scale(0.8); }\r\n      100% { transform: translateX(-50%) scale(1); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translateY(-50%) scale(0.8); }\r\n      100% { transform: translateY(-50) scale(1); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: scale(0.8); }\r\n      100% { transform: scale(1); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(-50%, -50%) scale(0.8); }\r\n      100% { transform: translate(-50%, -50%) scale(1); }\r\n    `,\r\n  },\r\n  top: {\r\n    vertical: keyframes`\r\n      0% { transform: translate(-50%, -100%); }\r\n      100% { transform: translate(-50%, 0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translateY(-100%); }\r\n      100% { transform: translateY(0); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateY(-100%); }\r\n      100% { transform: translateY(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(-50%, -100%); }\r\n      100% { transform: translate(-50%, 0); }\r\n    `,\r\n  },\r\n  bottom: {\r\n    vertical: keyframes`\r\n      0% { transform: translate(-50%, 100%); }\r\n      100% { transform: translate(-50%, 0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translateY(100%); }\r\n      100% { transform: translateY(0); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateY(100%); }\r\n      100% { transform: translateY(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(-50%, 100%); }\r\n      100% { transform: translate(-50%, 0); }\r\n    `,\r\n  },\r\n  left: {\r\n    vertical: keyframes`\r\n      0% { transform: translateX(-100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translate(-100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateX(-100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(-100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n  },\r\n  right: {\r\n    vertical: keyframes`\r\n      0% { transform: translateX(100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translate(100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateX(100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n  },\r\n  start: {\r\n    vertical: keyframes`\r\n      0% { transform: translateX(-100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translate(-100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateX(-100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(-100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n  },\r\n  end: {\r\n    vertical: keyframes`\r\n      0% { transform: translateX(100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    horizontal: keyframes`\r\n      0% { transform: translate(100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n    true: keyframes`\r\n      0% { transform: translateX(100%); }\r\n      100% { transform: translateX(0); }\r\n    `,\r\n    false: keyframes`\r\n      0% { transform: translate(100%, -50%); }\r\n      100% { transform: translate(0, -50%); }\r\n    `,\r\n  },\r\n};\r\n\r\nconst animationDuration = 200;\r\n\r\nconst getAnimationStyle = (props, position, full) => {\r\n  let animation =\r\n    props.animation !== undefined ? props.animation : props.animate;\r\n  if (animation === undefined) animation = 'slide';\r\n  let keys;\r\n  if (animation === 'slide' || animation === true) {\r\n    keys = KEYFRAMES[position][full];\r\n  } else if (animation === 'fadeIn') {\r\n    keys = keyframes`0% { opacity: 0 } 100% { opacity: 1 }`;\r\n  }\r\n  return keys\r\n    ? css`\r\n        animation: ${keys} ${animationDuration / 1000.0}s ease-in-out forwards;\r\n      `\r\n    : '';\r\n};\r\n\r\n// POSITIONS combines 'position', 'full', and 'margin' properties, since\r\n// they are all interdependent.\r\n// Basically, non-full axes combine 50% position with -50% translation.\r\n// full axes pin to the window edges offset by any margin.\r\n// The keyframe animations are included as they are done via translations\r\n// as well so they must take into account the non-animated positioning.\r\nconst POSITIONS = {\r\n  center: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      ${props => getAnimationStyle(props, 'center', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      ${props => getAnimationStyle(props, 'center', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      ${props => getAnimationStyle(props, 'center', 'true')}\r\n    `,\r\n    false: () => css`\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      ${props => getAnimationStyle(props, 'center', 'false')}\r\n    `,\r\n  },\r\n\r\n  top: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0%);\r\n      ${props => getAnimationStyle(props, 'top', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: ${bounds.top}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'top', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      top: ${bounds.top}px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      ${props => getAnimationStyle(props, 'top', 'false')}\r\n    `,\r\n  },\r\n\r\n  bottom: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      bottom: ${bounds.bottom}px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'false')}\r\n    `,\r\n  },\r\n\r\n  left: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'left', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'left', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'left', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      left: ${bounds.left}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'left', 'false')}\r\n    `,\r\n  },\r\n\r\n  right: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'right', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'right', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'right', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      right: ${bounds.right}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'right', 'false')}\r\n    `,\r\n  },\r\n\r\n  start: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      inset-inline-start: ${bounds.start}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'start', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      inset-inline-start: ${bounds.start}px;\r\n      inset-inline-end: ${bounds.end}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'start', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      inset-inline-start: ${bounds.start}px;\r\n      inset-inline-end: ${bounds.end}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'start', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      inset-inline-start: ${bounds.start}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'start', 'false')}\r\n    `,\r\n  },\r\n\r\n  end: {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      inset-inline-end: ${bounds.end}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'end', 'vertical')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      inset-inline-start: ${bounds.start}px;\r\n      inset-inline-end: ${bounds.end}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'end', 'horizontal')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      inset-inline-start: ${bounds.start}px;\r\n      inset-inline-end: ${bounds.end}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'end', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      inset-inline-end: ${bounds.end}px;\r\n      top: 50%;\r\n      transform: translate(0, -50%);\r\n      ${props => getAnimationStyle(props, 'end', 'false')}\r\n    `,\r\n  },\r\n\r\n  'top-right': {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')};\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: 0;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')};\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')};\r\n    `,\r\n    false: bounds => css`\r\n      top: ${bounds.top}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')};\r\n    `,\r\n  },\r\n\r\n  'top-left': {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      top: 0;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      top: ${bounds.top}px;\r\n      left: ${bounds.left}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'top', 'true')}\r\n    `,\r\n  },\r\n\r\n  'bottom-right': {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      bottom: ${bounds.bottom}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      bottom: ${bounds.bottom}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n  },\r\n\r\n  'bottom-left': {\r\n    vertical: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    horizontal: bounds => css`\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      bottom: ${bounds.bottom}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    true: bounds => css`\r\n      top: ${bounds.top}px;\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      right: ${bounds.right}px;\r\n      transform: translateX(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n    false: bounds => css`\r\n      bottom: ${bounds.bottom}px;\r\n      left: ${bounds.left}px;\r\n      transform: translateY(0);\r\n      ${props => getAnimationStyle(props, 'bottom', 'true')}\r\n    `,\r\n  },\r\n};\r\n\r\nconst desktopContainerStyle = css`\r\n  ${props => {\r\n    if (!props.modal && props.position === 'hidden') {\r\n      return hiddenPositionStyle;\r\n    }\r\n    return css`\r\n      position: ${props.modal ? 'absolute' : 'fixed'};\r\n    `;\r\n  }}\r\n  max-height: ${props =>\r\n    `calc(100% - ${getBounds(\r\n      props.targetBounds,\r\n      props.margin,\r\n      props.theme,\r\n      'top',\r\n    )}px - ${getBounds(\r\n      props.targetBounds,\r\n      props.margin,\r\n      props.theme,\r\n      'bottom',\r\n    )}px)`};\r\n  max-width: ${props =>\r\n    `calc(100% - ${getBounds(\r\n      props.targetBounds,\r\n      props.margin,\r\n      props.theme,\r\n      'left',\r\n    )}px - ${getBounds(\r\n      props.targetBounds,\r\n      props.margin,\r\n      props.theme,\r\n      'right',\r\n    )}px)`};\r\n  border-radius: ${props =>\r\n    props.plain ? 0 : props.theme.layer.border.radius};\r\n  ${props =>\r\n    (props.position !== 'hidden' &&\r\n      POSITIONS[props.position][props.full](\r\n        getBounds(props.targetBounds, props.margin, props.theme),\r\n        props.targetBounds,\r\n      )) ||\r\n    ''};\r\n`;\r\n\r\nconst responsiveContainerStyle = css`\r\n  position: relative;\r\n  max-height: none;\r\n  max-width: none;\r\n  border-radius: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  transform: none;\r\n  animation: none;\r\n  height: 100vh;\r\n  width: 100vw;\r\n`;\r\n\r\nconst StyledContainer = styled.div`\r\n  ${props => (!props.modal ? baseStyle : '')}\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: ${props => props.theme.global.size.xxsmall};\r\n  ${props =>\r\n    !props.plain &&\r\n    props.theme.layer.background &&\r\n    backgroundStyle(props.theme.layer.background, props.theme)} outline: none;\r\n  pointer-events: all;\r\n  z-index: ${props => props.theme.layer.container.zIndex};\r\n\r\n  ${desktopContainerStyle}\r\n  ${props => {\r\n    if (props.responsive && props.theme.layer.responsiveBreakpoint) {\r\n      const breakpoint =\r\n        props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];\r\n      if (breakpoint) {\r\n        return breakpointStyle(breakpoint, responsiveContainerStyle);\r\n      }\r\n    }\r\n    return '';\r\n  }};\r\n  ${props => props.theme.layer.container && props.theme.layer.container.extend};\r\n`;\r\n\r\nStyledContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledContainer.defaultProps, defaultProps);\r\n\r\nexport { animationDuration, StyledLayer, StyledOverlay, StyledContainer };\r\n","export { Paragraph } from './Paragraph';\r\n","export { Menu } from './Menu';\r\n","export { Meter } from './Meter';\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst roundStyle = css`\r\n  border-radius: ${props => props.theme.global.edgeSize[props.round.size]};\r\n`;\r\n\r\n// overflow: hidden is needed for ie11\r\nconst StyledMeter = styled.svg`\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n\r\n  ${genericStyles} ${props => props.round && roundStyle}\r\n\r\n  path {\r\n    transition: stroke 0.3s, stroke-width 0.3s;\r\n  }\r\n\r\n  ${props => props.theme.meter && props.theme.meter.extend};\r\n`;\r\n\r\nStyledMeter.defaultProps = {};\r\nObject.setPrototypeOf(StyledMeter.defaultProps, defaultProps);\r\n\r\nexport { StyledMeter };\r\n","import { normalizeColor } from '../../utils';\r\n\r\nexport const strokeProps = (color, theme) => {\r\n  const result = {};\r\n  if (color) {\r\n    if (typeof color === 'object') {\r\n      result.stroke = normalizeColor(color.color, theme);\r\n      if (color.opacity) {\r\n        result.strokeOpacity = `${\r\n          color.opacity === true\r\n            ? theme.global.opacity.medium\r\n            : theme.global.opacity[color.opacity] || color.opacity\r\n        }`;\r\n      }\r\n    } else {\r\n      result.stroke = normalizeColor(color, theme);\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst neutralExp = /^neutral-\\d+/;\r\n\r\nexport const defaultColor = (index, theme, valuesLength) => {\r\n  if (index === valuesLength - 1 && theme.meter.color) {\r\n    return theme.meter.color;\r\n  }\r\n  // We want the last value to have the first color\r\n  const colorIndex = valuesLength - index - 1;\r\n  if (theme.meter && theme.meter.colors) {\r\n    const colors =\r\n      theme.meter.colors[theme.dark ? 'dark' : 'light'] || theme.meter.colors;\r\n    return colors[colorIndex % colors.length];\r\n  }\r\n  const colors = Object.keys(theme.global.colors).filter(n =>\r\n    n.match(/^graph-[0-9]$/),\r\n  );\r\n  if (colors.length > 0) {\r\n    return colors[colorIndex % colors.length];\r\n  }\r\n  // Deprecate using \"neutral-*\" color names. Remove eventually.\r\n  const neutralColors = Object.keys(theme.global.colors).filter(k =>\r\n    neutralExp.test(k),\r\n  );\r\n  return neutralColors[colorIndex % neutralColors.length];\r\n};\r\n","export const applyKey = (option, key) => {\r\n  if (option === undefined) return undefined;\r\n  if (typeof key === 'object') return applyKey(option, key.key);\r\n  if (typeof key === 'function') return key(option);\r\n  if (key !== undefined) return option[key];\r\n  return option;\r\n};\r\n","import React from 'react';\r\n\r\nexport const TabsContext = React.createContext({});\r\n","var reg = /[\\'\\\"]/\n\nmodule.exports = function unquote(str) {\n  if (!str) {\n    return ''\n  }\n  if (reg.test(str.charAt(0))) {\n    str = str.substr(1)\n  }\n  if (reg.test(str.charAt(str.length - 1))) {\n    str = str.substr(0, str.length - 1)\n  }\n  return str\n}\n","export * from './components';\r\nexport * from './contexts';\r\nexport * from './default-props';\r\nexport * from './themes';\r\n","export * from './Accordion';\r\nexport * from './AccordionPanel';\r\nexport * from './Anchor';\r\nexport * from './Avatar';\r\nexport * from './Box';\r\nexport * from './Button';\r\nexport * from './Calendar';\r\nexport * from './Card';\r\nexport * from './CardBody';\r\nexport * from './CardFooter';\r\nexport * from './CardHeader';\r\nexport * from './Carousel';\r\nexport * from './CheckBoxGroup';\r\nexport * from './Chart';\r\nexport * from './CheckBox';\r\nexport * from './Clock';\r\nexport * from './Collapsible';\r\nexport * from './DataChart';\r\nexport * from './DataTable';\r\nexport * from './DateInput';\r\nexport * from './Diagram';\r\nexport * from './Distribution';\r\nexport * from './Drop';\r\nexport * from './DropButton';\r\nexport * from './Footer';\r\nexport * from './Form';\r\nexport * from './FormField';\r\nexport * from './Grid';\r\nexport * from './Grommet';\r\nexport * from './Header';\r\nexport * from './Heading';\r\nexport * from './Image';\r\nexport * from './InfiniteScroll';\r\nexport * from './Keyboard';\r\nexport * from './Layer';\r\nexport * from './List';\r\nexport * from './Main';\r\nexport * from './Markdown';\r\nexport * from './MaskedInput';\r\nexport * from './Menu';\r\nexport * from './Meter';\r\nexport * from './Paragraph';\r\nexport * from './Nav';\r\nexport * from './RadioButton';\r\nexport * from './RadioButtonGroup';\r\nexport * from './RangeInput';\r\nexport * from './RangeSelector';\r\nexport * from './RoutedAnchor';\r\nexport * from './RoutedButton';\r\nexport * from './Select';\r\nexport * from './Sidebar';\r\nexport * from './SkipLink';\r\nexport * from './SkipLinks';\r\nexport * from './SkipLinkTarget';\r\nexport * from './Stack';\r\nexport * from './Table';\r\nexport * from './TableBody';\r\nexport * from './TableCell';\r\nexport * from './TableFooter';\r\nexport * from './TableHeader';\r\nexport * from './TableRow';\r\nexport * from './Tab';\r\nexport * from './Tabs';\r\nexport * from './Text';\r\nexport * from './TextArea';\r\nexport * from './TextInput';\r\nexport * from './Tip';\r\nexport * from './Video';\r\nexport * from './WorldMap';\r\n","export { Accordion } from './Accordion';\r\n","import React, { Children, forwardRef, useState } from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nimport { AccordionContext } from './AccordionContext';\r\n\r\nconst activeAsArray = active =>\r\n  typeof active === 'number' ? [active] : active;\r\n\r\nconst Accordion = forwardRef(\r\n  (\r\n    { activeIndex, animate = true, children, multiple, onActive, ...rest },\r\n    ref,\r\n  ) => {\r\n    const [activeIndexes, setActiveIndexes] = useState([]);\r\n    const [stateActiveIndex, setStateActiveIndex] = useState();\r\n\r\n    // Derived state from props\r\n    // https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\r\n    const derivedActiveIndexes = activeAsArray(activeIndex) || [];\r\n    if (\r\n      (typeof activeIndex !== 'undefined' ||\r\n        activeIndex !== stateActiveIndex) &&\r\n      derivedActiveIndexes.join() !== activeIndexes.join()\r\n    ) {\r\n      setActiveIndexes(derivedActiveIndexes);\r\n      setStateActiveIndex(activeIndex);\r\n    }\r\n\r\n    const onPanelChange = index => {\r\n      let nextActiveIndexes = [...(activeIndexes || [])];\r\n\r\n      const nextActiveIndex = nextActiveIndexes.indexOf(index);\r\n      if (nextActiveIndex > -1) {\r\n        nextActiveIndexes.splice(nextActiveIndex, 1);\r\n      } else if (multiple) {\r\n        nextActiveIndexes.push(index);\r\n      } else {\r\n        nextActiveIndexes = [index];\r\n      }\r\n\r\n      setActiveIndexes(nextActiveIndexes);\r\n      if (onActive) {\r\n        onActive(nextActiveIndexes);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <Box ref={ref} role=\"tablist\" {...rest}>\r\n        {Children.toArray(children)\r\n          .filter(child => child)\r\n          .map((child, index) => (\r\n            <AccordionContext.Provider\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={index}\r\n              value={{\r\n                active: activeIndexes.indexOf(index) > -1,\r\n                animate,\r\n                onPanelChange: () => onPanelChange(index),\r\n              }}\r\n            >\r\n              {child}\r\n            </AccordionContext.Provider>\r\n          ))}\r\n      </Box>\r\n    );\r\n  },\r\n);\r\n\r\nAccordion.displayName = 'Accordion';\r\n\r\nlet AccordionDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  AccordionDoc = require('./doc').doc(Accordion);\r\n}\r\nconst AccordionWrapper = AccordionDoc || Accordion;\r\n\r\nexport { AccordionWrapper as Accordion };\r\n","import React, {\r\n  Children,\r\n  forwardRef,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\nimport { backgroundIsDark } from '../../utils';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nimport { StyledBox, StyledBoxGap } from './StyledBox';\r\n\r\nconst Box = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      background,\r\n      border,\r\n      children,\r\n      direction = 'column',\r\n      elevation, // munged to avoid styled-components putting it in the DOM\r\n      fill, // munged to avoid styled-components putting it in the DOM\r\n      gap,\r\n      onBlur,\r\n      onClick,\r\n      onFocus,\r\n      overflow, // munged to avoid styled-components putting it in the DOM\r\n      responsive = true,\r\n      tag,\r\n      as,\r\n      wrap, // munged to avoid styled-components putting it in the DOM,\r\n      width, // munged to avoid styled-components putting it in the DOM\r\n      height, // munged to avoid styled-components putting it in the DOM\r\n      tabIndex,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n    const focusable = useMemo(() => onClick && !(tabIndex < 0), [\r\n      onClick,\r\n      tabIndex,\r\n    ]);\r\n\r\n    const [focus, setFocus] = useState();\r\n\r\n    const clickProps = useMemo(() => {\r\n      if (focusable) {\r\n        return {\r\n          onClick,\r\n          onFocus: event => {\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          },\r\n          onBlur: event => {\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          },\r\n        };\r\n      }\r\n      const result = {};\r\n      if (onBlur) result.onBlur = onBlur;\r\n      if (onClick) result.onClick = onClick;\r\n      if (onFocus) result.onFocus = onFocus;\r\n      return result;\r\n    }, [focusable, onClick, onFocus, onBlur]);\r\n\r\n    const adjustedTabIndex = useMemo(() => {\r\n      if (tabIndex !== undefined) return tabIndex;\r\n      if (focusable) return 0;\r\n      return undefined;\r\n    }, [focusable, tabIndex]);\r\n\r\n    if (\r\n      (border === 'between' || (border && border.side === 'between')) &&\r\n      !gap\r\n    ) {\r\n      console.warn('Box must have a gap to use border between');\r\n    }\r\n\r\n    let contents = children;\r\n    if (gap && gap !== 'none') {\r\n      const boxAs = !as && tag ? tag : as;\r\n      contents = [];\r\n      let firstIndex;\r\n      Children.forEach(children, (child, index) => {\r\n        if (child) {\r\n          if (firstIndex === undefined) {\r\n            firstIndex = index;\r\n          } else {\r\n            contents.push(\r\n              <StyledBoxGap\r\n                // eslint-disable-next-line react/no-array-index-key\r\n                key={`gap-${index}`}\r\n                as={boxAs === 'span' ? boxAs : 'div'}\r\n                gap={gap}\r\n                directionProp={direction}\r\n                responsive={responsive}\r\n                border={border}\r\n              />,\r\n            );\r\n          }\r\n        }\r\n        contents.push(child);\r\n      });\r\n    }\r\n\r\n    if (background || theme.darkChanged) {\r\n      let dark = backgroundIsDark(background, theme);\r\n      const darkChanged = dark !== undefined && dark !== theme.dark;\r\n      if (darkChanged || theme.darkChanged) {\r\n        dark = dark === undefined ? theme.dark : dark;\r\n        contents = (\r\n          <ThemeContext.Provider value={{ ...theme, dark }}>\r\n            {contents}\r\n          </ThemeContext.Provider>\r\n        );\r\n      }\r\n    }\r\n\r\n    let content = (\r\n      <StyledBox\r\n        as={!as && tag ? tag : as}\r\n        aria-label={a11yTitle}\r\n        background={background}\r\n        border={border}\r\n        ref={ref}\r\n        directionProp={direction}\r\n        elevationProp={elevation}\r\n        fillProp={fill}\r\n        focus={focus}\r\n        overflowProp={overflow}\r\n        wrapProp={wrap}\r\n        widthProp={width}\r\n        heightProp={height}\r\n        responsive={responsive}\r\n        tabIndex={adjustedTabIndex}\r\n        {...clickProps}\r\n        {...rest}\r\n      >\r\n        {contents}\r\n      </StyledBox>\r\n    );\r\n\r\n    if (onClick) {\r\n      content = <Keyboard onEnter={onClick}>{content}</Keyboard>;\r\n    }\r\n\r\n    return content;\r\n  },\r\n);\r\n\r\nBox.displayName = 'Box';\r\n\r\nlet BoxDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  BoxDoc = require('./doc').doc(Box); // eslint-disable-line global-require\r\n}\r\nconst BoxWrapper = BoxDoc || Box;\r\n\r\nexport { BoxWrapper as Box };\r\n","import { css } from 'styled-components';\r\nimport { normalizeColor } from './colors';\r\nimport { breakpointStyle } from './mixins';\r\n\r\nexport const responsiveBorderStyle = (data, theme) => {\r\n  const color = normalizeColor(data.color || 'border', theme);\r\n  const borderSize = data.size || 'xsmall';\r\n  const style = data.style || 'solid';\r\n  const side = typeof data === 'string' ? data : data.side || 'all';\r\n  const breakpoint =\r\n    theme.box.responsiveBreakpoint &&\r\n    theme.global.breakpoints[theme.box.responsiveBreakpoint];\r\n  if (!breakpoint.borderSize) breakpoint.borderSize = theme.global.borderSize;\r\n  const value =\r\n    breakpoint &&\r\n    (breakpoint.borderSize[borderSize] || borderSize) &&\r\n    `${style} ${breakpoint.borderSize[borderSize] || borderSize} ${color}`;\r\n  if (!value) return undefined;\r\n  if (\r\n    side === 'top' ||\r\n    side === 'bottom' ||\r\n    side === 'left' ||\r\n    side === 'right'\r\n  )\r\n    return `border-${side}: ${value};`;\r\n  if (side === 'end' || side === 'start')\r\n    return `border-inline-${side}: ${value};`;\r\n  if (side === 'vertical')\r\n    return `\r\n      border-left: ${value};\r\n      border-right: ${value};\r\n    `;\r\n  if (side === 'horizontal')\r\n    return `\r\n      border-top: ${value};\r\n      border-bottom: ${value};\r\n    `;\r\n  if (side === 'between') return undefined; // no-op\r\n  return `border: ${value};`;\r\n};\r\n\r\nexport const borderStyle = (data, responsive, theme) => {\r\n  const styles = [];\r\n  const color = normalizeColor(data.color || 'border', theme);\r\n  const borderSize = data.size || 'xsmall';\r\n  const style = data.style || 'solid';\r\n  const side = typeof data === 'string' ? data : data.side || 'all';\r\n  const value = `${style} ${theme.global.borderSize[borderSize] ||\r\n    borderSize} ${color}`;\r\n  const responsiveStyle = responsive && responsiveBorderStyle(data, theme);\r\n  const breakpoint =\r\n    responsiveStyle &&\r\n    theme.box.responsiveBreakpoint &&\r\n    theme.global.breakpoints[theme.box.responsiveBreakpoint];\r\n  if (\r\n    side === 'top' ||\r\n    side === 'bottom' ||\r\n    side === 'left' ||\r\n    side === 'right'\r\n  ) {\r\n    styles.push(`border-${side}: ${value};`);\r\n    if (responsiveStyle) {\r\n      styles.push(breakpointStyle(breakpoint, responsiveStyle));\r\n    }\r\n  } else if (side === 'end' || side === 'start') {\r\n    styles.push(css`border-inline-${side}: ${value};`);\r\n    if (responsiveStyle) {\r\n      styles.push(breakpointStyle(breakpoint, responsiveStyle));\r\n    }\r\n  } else if (side === 'vertical') {\r\n    styles.push(css`\r\n      border-left: ${value};\r\n      border-right: ${value};\r\n    `);\r\n    if (responsiveStyle) {\r\n      styles.push(breakpointStyle(breakpoint, responsiveStyle));\r\n    }\r\n  } else if (side === 'horizontal') {\r\n    styles.push(css`\r\n      border-top: ${value};\r\n      border-bottom: ${value};\r\n    `);\r\n    if (responsiveStyle) {\r\n      styles.push(breakpointStyle(breakpoint, responsiveStyle));\r\n    }\r\n  } else if (side === 'between') {\r\n    // no-op\r\n  } else {\r\n    styles.push(\r\n      css`\r\n        border: ${value};\r\n      `,\r\n    );\r\n    if (responsiveStyle) {\r\n      styles.push(breakpointStyle(breakpoint, responsiveStyle));\r\n    }\r\n  }\r\n  return styles;\r\n};\r\n","export const findScrollParent = (element, horizontal) => {\r\n  let result;\r\n  if (element) {\r\n    let parent = element.parentNode;\r\n    while (!result && parent && parent.getBoundingClientRect) {\r\n      const rect = parent.getBoundingClientRect();\r\n      // 10px is to account for borders and scrollbars in a lazy way\r\n      if (horizontal) {\r\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\r\n          result = parent;\r\n        }\r\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\r\n        result = parent;\r\n      }\r\n      parent = parent.parentNode;\r\n    }\r\n    // last scrollable element will be the document\r\n    // if nothing else is scrollable in the page\r\n    if (!result) {\r\n      result = document;\r\n    } else if (result.tagName.toLowerCase() === 'body') {\r\n      result = document;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst documentTags = ['html', 'body'];\r\n\r\nexport const findScrollParents = (element, horizontal) => {\r\n  const result = [];\r\n  if (element) {\r\n    let parent = element.parentNode;\r\n    while (parent && parent.getBoundingClientRect) {\r\n      const rect = parent.getBoundingClientRect();\r\n      // 10px is to account for borders and scrollbars in a lazy way\r\n      if (horizontal) {\r\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\r\n          result.push(parent);\r\n        }\r\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\r\n        result.push(parent);\r\n      }\r\n      parent = parent.parentNode;\r\n    }\r\n    // last scrollable element will be the document\r\n    // if nothing else is scrollable in the page\r\n    if (result.length === 0) {\r\n      result.push(document);\r\n    } else if (documentTags.includes(result[0].tagName.toLowerCase())) {\r\n      result.length = 0;\r\n      result.push(document);\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const containsFocus = node => {\r\n  let element = document.activeElement;\r\n  while (element) {\r\n    if (element === node) break;\r\n    element = element.parentElement;\r\n  }\r\n  return !!element;\r\n};\r\n\r\nexport const getFirstFocusableDescendant = element => {\r\n  const children = element.getElementsByTagName('*');\r\n  for (let i = 0; i < children.length; i += 1) {\r\n    const child = children[i];\r\n    const tagName = child.tagName.toLowerCase();\r\n    if (tagName === 'input' || tagName === 'select') {\r\n      return child;\r\n    }\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const getBodyChildElements = () => {\r\n  const excludeMatch = /^(script|link)$/i;\r\n  const children = [];\r\n  [].forEach.call(document.body.children, node => {\r\n    if (!excludeMatch.test(node.tagName)) {\r\n      children.push(node);\r\n    }\r\n  });\r\n  return children;\r\n};\r\n\r\nexport const getNewContainer = (\r\n  target = document.body,\r\n  targetChildPosition,\r\n) => {\r\n  // setup DOM\r\n  const container = document.createElement('div');\r\n  if (targetChildPosition === 'first') {\r\n    // for SkipLinks\r\n    target.prepend(container);\r\n  } else {\r\n    target.appendChild(container);\r\n  }\r\n  return container;\r\n};\r\n\r\nexport const setFocusWithoutScroll = element => {\r\n  const x = window.scrollX;\r\n  const y = window.scrollY;\r\n  element.focus();\r\n  window.scrollTo(x, y);\r\n};\r\n\r\nconst TABINDEX = 'tabindex';\r\nconst TABINDEX_STATE = 'data-g-tabindex';\r\n\r\nexport const makeNodeFocusable = node => {\r\n  // do not touch aria live containers so that announcements work\r\n  if (!node.hasAttribute('aria-live')) {\r\n    node.setAttribute('aria-hidden', false);\r\n    // allow children to receive focus again\r\n    const elements = node.getElementsByTagName('*');\r\n    // only reset elements we've changed in makeNodeUnfocusable()\r\n    Array.prototype.filter\r\n      .call(elements || [], element => element.hasAttribute(TABINDEX_STATE))\r\n      .forEach(element => {\r\n        const prior = element.getAttribute(TABINDEX_STATE);\r\n        if (prior >= 0) {\r\n          element.setAttribute(TABINDEX, element.getAttribute(TABINDEX_STATE));\r\n        } else if (prior === 'none') {\r\n          element.removeAttribute(TABINDEX);\r\n        }\r\n        element.removeAttribute(TABINDEX_STATE);\r\n      });\r\n  }\r\n};\r\n\r\nconst autoFocusingTags = /(a|area|input|select|textarea|button|iframe)$/;\r\n\r\nexport const makeNodeUnfocusable = node => {\r\n  // do not touch aria live containers so that announcements work\r\n  if (!node.hasAttribute('aria-live')) {\r\n    node.setAttribute('aria-hidden', true);\r\n    // prevent children to receive focus\r\n    const elements = node.getElementsByTagName('*');\r\n    // first, save off the tabIndex of any element with one\r\n    Array.prototype.filter\r\n      .call(elements || [], element => element.getAttribute(TABINDEX) !== null)\r\n      .forEach(element => {\r\n        element.setAttribute(TABINDEX_STATE, element.getAttribute(TABINDEX));\r\n        element.setAttribute(TABINDEX, -1);\r\n      });\r\n    // then, if any element is inherently focusable and not handled above,\r\n    // give it a tabIndex of -1 so it can't receive focus\r\n    Array.prototype.filter\r\n      .call(elements || [], element => {\r\n        const currentTag = element.tagName.toLowerCase();\r\n        return (\r\n          currentTag.match(autoFocusingTags) &&\r\n          element.focus &&\r\n          element.getAttribute(TABINDEX_STATE) === null\r\n        );\r\n      })\r\n      .forEach(element => {\r\n        element.setAttribute(TABINDEX_STATE, 'none');\r\n        element.setAttribute(TABINDEX, -1);\r\n      });\r\n  }\r\n};\r\n\r\nexport const findVisibleParent = element => {\r\n  if (element) {\r\n    // Get the closest ancestor element that is positioned.\r\n    return element.offsetParent\r\n      ? element\r\n      : findVisibleParent(element.parentElement) || element;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nexport const isNodeAfterScroll = (node, target) => {\r\n  const { bottom } = node.getBoundingClientRect();\r\n  // target will be the document from findScrollParent()\r\n  const { height, top } = target.getBoundingClientRect\r\n    ? target.getBoundingClientRect()\r\n    : { height: 0, top: 0 };\r\n  return bottom >= top + height;\r\n};\r\n\r\nexport const isNodeBeforeScroll = (node, target) => {\r\n  const { top } = node.getBoundingClientRect();\r\n  // target will be the document from findScrollParent()\r\n  const { top: targetTop } = target.getBoundingClientRect\r\n    ? target.getBoundingClientRect()\r\n    : { top: 0 };\r\n  return top <= targetTop;\r\n};\r\n","const POST_DECIMAL_DIGITS = 10;\r\n\r\nexport const baseUnit = 24;\r\n\r\nexport const polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {\r\n  const angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n  return {\r\n    x: centerX + radius * Math.cos(angleInRadians),\r\n    y: centerY + radius * Math.sin(angleInRadians),\r\n  };\r\n};\r\n\r\nexport const arcCommands = (centerX, centerY, radius, startAngle, endAngle) => {\r\n  // handle that we can't draw a complete circle\r\n  let normalizedEndAngle = endAngle;\r\n  if (endAngle - startAngle >= 360) {\r\n    normalizedEndAngle = startAngle + 359.99;\r\n  }\r\n  const start = polarToCartesian(centerX, centerY, radius, normalizedEndAngle);\r\n  const end = polarToCartesian(centerX, centerY, radius, startAngle);\r\n  const arcSweep = normalizedEndAngle - startAngle <= 180 ? '0' : '1';\r\n  const d = [\r\n    'M',\r\n    start.x.toFixed(POST_DECIMAL_DIGITS),\r\n    start.y.toFixed(POST_DECIMAL_DIGITS),\r\n    'A',\r\n    radius.toFixed(POST_DECIMAL_DIGITS),\r\n    radius.toFixed(POST_DECIMAL_DIGITS),\r\n    0,\r\n    arcSweep,\r\n    0,\r\n    end.x.toFixed(POST_DECIMAL_DIGITS),\r\n    end.y.toFixed(POST_DECIMAL_DIGITS),\r\n  ].join(' ');\r\n  return d;\r\n};\r\n\r\nexport const translateEndAngle = (startAngle, anglePer, value) =>\r\n  Math.min(360, Math.max(0, startAngle + anglePer * value));\r\n","import React from 'react';\r\n\r\nexport const PortalContext = React.createContext(undefined);\r\n","export const getBreakpoint = (windowWidth, theme) => {\r\n  let result;\r\n  const sortedBreakpoints = Object.keys(theme.global.breakpoints).sort(\r\n    (a, b) => {\r\n      const first = theme.global.breakpoints[a];\r\n      const second = theme.global.breakpoints[b];\r\n      if (!first) return 1;\r\n      if (!second) return -1;\r\n      if (!first.value) return 1;\r\n      if (!second.value) return -1;\r\n      return first.value - second.value;\r\n    },\r\n  );\r\n  // the last breakpoint on the sorted array should have\r\n  // no windowWidth boundaries\r\n  const lastBreakpoint = sortedBreakpoints[sortedBreakpoints.length - 1];\r\n  sortedBreakpoints.some(name => {\r\n    const breakpoint = theme.global.breakpoints[name];\r\n    if (breakpoint) {\r\n      if (!breakpoint.value || breakpoint.value >= windowWidth) {\r\n        result = name;\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  });\r\n  return result || lastBreakpoint;\r\n};\r\n\r\nexport const getDeviceBreakpoint = (type, theme) =>\r\n  theme.global.deviceBreakpoints[type];\r\n\r\nexport const getBreakpointStyle = (theme, breakpointSize) => {\r\n  const breakpoint =\r\n    (breakpointSize && theme.global.breakpoints[breakpointSize]) || {};\r\n  if (!breakpoint.edgeSize) breakpoint.edgeSize = theme.global.edgeSize;\r\n  if (!breakpoint.borderSize) breakpoint.borderSize = theme.global.borderSize;\r\n  if (!breakpoint.size) breakpoint.size = theme.global.size;\r\n  return breakpoint;\r\n};\r\n","\"use strict\";\n\nexports.__esModule = true;\nexports.Actions = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Actions = function Actions(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Actions\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M12,17.5 C15.0375661,17.5 17.5,15.0375661 17.5,12 C17.5,8.96243388 15.0375661,6.5 12,6.5 C8.96243388,6.5 6.5,8.96243388 6.5,12 C6.5,15.0375661 8.96243388,17.5 12,17.5 Z M12,6.5 L12,1 M12,23 L12,17.5 M1,12 L6.5,12 M17.5,12 L23,12 M4.4375,4.4375 L8.5625,8.5625 M15.4375,15.4375 L19.5625,19.5625 M19.5625,4.4375 L15.4375,8.5625 M8.5625,15.4375 L4.4375,19.5625\"\n  }));\n};\n\nexports.Actions = Actions;","\"use strict\";\n\nexports.__esModule = true;\nexports.extendDefaultTheme = exports.defaultProps = void 0;\n\nvar _utils = require(\"./utils\");\n\nvar _themes = require(\"./themes\");\n\nvar defaultProps = {\n  theme: _themes.base\n};\nexports.defaultProps = defaultProps;\n\nvar extendDefaultTheme = function extendDefaultTheme(theme) {\n  defaultProps.theme = (0, _utils.deepMerge)(_themes.base, theme);\n};\n\nexports.extendDefaultTheme = extendDefaultTheme;","\"use strict\";\n\nexports.__esModule = true;\nexports.isObject = isObject;\nexports.deepMerge = deepMerge;\nexports[\"default\"] = void 0;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n\nfunction deepMerge(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) {\n    return target;\n  } // making sure to not change target (immutable)\n\n\n  var output = _extends({}, target);\n\n  sources.forEach(function (source) {\n    if (isObject(source)) {\n      Object.keys(source).forEach(function (key) {\n        if (isObject(source[key])) {\n          if (!output[key]) {\n            output[key] = _extends({}, source[key]);\n          } else {\n            output[key] = deepMerge(output[key], source[key]);\n          }\n        } else {\n          output[key] = source[key];\n        }\n      });\n    }\n  });\n  return output;\n}\n\nvar _default = {\n  deepMerge: deepMerge,\n  isObject: isObject\n};\nexports[\"default\"] = _default;","\"use strict\";\n\nexports.__esModule = true;\nexports.base = void 0;\n\nvar _base = require(\"./base\");\n\nexports.base = _base.base;","\"use strict\";\n\nexports.__esModule = true;\nexports.ClosedCaption = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar ClosedCaption = function ClosedCaption(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"ClosedCaption\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M1,12 C1,5 2.5,4 12,4 C21.5,4 23,5 23,12 C23,19 21.5,20 12,20 C2.5,20 1,19 1,12 Z M5.25,14 C5.25,15.5 6,16 7.75,16 C9.5,16 10.25,15.5 10.25,14 L9.97861679,14 C9.97861671,15.25 8.97905547,16 7.75,16 C6.52094453,16 5.52138329,15.25 5.52138321,14 L5.52138321,10 C5.5,8.75 6.5,8 7.75,8 C9,8 10,8.75 9.97861679,10 L10.25,10 C10.25,8.75 9.2286998,8 7.75,8 C6.2713002,8 5.25,8.75 5.25,10 L5.25,14 Z M13.25,14 C13.25,15.5 14,16 15.75,16 C17.5,16 18.25,15.5 18.25,14 L17.9786168,14 C17.9786167,15.25 16.9790555,16 15.75,16 C14.5209445,16 13.5213833,15.25 13.5213832,14 L13.5213832,10 C13.5,8.75 14.5,8 15.75,8 C17,8 18,8.75 17.9786168,10 L18.25,10 C18.25,8.75 17.2286998,8 15.75,8 C14.2713002,8 13.25,8.75 13.25,10 L13.25,14 Z\"\n  }));\n};\n\nexports.ClosedCaption = ClosedCaption;","\"use strict\";\n\nexports.__esModule = true;\nexports.Expand = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Expand = function Expand(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Expand\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9\"\n  }));\n};\n\nexports.Expand = Expand;","\"use strict\";\n\nexports.__esModule = true;\nexports.FormDown = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FormDown = function FormDown(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormDown\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"18 9 12 15 6 9\"\n  }));\n};\n\nexports.FormDown = FormDown;","\"use strict\";\n\nexports.__esModule = true;\nexports.FormNext = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FormNext = function FormNext(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormNext\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"9 6 15 12 9 18\"\n  }));\n};\n\nexports.FormNext = FormNext;","\"use strict\";\n\nexports.__esModule = true;\nexports.FormPrevious = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FormPrevious = function FormPrevious(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormPrevious\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"9 6 15 12 9 18\",\n    transform: \"matrix(-1 0 0 1 24 0)\"\n  }));\n};\n\nexports.FormPrevious = FormPrevious;","\"use strict\";\n\nexports.__esModule = true;\nexports.FormUp = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FormUp = function FormUp(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormUp\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"18 9 12 15 6 9\",\n    transform: \"matrix(1 0 0 -1 0 24)\"\n  }));\n};\n\nexports.FormUp = FormUp;","\"use strict\";\n\nexports.__esModule = true;\nexports.Next = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Next = function Next(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Next\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"7 2 17 12 7 22\"\n  }));\n};\n\nexports.Next = Next;","\"use strict\";\n\nexports.__esModule = true;\nexports.Pause = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Pause = function Pause(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Pause\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M3,21 L9,21 L9,3 L3,3 L3,21 Z M15,21 L21,21 L21,3 L15,3 L15,21 Z\"\n  }));\n};\n\nexports.Pause = Pause;","\"use strict\";\n\nexports.__esModule = true;\nexports.Play = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Play = function Play(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Play\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polygon\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"3 22 21 12 3 2\"\n  }));\n};\n\nexports.Play = Play;","\"use strict\";\n\nexports.__esModule = true;\nexports.Previous = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Previous = function Previous(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Previous\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"polyline\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    points: \"7 2 17 12 7 22\",\n    transform: \"matrix(-1 0 0 1 24 0)\"\n  }));\n};\n\nexports.Previous = Previous;","\"use strict\";\n\nexports.__esModule = true;\nexports.Subtract = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Subtract = function Subtract(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Subtract\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M2,12 L22,12\"\n  }));\n};\n\nexports.Subtract = Subtract;","\"use strict\";\n\nexports.__esModule = true;\nexports.Volume = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Volume = function Volume(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Volume\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M15,16 C17.209,16 19,14.209 19,12 C19,9.791 17.209,8 15,8 M15,20 C20,20 23,16.411 23,12 C23,7.589 19.411,4 15,4 M1,12 L1,8 L6,8 L12,3 L12,21 L6,16 L1,16 L1,12\"\n  }));\n};\n\nexports.Volume = Volume;","\"use strict\";\n\nexports.__esModule = true;\nexports.VolumeLow = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar VolumeLow = function VolumeLow(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"VolumeLow\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M1,8 L1,16 L6.09901951,16 L12,21 L12,3 L6,8 L1,8 Z M15,16 L15,16 C17.209139,16 19,14.209139 19,12 C19,9.790861 17.209139,8 15,8\"\n  }));\n};\n\nexports.VolumeLow = VolumeLow;","import { Children, cloneElement, useCallback, useEffect } from 'react';\r\n\r\nconst KEYS = {\r\n  8: 'onBackspace',\r\n  9: 'onTab',\r\n  13: 'onEnter',\r\n  27: 'onEsc',\r\n  32: 'onSpace',\r\n  37: 'onLeft',\r\n  38: 'onUp',\r\n  39: 'onRight',\r\n  40: 'onDown',\r\n  188: 'onComma',\r\n  16: 'onShift',\r\n};\r\n\r\nconst Keyboard = ({ target, children, onKeyDown, ...restProps }) => {\r\n  const onKeyDownHandler = useCallback(\r\n    (event, ...rest) => {\r\n      const key = event.keyCode ? event.keyCode : event.which;\r\n      const callbackName = KEYS[key];\r\n\r\n      if (callbackName && restProps[callbackName]) {\r\n        restProps[callbackName](event, ...rest);\r\n      }\r\n\r\n      if (onKeyDown) {\r\n        onKeyDown(event, ...rest);\r\n      }\r\n    },\r\n    [onKeyDown, restProps],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (target === 'document') {\r\n      document.addEventListener('keydown', onKeyDownHandler);\r\n    }\r\n\r\n    return () => {\r\n      if (target === 'document') {\r\n        document.removeEventListener('keydown', onKeyDownHandler);\r\n      }\r\n    };\r\n  }, [onKeyDownHandler, target]);\r\n\r\n  return target === 'document'\r\n    ? children\r\n    : cloneElement(Children.only(children), {\r\n        onKeyDown: onKeyDownHandler,\r\n      });\r\n};\r\n\r\nlet KeyboardDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  KeyboardDoc = require('./doc').doc(Keyboard);\r\n}\r\nconst KeyboardWrapper = KeyboardDoc || Keyboard;\r\n\r\nexport { KeyboardWrapper as Keyboard };\r\n","import styled, { css, keyframes } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport {\r\n  backgroundStyle,\r\n  borderStyle,\r\n  breakpointStyle,\r\n  edgeStyle,\r\n  fillStyle,\r\n  focusStyle,\r\n  genericStyles,\r\n  getHoverIndicatorStyle,\r\n  overflowStyle,\r\n  parseMetricToNum,\r\n  responsiveBorderStyle,\r\n  getBreakpointStyle,\r\n} from '../../utils';\r\n\r\nconst ALIGN_MAP = {\r\n  baseline: 'baseline',\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst alignStyle = css`\r\n  align-items: ${props => ALIGN_MAP[props.align]};\r\n`;\r\n\r\nconst ALIGN_CONTENT_MAP = {\r\n  around: 'around',\r\n  between: 'between',\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst alignContentStyle = css`\r\n  align-content: ${props => ALIGN_CONTENT_MAP[props.alignContent]};\r\n`;\r\n\r\nconst BASIS_MAP = {\r\n  auto: 'auto',\r\n  full: '100%',\r\n  '1/2': '50%',\r\n  '1/4': '25%',\r\n  '2/4': '50%',\r\n  '3/4': '75%',\r\n  '1/3': '33.33%',\r\n  '2/3': '66.66%',\r\n};\r\n\r\nconst basisStyle = css`\r\n  flex-basis: ${props =>\r\n    BASIS_MAP[props.basis] ||\r\n    props.theme.global.size[props.basis] ||\r\n    props.basis};\r\n`;\r\n\r\n// min-width and min-height needed because of this\r\n// https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\r\n// we assume we are in the context of a Box going the other direction\r\n// TODO: revisit this\r\nconst directionStyle = (direction, theme) => {\r\n  const styles = [\r\n    css`\r\n      min-width: 0;\r\n      min-height: 0;\r\n      flex-direction: ${direction === 'row-responsive' ? 'row' : direction};\r\n    `,\r\n  ];\r\n  if (direction === 'row-responsive' && theme.box.responsiveBreakpoint) {\r\n    const breakpoint = getBreakpointStyle(\r\n      theme,\r\n      theme.box.responsiveBreakpoint,\r\n    );\r\n    if (breakpoint) {\r\n      styles.push(\r\n        breakpointStyle(\r\n          breakpoint,\r\n          `\r\n        flex-direction: column;\r\n        flex-basis: auto;\r\n        justify-content: flex-start;\r\n        align-items: stretch;\r\n      `,\r\n        ),\r\n      );\r\n    }\r\n  }\r\n  return styles;\r\n};\r\n\r\nconst elevationStyle = css`\r\n  box-shadow: ${props =>\r\n    props.theme.global.elevation[props.theme.dark ? 'dark' : 'light'][\r\n      props.elevationProp\r\n    ]};\r\n`;\r\n\r\nconst FLEX_MAP = {\r\n  [true]: '1 1',\r\n  [false]: '0 0',\r\n  grow: '1 0',\r\n  shrink: '0 1',\r\n};\r\n\r\nconst flexGrowShrinkProp = flex => {\r\n  if (typeof flex === 'boolean' || typeof flex === 'string') {\r\n    return FLEX_MAP[flex];\r\n  }\r\n\r\n  return `${flex.grow ? flex.grow : 0} ${flex.shrink ? flex.shrink : 0}`;\r\n};\r\n\r\nconst flexStyle = css`\r\n  flex: ${props =>\r\n    `${flexGrowShrinkProp(props.flex)}${\r\n      props.flex !== true && !props.basis ? ' auto' : ''\r\n    }`};\r\n`;\r\n\r\nconst JUSTIFY_MAP = {\r\n  around: 'space-around',\r\n  between: 'space-between',\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  evenly: 'space-evenly',\r\n  start: 'flex-start',\r\n};\r\n\r\nconst justifyStyle = css`\r\n  justify-content: ${props => JUSTIFY_MAP[props.justify]};\r\n`;\r\n\r\nconst WRAP_MAP = {\r\n  true: 'wrap',\r\n  reverse: 'wrap-reverse',\r\n};\r\n\r\nconst wrapStyle = css`\r\n  flex-wrap: ${props => WRAP_MAP[props.wrapProp]};\r\n`;\r\n\r\nconst ROUND_MAP = {\r\n  full: '100%',\r\n};\r\n\r\nconst roundStyle = (data, responsive, theme) => {\r\n  const breakpoint = getBreakpointStyle(theme, theme.box.responsiveBreakpoint);\r\n  const styles = [];\r\n  if (typeof data === 'object') {\r\n    const size =\r\n      ROUND_MAP[data.size] ||\r\n      theme.global.edgeSize[data.size || 'medium'] ||\r\n      data.size;\r\n    const responsiveSize =\r\n      responsive &&\r\n      breakpoint &&\r\n      breakpoint.edgeSize[data.size] &&\r\n      (breakpoint.edgeSize[data.size] || data.size);\r\n    if (data.corner === 'top') {\r\n      styles.push(css`\r\n        border-top-left-radius: ${size};\r\n        border-top-right-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-top-left-radius: ${responsiveSize};\r\n          border-top-right-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    } else if (data.corner === 'bottom') {\r\n      styles.push(css`\r\n        border-bottom-left-radius: ${size};\r\n        border-bottom-right-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-bottom-left-radius: ${responsiveSize};\r\n          border-bottom-right-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    } else if (data.corner === 'left') {\r\n      styles.push(css`\r\n        border-top-left-radius: ${size};\r\n        border-bottom-left-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-top-left-radius: ${responsiveSize};\r\n          border-bottom-left-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    } else if (data.corner === 'right') {\r\n      styles.push(css`\r\n        border-top-right-radius: ${size};\r\n        border-bottom-right-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-top-right-radius: ${responsiveSize};\r\n          border-bottom-right-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    } else if (data.corner) {\r\n      styles.push(css`\r\n        border-${data.corner}-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-${data.corner}-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    } else {\r\n      styles.push(css`\r\n        border-radius: ${size};\r\n      `);\r\n      if (responsiveSize) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          border-radius: ${responsiveSize};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    }\r\n  } else {\r\n    const size = data === true ? 'medium' : data;\r\n    styles.push(css`\r\n      border-radius: ${ROUND_MAP[size] || theme.global.edgeSize[size] || size};\r\n    `);\r\n    const responsiveSize = breakpoint && breakpoint.edgeSize[size];\r\n    if (responsiveSize) {\r\n      styles.push(\r\n        breakpointStyle(\r\n          breakpoint,\r\n          `\r\n        border-radius: ${responsiveSize};\r\n      `,\r\n        ),\r\n      );\r\n    }\r\n  }\r\n  return styles;\r\n};\r\n\r\nconst SLIDE_SIZES = {\r\n  xsmall: 1,\r\n  small: 5,\r\n  medium: 10,\r\n  large: 50,\r\n  xlarge: 200,\r\n};\r\n\r\nconst PULSE_SIZES = {\r\n  xsmall: 1.001,\r\n  small: 1.01,\r\n  medium: 1.1,\r\n  large: 1.5,\r\n  xlarge: 2,\r\n};\r\n\r\nconst JIGGLE_SIZES = {\r\n  xsmall: 0.1,\r\n  small: 1,\r\n  medium: 5,\r\n  large: 400,\r\n  xlarge: 1000,\r\n};\r\n\r\nconst ZOOM_SIZES = {\r\n  xsmall: 0.001,\r\n  small: 0.01,\r\n  medium: 0.05,\r\n  large: 0.1,\r\n  xlarge: 0.5,\r\n};\r\n\r\nconst animationBounds = (type, size = 'medium') => {\r\n  if (type === 'fadeIn') {\r\n    return ['opacity: 0;', 'opacity: 1;'];\r\n  }\r\n  if (type === 'fadeOut') {\r\n    return ['opacity: 1;', 'opacity: 0;'];\r\n  }\r\n  if (type === 'jiggle') {\r\n    const deg = JIGGLE_SIZES[size];\r\n    return [`transform: rotate(-${deg}deg);`, `transform: rotate(${deg}deg);`];\r\n  }\r\n  if (type === 'pulse') {\r\n    return ['transform: scale(1);', `transform: scale(${PULSE_SIZES[size]})`];\r\n  }\r\n  if (type === 'rotateRight') {\r\n    return [`transform: rotate(0deg);`, `transform: rotate(359deg);`];\r\n  }\r\n  if (type === 'rotateLeft') {\r\n    return [`transform: rotate(0deg);`, `transform: rotate(-359deg);`];\r\n  }\r\n  if (type === 'flipIn') {\r\n    return ['transform: rotateY(90deg);', 'transform: rotateY(0);'];\r\n  }\r\n  if (type === 'flipOut') {\r\n    return ['transform: rotateY(0);', 'transform: rotateY(90deg);'];\r\n  }\r\n  if (type === 'slideDown') {\r\n    return [\r\n      `transform: translateY(-${SLIDE_SIZES[size]}%);`,\r\n      'transform: none;',\r\n    ];\r\n  }\r\n  if (type === 'slideLeft') {\r\n    return [\r\n      `transform: translateX(${SLIDE_SIZES[size]}%);`,\r\n      'transform: none;',\r\n    ];\r\n  }\r\n  if (type === 'slideRight') {\r\n    return [\r\n      `transform: translateX(-${SLIDE_SIZES[size]}%);`,\r\n      'transform: none;',\r\n    ];\r\n  }\r\n  if (type === 'slideUp') {\r\n    return [\r\n      `transform: translateY(${SLIDE_SIZES[size]}%);`,\r\n      'transform: none;',\r\n    ];\r\n  }\r\n  if (type === 'zoomIn') {\r\n    return [`transform: scale(${1 - ZOOM_SIZES[size]});`, 'transform: none;'];\r\n  }\r\n  if (type === 'zoomOut') {\r\n    return [`transform: scale(${1 + ZOOM_SIZES[size]});`, 'transform: none;'];\r\n  }\r\n  return [];\r\n};\r\n\r\nconst normalizeTiming = (time, defaultTiming) =>\r\n  time ? `${time / 1000.0}s` : defaultTiming;\r\n\r\nconst animationEnding = type => {\r\n  if (type === 'jiggle') {\r\n    return 'alternate infinite';\r\n  }\r\n  if (type === 'pulse') {\r\n    return 'alternate infinite';\r\n  }\r\n  if (type === 'rotateRight' || type === 'rotateLeft') {\r\n    return 'infinite linear';\r\n  }\r\n  return 'forwards';\r\n};\r\n\r\nconst animationObjectStyle = (animation, theme) => {\r\n  const bounds = animationBounds(animation.type, animation.size);\r\n  if (bounds) {\r\n    const animationTransition = css`\r\n      from {\r\n        ${bounds[0]};\r\n      }\r\n      to {\r\n        ${bounds[1]};\r\n      }\r\n    `;\r\n    return css`${keyframes`${animationTransition}`}\r\n    ${normalizeTiming(\r\n      animation.duration,\r\n      (theme.global.animation[animation.type]\r\n        ? theme.global.animation[animation.type].duration\r\n        : undefined) || theme.global.animation.duration,\r\n    )}\r\n    ${normalizeTiming(animation.delay, '0s')}\r\n    ${animationEnding(animation.type)}`;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst animationItemStyle = (item, theme) => {\r\n  if (typeof item === 'string') {\r\n    return animationObjectStyle({ type: item }, theme);\r\n  }\r\n  if (Array.isArray(item)) {\r\n    return item.reduce(\r\n      (style, a, index) =>\r\n        css`${style}${index > 0 ? ',' : ''} ${animationItemStyle(a, theme)}`,\r\n      '',\r\n    );\r\n  }\r\n  if (typeof item === 'object') {\r\n    return animationObjectStyle(item, theme);\r\n  }\r\n  return '';\r\n};\r\n\r\nconst animationAncilaries = animation => {\r\n  if (animation.type === 'flipIn' || animation.type === 'flipOut') {\r\n    return 'perspective: 1000px; transform-style: preserve-3d;';\r\n  }\r\n  return '';\r\n};\r\n\r\nconst animationObjectInitialStyle = animation => {\r\n  const bounds = animationBounds(animation.type, animation.size);\r\n  if (bounds) {\r\n    return `${bounds[0]} ${animationAncilaries(animation)}`;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst animationInitialStyle = item => {\r\n  if (typeof item === 'string') {\r\n    return animationObjectInitialStyle({ type: item });\r\n  }\r\n  if (Array.isArray(item)) {\r\n    return item\r\n      .map(a =>\r\n        typeof a === 'string'\r\n          ? animationObjectInitialStyle({ type: a })\r\n          : animationObjectInitialStyle(a),\r\n      )\r\n      .join('');\r\n  }\r\n  if (typeof item === 'object') {\r\n    return animationObjectInitialStyle(item);\r\n  }\r\n  return '';\r\n};\r\n\r\nconst animationStyle = css`\r\n  ${props => css`\r\n    ${animationInitialStyle(props.animation)}\r\n    animation: ${animationItemStyle(props.animation, props.theme)};\r\n  `};\r\n`;\r\n\r\nconst interactiveStyle = css`\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    ${props =>\r\n      props.hoverIndicator &&\r\n      getHoverIndicatorStyle(props.hoverIndicator, props.theme)}\r\n  }\r\n`;\r\n\r\nconst getSize = (props, size) => props.theme.global.size[size] || size;\r\n\r\nconst heightObjectStyle = css`\r\n  ${props =>\r\n    props.heightProp.max &&\r\n    css`\r\n      max-height: ${getSize(props, props.heightProp.max)};\r\n    `};\r\n  ${props =>\r\n    props.heightProp.min &&\r\n    css`\r\n      min-height: ${getSize(props, props.heightProp.min)};\r\n    `};\r\n`;\r\n\r\nconst heightStyle = css`\r\n  height: ${props => getSize(props, props.heightProp)};\r\n`;\r\n\r\nconst widthObjectStyle = css`\r\n  ${props =>\r\n    props.widthProp.max &&\r\n    css`\r\n      max-width: ${getSize(props, props.widthProp.max)};\r\n    `};\r\n  ${props =>\r\n    props.widthProp.min &&\r\n    css`\r\n      min-width: ${getSize(props, props.widthProp.min)};\r\n    `};\r\n  ${props =>\r\n    props.widthProp.width &&\r\n    css`\r\n      width: ${getSize(props, props.widthProp.width)};\r\n    `};\r\n`;\r\n\r\nconst widthStyle = css`\r\n  width: ${props => getSize(props, props.widthProp)};\r\n`;\r\n\r\n// NOTE: basis must be after flex! Otherwise, flex overrides basis\r\nconst StyledBox = styled.div`\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  ${props => !props.basis && 'max-width: 100%;'};\r\n\r\n  ${genericStyles}\r\n  ${props => props.align && alignStyle}\r\n  ${props => props.alignContent && alignContentStyle}\r\n  ${props => props.background && backgroundStyle(props.background, props.theme)}\r\n  ${props =>\r\n    props.border &&\r\n    (Array.isArray(props.border)\r\n      ? props.border.map(border =>\r\n          borderStyle(border, props.responsive, props.theme),\r\n        )\r\n      : borderStyle(props.border, props.responsive, props.theme))}\r\n  ${props =>\r\n    props.directionProp && directionStyle(props.directionProp, props.theme)}\r\n  ${props =>\r\n    props.heightProp &&\r\n    (typeof props.heightProp === 'object' ? heightObjectStyle : heightStyle)}\r\n  ${props =>\r\n    props.widthProp &&\r\n    (typeof props.widthProp === 'object' ? widthObjectStyle : widthStyle)}\r\n  ${props => props.flex !== undefined && flexStyle}\r\n  ${props => props.basis && basisStyle}\r\n  ${props => props.fillProp && fillStyle(props.fillProp)}\r\n  ${props => props.justify && justifyStyle}\r\n  ${props =>\r\n    props.pad &&\r\n    edgeStyle(\r\n      'padding',\r\n      props.pad,\r\n      props.responsive,\r\n      props.theme.box.responsiveBreakpoint,\r\n      props.theme,\r\n    )}\r\n  ${props =>\r\n    props.round && roundStyle(props.round, props.responsive, props.theme)}\r\n  ${props => props.wrapProp && wrapStyle}\r\n  ${props => props.overflowProp && overflowStyle(props.overflowProp)}\r\n  ${props => props.elevationProp && elevationStyle}\r\n  ${props => props.animation && animationStyle}\r\n  ${props => props.onClick && interactiveStyle}\r\n  ${props =>\r\n    props.onClick &&\r\n    props.focus &&\r\n    props.focusIndicator !== false &&\r\n    focusStyle()}\r\n  ${props => props.theme.box && props.theme.box.extend}\r\n`;\r\n\r\nconst gapStyle = (directionProp, gap, responsive, border, theme) => {\r\n  const metric = theme.global.edgeSize[gap] || gap;\r\n  const breakpoint = getBreakpointStyle(theme, theme.box.responsiveBreakpoint);\r\n  const responsiveMetric = responsive && breakpoint && breakpoint.edgeSize[gap];\r\n\r\n  const styles = [];\r\n  if (directionProp === 'column' || directionProp === 'column-reverse') {\r\n    styles.push(`height: ${metric};`);\r\n    if (responsiveMetric) {\r\n      styles.push(breakpointStyle(breakpoint, `height: ${responsiveMetric};`));\r\n    }\r\n  } else {\r\n    styles.push(`width: ${metric};`);\r\n    if (responsiveMetric) {\r\n      if (directionProp === 'row' || directionProp === 'row-reverse') {\r\n        styles.push(breakpointStyle(breakpoint, `width: ${responsiveMetric};`));\r\n      } else if (directionProp === 'row-responsive') {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n          width: auto;\r\n          height: ${responsiveMetric};\r\n        `,\r\n          ),\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (border === 'between' || (border && border.side === 'between')) {\r\n    const borderSize = border.size || 'xsmall';\r\n    const borderMetric = theme.global.borderSize[borderSize] || borderSize;\r\n    const borderOffset = `${parseMetricToNum(metric) / 2 -\r\n      parseMetricToNum(borderMetric) / 2}px`;\r\n    const responsiveBorderMetric =\r\n      responsive &&\r\n      breakpoint &&\r\n      (breakpoint.borderSize[borderSize] || borderSize);\r\n    const responsiveBorderOffset =\r\n      responsiveBorderMetric &&\r\n      `${parseMetricToNum(responsiveMetric) / 2 -\r\n        parseMetricToNum(responsiveBorderMetric) / 2}px`;\r\n\r\n    if (directionProp === 'column' || directionProp === 'column-reverse') {\r\n      const adjustedBorder =\r\n        typeof border === 'string' ? 'top' : { ...border, side: 'top' };\r\n      styles.push(css`\r\n        position: relative;\r\n        &:after {\r\n          content: '';\r\n          position: absolute;\r\n          width: 100%;\r\n          top: ${borderOffset};\r\n          ${borderStyle(adjustedBorder, responsive, theme)}\r\n        }\r\n      `);\r\n      if (responsiveBorderOffset) {\r\n        styles.push(\r\n          breakpointStyle(\r\n            breakpoint,\r\n            `\r\n            &:after {\r\n              content: '';\r\n              top: ${responsiveBorderOffset};\r\n            }`,\r\n          ),\r\n        );\r\n      }\r\n    } else {\r\n      const adjustedBorder =\r\n        typeof border === 'string' ? 'left' : { ...border, side: 'left' };\r\n      styles.push(css`\r\n        position: relative;\r\n        &:after {\r\n          content: '';\r\n          position: absolute;\r\n          height: 100%;\r\n          left: ${borderOffset};\r\n          ${borderStyle(\r\n            adjustedBorder,\r\n            directionProp !== 'row-responsive' && responsive,\r\n            theme,\r\n          )}\r\n        }\r\n      `);\r\n      if (responsiveBorderOffset) {\r\n        if (directionProp === 'row' || directionProp === 'row-reverse') {\r\n          styles.push(\r\n            breakpointStyle(\r\n              breakpoint,\r\n              `\r\n              &:after {\r\n                content: '';\r\n                left: ${responsiveBorderOffset};\r\n              }`,\r\n            ),\r\n          );\r\n        } else if (directionProp === 'row-responsive') {\r\n          const adjustedBorder2 =\r\n            typeof border === 'string' ? 'top' : { ...border, side: 'top' };\r\n          styles.push(\r\n            breakpointStyle(\r\n              breakpoint,\r\n              `\r\n              &:after {\r\n                content: '';\r\n                height: auto;\r\n                left: unset;\r\n                width: 100%;\r\n                top: ${responsiveBorderOffset};\r\n                border-left: none;\r\n                ${responsiveBorderStyle(adjustedBorder2, theme)}\r\n              }`,\r\n            ),\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return styles;\r\n};\r\n\r\nStyledBox.defaultProps = {};\r\nObject.setPrototypeOf(StyledBox.defaultProps, defaultProps);\r\n\r\nconst StyledBoxGap = styled.div`\r\n  flex: 0 0 auto;\r\n  align-self: stretch;\r\n  ${props =>\r\n    props.gap &&\r\n    gapStyle(\r\n      props.directionProp,\r\n      props.gap,\r\n      props.responsive,\r\n      props.border,\r\n      props.theme,\r\n    )};\r\n`;\r\n\r\nStyledBoxGap.defaultProps = {};\r\nObject.setPrototypeOf(StyledBoxGap.defaultProps, defaultProps);\r\n\r\nexport { StyledBox, StyledBoxGap };\r\n","export { AccordionPanel } from './AccordionPanel';\r\n","import React, { forwardRef, useContext, useMemo, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { normalizeColor, parseMetricToNum } from '../../utils';\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Collapsible } from '../Collapsible';\r\nimport { Heading } from '../Heading';\r\n\r\nimport { AccordionContext } from '../Accordion/AccordionContext';\r\n\r\nconst AccordionPanel = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      header,\r\n      label,\r\n      onClick,\r\n      onMouseOut,\r\n      onMouseOver,\r\n      onFocus,\r\n      onBlur,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const { active, animate, onPanelChange } = useContext(AccordionContext);\r\n    const [hover, setHover] = useState(undefined);\r\n    const [focus, setFocus] = useState();\r\n\r\n    const iconColor = useMemo(\r\n      () => normalizeColor(theme.accordion.icons.color || 'control', theme),\r\n      [theme],\r\n    );\r\n\r\n    const AccordionIcon = useMemo(\r\n      () =>\r\n        active ? theme.accordion.icons.collapse : theme.accordion.icons.expand,\r\n      [active, theme.accordion.icons],\r\n    );\r\n\r\n    const defaultHoverColor = JSON.stringify({\r\n      dark: 'light-4',\r\n      light: 'dark-3',\r\n    });\r\n\r\n    // accordion.hover.color will be deprecated in v3.\r\n    if (JSON.stringify(theme.accordion.hover.color) !== defaultHoverColor)\r\n      console.warn(\r\n        `The theme style for accordion.hover.color is deprecated, \r\n        use accordion.hover.heading.color instead.`,\r\n      );\r\n\r\n    // accordion.hover.heading.color will trump accordion.hover.color in case\r\n    // the user sets its value to be any other value than the\r\n    // default value (defaultHoverColor).\r\n    // accordion.hover.color will be deprecated in v3.\r\n    const headingColor =\r\n      theme.accordion.hover &&\r\n      JSON.stringify(theme.accordion.hover.heading.color) !== defaultHoverColor\r\n        ? theme.accordion.hover.heading.color\r\n        : theme.accordion.hover.color;\r\n\r\n    const { border: contentBorder } = theme.accordion;\r\n    const { border: panelBorder } = theme.accordion.panel;\r\n\r\n    let abutMargin;\r\n    if (panelBorder)\r\n      // abutMargin 'bottom' is set to overlap adjacent border panels\r\n      abutMargin = {\r\n        bottom: `-${parseMetricToNum(\r\n          // in case border.size defined as a t-shirt size\r\n          // or in case border size is a custom size i.e. '5px'\r\n          theme.global.borderSize[panelBorder.size] ||\r\n            panelBorder.size ||\r\n            theme.global.borderSize.xsmall, // '-1px'\r\n        )}px`,\r\n      };\r\n\r\n    return (\r\n      <Box\r\n        ref={ref}\r\n        flex={false}\r\n        onClick={onClick}\r\n        border={panelBorder}\r\n        margin={abutMargin}\r\n      >\r\n        <Button\r\n          role=\"tab\"\r\n          aria-selected={active}\r\n          aria-expanded={active}\r\n          plain={theme.button.default ? true : undefined}\r\n          onClick={onPanelChange}\r\n          onMouseOver={event => {\r\n            setHover(headingColor);\r\n            if (onMouseOver) onMouseOver(event);\r\n          }}\r\n          onMouseOut={event => {\r\n            setHover(undefined);\r\n            if (onMouseOut) onMouseOut(event);\r\n          }}\r\n          onFocus={event => {\r\n            setHover(headingColor);\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          }}\r\n          onBlur={event => {\r\n            setHover(undefined);\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          }}\r\n          style={focus ? { zIndex: 1 } : undefined}\r\n        >\r\n          {header || (\r\n            <Box align=\"center\" direction=\"row\" justify=\"between\" {...rest}>\r\n              {typeof label === 'string' ? (\r\n                <Box pad={{ horizontal: 'xsmall' }}>\r\n                  <Heading\r\n                    level={\r\n                      (theme.accordion.heading &&\r\n                        theme.accordion.heading.level) ||\r\n                      4\r\n                    }\r\n                    margin={\r\n                      (theme.accordion.heading &&\r\n                        theme.accordion.heading.margin) ||\r\n                      undefined\r\n                    }\r\n                    color={hover}\r\n                  >\r\n                    {label}\r\n                  </Heading>\r\n                </Box>\r\n              ) : (\r\n                label\r\n              )}\r\n              {AccordionIcon && (\r\n                <Box pad={{ horizontal: 'small' }}>\r\n                  <AccordionIcon color={iconColor} />\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          )}\r\n        </Button>\r\n        <Box border={contentBorder}>\r\n          {animate ? (\r\n            <Collapsible open={active}>{children}</Collapsible>\r\n          ) : (\r\n            active && children\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    );\r\n  },\r\n);\r\n\r\nAccordionPanel.displayName = 'AccordionPanel';\r\n\r\nlet AccordionPanelDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  AccordionPanelDoc = require('./doc').doc(AccordionPanel);\r\n}\r\nconst AccordionPanelWrapper = AccordionPanelDoc || AccordionPanel;\r\n\r\nexport { AccordionPanelWrapper as AccordionPanel };\r\n","import React, {\r\n  cloneElement,\r\n  Children,\r\n  forwardRef,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport {\r\n  backgroundAndTextColors,\r\n  colorIsDark,\r\n  normalizeBackground,\r\n  normalizeColor,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Tip } from '../Tip';\r\n\r\nimport { StyledButton } from './StyledButton';\r\nimport { StyledButtonKind } from './StyledButtonKind';\r\n\r\n// We have two Styled* components to separate\r\n// the newer default|primary|secondary approach,\r\n// which we use the term \"kind\" to refer to,\r\n// from the previous approach. Hopefully, when we get to grommet v3,\r\n// we can drop the old way and just use kind.\r\n//\r\n// In the kind approach, we rely on the basic structure of the theme\r\n// being repeated. For example: button.default, button.active,\r\n// button.active.default all refer to a similar object containing\r\n// { background, border, color, padding }.\r\n// This allows us to use the same code to evaluate color and generate CSS.\r\n// We just need to build up CSS, since selectors override previous ones.\r\n// See StyledButtonKind.kindStyles() for this.\r\n// And we build down to determine icon color, once we have a color from\r\n// the latest applicable state, we can stop. See Button.getIconColor() for this.\r\n// backgroundAndTextColor() is used in both cases to ensure we are determining\r\n// color in the same way, so the icon and label align.\r\n\r\n// only when default is in the theme\r\n// Used to get the color for the icon to match what StyledButtonKind\r\n// and backgroundStyle() will do for the label.\r\n// The paths are ordered from basic to specific. Go through them\r\n// specific to base until we find one that has a color and use that.\r\nconst getIconColor = (paths = [], theme, colorProp) => {\r\n  let result = [];\r\n  let index = paths.length - 1;\r\n  // stop when we have a color or no more paths\r\n  while (index >= 0 && !result[1]) {\r\n    let obj = theme.button;\r\n\r\n    // find the sub-object under the button them that corresponds with this path\r\n    // for example: 'active.primary'\r\n    if (paths[index]) {\r\n      const parts = paths[index].split('.');\r\n      while (obj && parts.length) obj = obj[parts.shift()];\r\n    }\r\n\r\n    if (obj) {\r\n      // use passed in color for background if the theme has a background color\r\n      const background =\r\n        colorProp && obj.background && obj.background.color\r\n          ? colorProp\r\n          : obj.background;\r\n\r\n      // if theme object explicitly sets the color to undefined, pass false\r\n      // to indicate that the theme doesn't want any text color\r\n      const objColor =\r\n        obj.color ||\r\n        (Object.prototype.hasOwnProperty.call(obj, 'color') &&\r\n        obj.color === undefined\r\n          ? false\r\n          : undefined);\r\n      // use passed in color for text if the theme doesn't have\r\n      // background or border color\r\n      const color =\r\n        colorProp &&\r\n        (!obj.background || !obj.background.color) &&\r\n        (!obj.border || !obj.border.color)\r\n          ? colorProp\r\n          : objColor;\r\n\r\n      result = backgroundAndTextColors(background, color, theme);\r\n    }\r\n    index -= 1;\r\n  }\r\n  return result[1] || undefined;\r\n};\r\n\r\nconst Button = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      active,\r\n      align = 'center',\r\n      color, // munged to avoid styled-components putting it in the DOM\r\n      children,\r\n      disabled,\r\n      icon,\r\n      focusIndicator = true,\r\n      gap = 'small',\r\n      fill, // munged to avoid styled-components putting it in the DOM\r\n      href,\r\n      kind: kindArg,\r\n      label,\r\n      onBlur,\r\n      onClick,\r\n      onFocus,\r\n      onMouseOut,\r\n      onMouseOver,\r\n      plain,\r\n      primary,\r\n      reverse,\r\n      secondary,\r\n      selected,\r\n      size,\r\n      tip,\r\n      type = 'button',\r\n      as,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [focus, setFocus] = useState();\r\n    const [hover, setHover] = useState(false);\r\n\r\n    if ((icon || label) && children) {\r\n      console.warn(\r\n        'Button should not have children if icon or label is provided',\r\n      );\r\n    }\r\n\r\n    // if the theme has button.default, what kind of Button is this\r\n    const kind = useMemo(() => {\r\n      if (theme.button.default) {\r\n        if (kindArg) return kindArg;\r\n        if (primary) return 'primary';\r\n        if (secondary) return 'secondary';\r\n        return 'default';\r\n      }\r\n      return undefined; // pre-default, no kind\r\n    }, [kindArg, primary, secondary, theme.button.default]);\r\n\r\n    // When we have a kind and are not plain, themePaths stores the relative\r\n    // paths within the theme for the current kind and state of the button.\r\n    // These paths are used with getIconColor() above and kindStyle() within\r\n    // StyledButtonKind.\r\n    const themePaths = useMemo(() => {\r\n      if (!kind || plain) return undefined;\r\n      const result = { base: [], hover: [] };\r\n      result.base.push(kind);\r\n      if (selected) {\r\n        result.base.push('selected');\r\n        if (kind) result.base.push(`selected.${kind}`);\r\n      }\r\n      if (disabled) {\r\n        result.base.push('disabled');\r\n        if (kind) result.base.push(`disabled.${kind}`);\r\n      } else {\r\n        if (active) {\r\n          result.base.push('active');\r\n          if (kind) result.base.push(`active.${kind}`);\r\n        }\r\n        result.hover.push('hover');\r\n        if (kind) result.hover.push(`hover.${kind}`);\r\n        if (active) {\r\n          result.hover.push(`hover.active`);\r\n          if (kind) {\r\n            result.hover.push(`hover.active.${kind}`);\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }, [active, disabled, kind, plain, selected]);\r\n\r\n    // only used when theme does not have button.default\r\n    const isDarkBackground = () => {\r\n      const backgroundColor = normalizeBackground(\r\n        normalizeColor(\r\n          color ||\r\n            (theme.button.primary && theme.button.primary.color) ||\r\n            theme.global.colors.control ||\r\n            'brand',\r\n          theme,\r\n        ),\r\n        theme,\r\n      );\r\n\r\n      return colorIsDark(backgroundColor, theme);\r\n    };\r\n\r\n    const onMouseOverButton = event => {\r\n      setHover(true);\r\n      if (onMouseOver) {\r\n        onMouseOver(event);\r\n      }\r\n    };\r\n\r\n    const onMouseOutButton = event => {\r\n      setHover(false);\r\n      if (onMouseOut) {\r\n        onMouseOut(event);\r\n      }\r\n    };\r\n\r\n    let buttonIcon = icon;\r\n    // only change color if user did not specify the color themselves...\r\n    if (icon && !icon.props.color) {\r\n      if (kind) {\r\n        if (!plain) {\r\n          // match what the label will use\r\n          const iconColor =\r\n            (hover && getIconColor(themePaths.hover, theme)) ||\r\n            getIconColor(themePaths.base, theme, color);\r\n          if (iconColor) buttonIcon = cloneElement(icon, { color: iconColor });\r\n        }\r\n      } else if (primary) {\r\n        buttonIcon = cloneElement(icon, {\r\n          color:\r\n            theme.global.colors.text[isDarkBackground() ? 'dark' : 'light'],\r\n        });\r\n      }\r\n    }\r\n\r\n    const domTag = !as && href ? 'a' : as;\r\n    const first = reverse ? label : buttonIcon;\r\n    const second = reverse ? buttonIcon : label;\r\n\r\n    let contents;\r\n    if (first && second) {\r\n      contents = (\r\n        <Box\r\n          direction=\"row\"\r\n          align=\"center\"\r\n          justify={align === 'center' ? 'center' : 'between'}\r\n          gap={gap}\r\n          responsive={false}\r\n        >\r\n          {first}\r\n          {second}\r\n        </Box>\r\n      );\r\n    } else if (typeof children === 'function') {\r\n      contents = children({ disabled, hover, focus });\r\n    } else {\r\n      contents = first || second || children;\r\n    }\r\n\r\n    let styledButtonResult;\r\n    if (kind) {\r\n      styledButtonResult = (\r\n        <StyledButtonKind\r\n          {...rest}\r\n          as={domTag}\r\n          ref={ref}\r\n          active={active}\r\n          align={align}\r\n          aria-label={a11yTitle}\r\n          colorValue={color}\r\n          disabled={disabled}\r\n          gap={gap}\r\n          fillContainer={fill}\r\n          focus={focus}\r\n          focusIndicator={focusIndicator}\r\n          href={href}\r\n          kind={kind}\r\n          themePaths={themePaths}\r\n          onClick={onClick}\r\n          onFocus={event => {\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          }}\r\n          onBlur={event => {\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          }}\r\n          onMouseOver={onMouseOverButton}\r\n          onMouseOut={onMouseOutButton}\r\n          plain={plain || Children.count(children) > 0}\r\n          primary={primary}\r\n          sizeProp={size}\r\n          type={!href ? type : undefined}\r\n        >\r\n          {contents}\r\n        </StyledButtonKind>\r\n      );\r\n    } else {\r\n      styledButtonResult = (\r\n        <StyledButton\r\n          {...rest}\r\n          as={domTag}\r\n          ref={ref}\r\n          aria-label={a11yTitle}\r\n          colorValue={color}\r\n          active={active}\r\n          selected={selected}\r\n          disabled={disabled}\r\n          hasIcon={!!icon}\r\n          gap={gap}\r\n          hasLabel={!!label}\r\n          fillContainer={fill}\r\n          focus={focus}\r\n          focusIndicator={focusIndicator}\r\n          href={href}\r\n          kind={kind}\r\n          themePaths={themePaths}\r\n          onClick={onClick}\r\n          onFocus={event => {\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          }}\r\n          onBlur={event => {\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          }}\r\n          onMouseOver={onMouseOverButton}\r\n          onMouseOut={onMouseOutButton}\r\n          pad={!plain}\r\n          plain={\r\n            typeof plain !== 'undefined'\r\n              ? plain\r\n              : Children.count(children) > 0 || (icon && !label)\r\n          }\r\n          primary={primary}\r\n          sizeProp={size}\r\n          type={!href ? type : undefined}\r\n        >\r\n          {contents}\r\n        </StyledButton>\r\n      );\r\n    }\r\n    if (tip) {\r\n      if (typeof tip === 'string') {\r\n        return <Tip content={tip}>{styledButtonResult}</Tip>;\r\n      }\r\n      return <Tip {...tip}>{styledButtonResult}</Tip>;\r\n    }\r\n    return styledButtonResult;\r\n  },\r\n);\r\n\r\nButton.displayName = 'Button';\r\n\r\nlet ButtonDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  ButtonDoc = require('./doc').doc(Button);\r\n}\r\nconst ButtonWrapper = ButtonDoc || Button;\r\n\r\nexport { ButtonWrapper as Button };\r\n","import React, {\r\n  Children,\r\n  cloneElement,\r\n  forwardRef,\r\n  useContext,\r\n  useState,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { Box } from '../Box';\r\nimport { Drop } from '../Drop';\r\nimport { useForwardedRef } from '../../utils/refs';\r\n\r\nconst Tip = forwardRef(({ children, content, dropProps, plain }, tipRef) => {\r\n  const theme = useContext(ThemeContext);\r\n  const [over, setOver] = useState(false);\r\n\r\n  const componentRef = useForwardedRef(tipRef);\r\n\r\n  // In cases the child is a primitive\r\n  const wrapInvalidElement = () => {\r\n    // Handle the use case of a primitive string child\r\n    // so we'll be able to assign ref and events on the child.\r\n    return !React.isValidElement(children) ? <span>{children}</span> : children;\r\n  };\r\n\r\n  /* Three use case for children\r\n    1. Tip has a single child + it is a React Element => Great!\r\n    2. Tip has a single child +  not React Element => span will wrap the child.\r\n    3. Tip has more than one child => Abort, display Children.only error \r\n  */\r\n  const child =\r\n    Children.count(children) === 1\r\n      ? wrapInvalidElement()\r\n      : Children.only(children);\r\n\r\n  const clonedChild = cloneElement(child, {\r\n    onMouseOver: () => setOver(true),\r\n    onMouseLeave: () => setOver(false),\r\n    onFocus: () => setOver(true),\r\n    onBlur: () => setOver(false),\r\n    key: 'tip-child',\r\n    ref: node => {\r\n      // https://github.com/facebook/react/issues/8873#issuecomment-287873307\r\n      if (typeof componentRef === 'function') {\r\n        componentRef(node);\r\n      } else if (componentRef) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        componentRef.current = node;\r\n      }\r\n      // Call the original ref, if any\r\n      const { ref: callerRef } = child;\r\n      if (typeof callerRef === 'function') {\r\n        callerRef(node);\r\n      } else if (callerRef) {\r\n        callerRef.current = node;\r\n      }\r\n    },\r\n  });\r\n\r\n  return [\r\n    clonedChild,\r\n    over && (\r\n      <Drop\r\n        target={componentRef.current}\r\n        trapFocus={false}\r\n        key=\"tip-drop\"\r\n        plain\r\n        {...theme.tip.drop}\r\n        {...dropProps}\r\n      >\r\n        {plain ? content : <Box {...theme.tip.content}>{content}</Box>}\r\n      </Drop>\r\n    ),\r\n  ];\r\n});\r\n\r\nTip.displayName = 'Tip';\r\n\r\nlet TipDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TipDoc = require('./doc').doc(Tip);\r\n}\r\nconst TipWrapper = TipDoc || Tip;\r\n\r\nexport { TipWrapper as Tip };\r\n","import React, { forwardRef, useEffect, useState, useContext } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\nimport { getNewContainer, setFocusWithoutScroll } from '../../utils';\r\nimport { DropContainer } from './DropContainer';\r\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\r\n\r\nconst Drop = forwardRef(\r\n  (\r\n    {\r\n      restrictFocus,\r\n      target: dropTarget, // avoid DOM leakage\r\n      trapFocus = true,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [originalFocusedElement, setOriginalFocusedElement] = useState();\r\n    useEffect(() => setOriginalFocusedElement(document.activeElement), []);\r\n    const [dropContainer, setDropContainer] = useState();\r\n    const containerTarget = useContext(ContainerTargetContext);\r\n    useEffect(() => setDropContainer(getNewContainer(containerTarget)), [\r\n      containerTarget,\r\n    ]);\r\n\r\n    // just a few things to clean up when the Drop is unmounted\r\n    useEffect(\r\n      () => () => {\r\n        if (restrictFocus && originalFocusedElement) {\r\n          if (originalFocusedElement.focus) {\r\n            setFocusWithoutScroll(originalFocusedElement);\r\n          } else if (\r\n            originalFocusedElement.parentNode &&\r\n            originalFocusedElement.parentNode.focus\r\n          ) {\r\n            // required for IE11 and Edge\r\n            setFocusWithoutScroll(originalFocusedElement.parentNode);\r\n          }\r\n        }\r\n        if (dropContainer) {\r\n          containerTarget.removeChild(dropContainer);\r\n        }\r\n      },\r\n      [containerTarget, dropContainer, originalFocusedElement, restrictFocus],\r\n    );\r\n\r\n    return dropContainer\r\n      ? createPortal(\r\n          <DropContainer\r\n            ref={ref}\r\n            dir={theme && theme.dir}\r\n            dropTarget={dropTarget}\r\n            restrictFocus={restrictFocus}\r\n            trapFocus={trapFocus}\r\n            {...rest}\r\n          />,\r\n          dropContainer,\r\n        )\r\n      : null;\r\n  },\r\n);\r\n\r\nDrop.displayName = 'Drop';\r\n\r\nlet DropDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  DropDoc = require('./doc').doc(Drop); // eslint-disable-line global-require\r\n}\r\nconst DropWrapper = DropDoc || Drop;\r\n\r\nexport { DropWrapper as Drop };\r\n","import React, {\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { FocusedContainer } from '../FocusedContainer';\r\nimport {\r\n  backgroundIsDark,\r\n  findScrollParents,\r\n  parseMetricToNum,\r\n  PortalContext,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nimport { StyledDrop } from './StyledDrop';\r\n\r\n// using react synthetic event to be able to stop propagation that\r\n// would otherwise close the layer on ESC.\r\nconst preventLayerClose = event => {\r\n  const key = event.keyCode ? event.keyCode : event.which;\r\n\r\n  if (key === 27) {\r\n    event.stopPropagation();\r\n  }\r\n};\r\n\r\nconst defaultAlign = { top: 'top', left: 'left' };\r\nconst defaultPortalContext = [];\r\n\r\nconst DropContainer = forwardRef(\r\n  (\r\n    {\r\n      align = defaultAlign,\r\n      children,\r\n      dropTarget,\r\n      elevation,\r\n      onClickOutside,\r\n      onEsc,\r\n      onKeyDown,\r\n      overflow = 'auto',\r\n      plain,\r\n      responsive,\r\n      restrictFocus,\r\n      stretch = 'width',\r\n      trapFocus,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const portalContext = useContext(PortalContext) || defaultPortalContext;\r\n    const portalId = useMemo(() => portalContext.length, [portalContext]);\r\n    const nextPortalContext = useMemo(() => [...portalContext, portalId], [\r\n      portalContext,\r\n      portalId,\r\n    ]);\r\n    const dropRef = useRef();\r\n    useEffect(() => {\r\n      // We try to preserve the maxHeight as changing it causes any scroll\r\n      // position to be lost. We set the maxHeight on mount and if the window\r\n      // is resized.\r\n      const place = preserveHeight => {\r\n        const windowWidth = window.innerWidth;\r\n        const windowHeight = window.innerHeight;\r\n        const target = dropTarget;\r\n        const container = (ref || dropRef).current;\r\n        if (container && target) {\r\n          // clear prior styling\r\n          container.style.left = '';\r\n          container.style.top = '';\r\n          container.style.bottom = '';\r\n          container.style.width = '';\r\n          if (!preserveHeight) {\r\n            container.style.maxHeight = '';\r\n          }\r\n          // get bounds\r\n          const targetRect = target.getBoundingClientRect();\r\n          const containerRect = container.getBoundingClientRect();\r\n          // determine width\r\n          let width;\r\n          if (stretch) {\r\n            width = Math.min(\r\n              stretch === 'align'\r\n                ? Math.min(targetRect.width, containerRect.width)\r\n                : Math.max(targetRect.width, containerRect.width),\r\n              windowWidth,\r\n            );\r\n          } else {\r\n            width = Math.min(containerRect.width, windowWidth);\r\n          }\r\n          // set left position\r\n          let left;\r\n          if (align.left) {\r\n            if (align.left === 'left') {\r\n              ({ left } = targetRect);\r\n            } else if (align.left === 'right') {\r\n              left = targetRect.left + targetRect.width;\r\n            }\r\n          } else if (align.right) {\r\n            if (align.right === 'left') {\r\n              left = targetRect.left - width;\r\n            } else if (align.right === 'right') {\r\n              left = targetRect.left + targetRect.width - width;\r\n            }\r\n          } else {\r\n            left = targetRect.left + targetRect.width / 2 - width / 2;\r\n          }\r\n          if (left + width > windowWidth) {\r\n            left -= left + width - windowWidth;\r\n          } else if (left < 0) {\r\n            left = 0;\r\n          }\r\n          // set top or bottom position\r\n          let top;\r\n          let bottom;\r\n          let maxHeight = containerRect.height;\r\n          if (align.top) {\r\n            if (align.top === 'top') {\r\n              ({ top } = targetRect);\r\n            } else {\r\n              top = targetRect.bottom;\r\n            }\r\n\r\n            // Calculate visible area underneath the control w.r.t window height\r\n            const percentVisibleAreaBelow =\r\n              100 - (targetRect.bottom / windowHeight) * 100;\r\n\r\n            // Check whether it is within 20% from bottom of the window or\r\n            // visible area to flip the control\r\n            // DropContainer doesn't fit well within visible area when\r\n            // percentVisibleAreaBelow value<=20%\r\n            // There is enough space from DropContainer to bottom of the window\r\n            // when percentVisibleAreaBelow>20%.\r\n\r\n            if (windowHeight === top || percentVisibleAreaBelow <= 20) {\r\n              // We need more room than we have.\r\n              // We put it below, but there's more room above, put it above\r\n              top = '';\r\n              if (align.top === 'bottom') {\r\n                bottom = targetRect.top;\r\n              } else {\r\n                ({ bottom } = targetRect);\r\n              }\r\n              maxHeight = bottom;\r\n              container.style.maxHeight = `${maxHeight}px`;\r\n            } else if (top > 0) {\r\n              maxHeight = windowHeight - top;\r\n              container.style.maxHeight = `${maxHeight}px`;\r\n            } else {\r\n              maxHeight = windowHeight - top;\r\n            }\r\n          } else if (align.bottom) {\r\n            if (align.bottom === 'bottom') {\r\n              ({ bottom } = targetRect);\r\n            } else {\r\n              bottom = targetRect.top;\r\n            }\r\n            maxHeight = bottom;\r\n            container.style.maxHeight = `${maxHeight}px`;\r\n          } else {\r\n            // center\r\n            top =\r\n              targetRect.top + targetRect.height / 2 - containerRect.height / 2;\r\n            maxHeight = windowHeight - top;\r\n          }\r\n          // if we can't fit it all, or we're rather close,\r\n          // see if there's more room the other direction\r\n          if (\r\n            responsive &&\r\n            (containerRect.height > maxHeight || maxHeight < windowHeight / 10)\r\n          ) {\r\n            // We need more room than we have.\r\n            if (align.top && top > windowHeight / 2) {\r\n              // We put it below, but there's more room above, put it above\r\n              top = '';\r\n              if (align.top === 'bottom') {\r\n                // top = Math.max(targetRect.top - containerRect.height, 0);\r\n                // maxHeight = targetRect.top - top;\r\n                bottom = targetRect.top;\r\n              } else {\r\n                // top = Math.max(targetRect.bottom - containerRect.height, 0);\r\n                // maxHeight = targetRect.bottom - top;\r\n                ({ bottom } = targetRect);\r\n              }\r\n              maxHeight = bottom;\r\n            } else if (align.bottom && maxHeight < windowHeight / 2) {\r\n              // We put it above but there's more room below, put it below\r\n              bottom = '';\r\n              if (align.bottom === 'bottom') {\r\n                ({ top } = targetRect);\r\n              } else {\r\n                top = targetRect.bottom;\r\n              }\r\n              maxHeight = windowHeight - top;\r\n            }\r\n          }\r\n          container.style.left = `${left}px`;\r\n          if (stretch) {\r\n            // offset width by 0.1 to avoid a bug in ie11 that\r\n            // unnecessarily wraps the text if width is the same\r\n            // NOTE: turned off for now\r\n            container.style.width = `${width + 0.1}px`;\r\n          }\r\n          // the (position:absolute + scrollTop)\r\n          // is presenting issues with desktop scroll flickering\r\n          if (top !== '') {\r\n            container.style.top = `${top}px`;\r\n          }\r\n          if (bottom !== '') {\r\n            container.style.bottom = `${windowHeight - bottom}px`;\r\n          }\r\n          if (!preserveHeight) {\r\n            if (theme.drop && theme.drop.maxHeight) {\r\n              maxHeight = Math.min(\r\n                maxHeight,\r\n                parseMetricToNum(theme.drop.maxHeight),\r\n              );\r\n            }\r\n            container.style.maxHeight = `${maxHeight}px`;\r\n          }\r\n        }\r\n      };\r\n\r\n      let scrollParents;\r\n\r\n      const addScrollListeners = () => {\r\n        scrollParents = findScrollParents(dropTarget);\r\n        scrollParents.forEach(scrollParent =>\r\n          scrollParent.addEventListener('scroll', place),\r\n        );\r\n      };\r\n\r\n      const removeScrollListeners = () => {\r\n        scrollParents.forEach(scrollParent =>\r\n          scrollParent.removeEventListener('scroll', place),\r\n        );\r\n        scrollParents = [];\r\n      };\r\n\r\n      const onClickDocument = event => {\r\n        // determine which portal id the target is in, if any\r\n        let clickedPortalId = null;\r\n        let node = event.target;\r\n        while (clickedPortalId === null && node !== document) {\r\n          const attr = node.getAttribute('data-g-portal-id');\r\n          if (attr !== null) clickedPortalId = parseInt(attr, 10);\r\n          node = node.parentNode;\r\n        }\r\n        if (\r\n          clickedPortalId === null ||\r\n          portalContext.indexOf(clickedPortalId) !== -1\r\n        ) {\r\n          onClickOutside(event);\r\n        }\r\n      };\r\n\r\n      const onResize = () => {\r\n        removeScrollListeners();\r\n        addScrollListeners();\r\n        place(false);\r\n      };\r\n\r\n      addScrollListeners();\r\n      window.addEventListener('resize', onResize);\r\n      if (onClickOutside) {\r\n        document.addEventListener('mousedown', onClickDocument);\r\n      }\r\n\r\n      place(false);\r\n\r\n      return () => {\r\n        removeScrollListeners();\r\n        window.removeEventListener('resize', onResize);\r\n        if (onClickOutside) {\r\n          document.removeEventListener('mousedown', onClickDocument);\r\n        }\r\n      };\r\n    }, [\r\n      align,\r\n      dropTarget,\r\n      onClickOutside,\r\n      portalContext,\r\n      portalId,\r\n      ref,\r\n      responsive,\r\n      restrictFocus,\r\n      stretch,\r\n      theme.drop,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n      if (restrictFocus) {\r\n        (ref || dropRef).current.focus();\r\n      }\r\n    }, [ref, restrictFocus]);\r\n\r\n    let content = (\r\n      <StyledDrop\r\n        ref={ref || dropRef}\r\n        as={Box}\r\n        plain={plain}\r\n        elevation={\r\n          !plain\r\n            ? elevation || theme.global.drop.shadowSize || 'small'\r\n            : undefined\r\n        }\r\n        tabIndex=\"-1\"\r\n        alignProp={align}\r\n        overflow={overflow}\r\n        data-g-portal-id={portalId}\r\n        {...rest}\r\n      >\r\n        {children}\r\n      </StyledDrop>\r\n    );\r\n\r\n    if (theme.global.drop.background) {\r\n      const dark = backgroundIsDark(theme.global.drop.background, theme);\r\n      if (dark !== undefined && dark !== theme.dark) {\r\n        content = (\r\n          <ThemeContext.Provider value={{ ...theme, dark }}>\r\n            {content}\r\n          </ThemeContext.Provider>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <PortalContext.Provider value={nextPortalContext}>\r\n        <FocusedContainer\r\n          onKeyDown={onEsc && preventLayerClose}\r\n          trapFocus={trapFocus}\r\n        >\r\n          <Keyboard\r\n            onEsc={\r\n              onEsc\r\n                ? event => {\r\n                    event.stopPropagation();\r\n                    onEsc(event);\r\n                  }\r\n                : undefined\r\n            }\r\n            onKeyDown={onKeyDown}\r\n            target=\"document\"\r\n          >\r\n            {content}\r\n          </Keyboard>\r\n        </FocusedContainer>\r\n      </PortalContext.Provider>\r\n    );\r\n  },\r\n);\r\n\r\nexport { DropContainer };\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nimport { baseStyle } from '../../utils';\r\nimport { backgroundStyle } from '../../utils/background';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nfunction getTransformOriginStyle(align) {\r\n  let vertical = 'top';\r\n  if (align.bottom) {\r\n    vertical = 'bottom';\r\n  }\r\n  let horizontal = 'left';\r\n  if (align.right) {\r\n    horizontal = 'right';\r\n  }\r\n  return `${vertical} ${horizontal}`;\r\n}\r\n\r\nconst dropKeyFrames = keyframes`\r\n  0% {\r\n    opacity: 0.5;\r\n    transform: scale(0.8);\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst StyledDrop = styled.div`\r\n  ${baseStyle}\r\n\r\n  border-radius: ${props => props.theme.global.drop.border.radius};\r\n  position: fixed;\r\n  z-index: ${props => props.theme.global.drop.zIndex};\r\n  outline: none;\r\n\r\n  ${props =>\r\n    !props.plain &&\r\n    backgroundStyle(props.theme.global.drop.background, props.theme)}\r\n\r\n  opacity: 0;\r\n  transform-origin: ${props => getTransformOriginStyle(props.alignProp)};\r\n  animation:  ${dropKeyFrames} 0.1s forwards;\r\n  animation-delay: 0.01s;\r\n\r\n  /* IE11 hack to get drop contents to not overflow */\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    display: flex;\r\n    align-items: stretch;\r\n  }\r\n\r\n  ${props => props.theme.global.drop && props.theme.global.drop.extend}\r\n`;\r\n\r\nStyledDrop.defaultProps = {};\r\nObject.setPrototypeOf(StyledDrop.defaultProps, defaultProps);\r\n\r\nexport { StyledDrop };\r\n","import React from 'react';\r\n\r\nexport const ContainerTargetContext = React.createContext(\r\n  typeof document === 'object' ? document.body : undefined,\r\n);\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  activeStyle,\r\n  backgroundStyle,\r\n  disabledStyle,\r\n  focusStyle,\r\n  genericStyles,\r\n  getHoverIndicatorStyle,\r\n  normalizeColor,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst radiusStyle = props => {\r\n  // border.radius shouldn't impact an only-icon rendering.\r\n  const isIconOnly = props.hasIcon && !props.hasLabel;\r\n  const size = props.sizeProp;\r\n\r\n  if (\r\n    !isIconOnly &&\r\n    size &&\r\n    props.theme.button.size &&\r\n    props.theme.button.size[size]\r\n  ) {\r\n    return props.theme.button.size[size].border.radius;\r\n  }\r\n  return props.theme.button.border.radius;\r\n};\r\n\r\nconst fontStyle = props => {\r\n  const size = props.sizeProp || 'medium';\r\n  const data = props.theme.text[size];\r\n  return css`\r\n    font-size: ${data.size};\r\n    line-height: ${data.height};\r\n  `;\r\n};\r\n\r\nconst padStyle = props => {\r\n  const size = props.sizeProp;\r\n\r\n  if (size && props.theme.button.size && props.theme.button.size[size]) {\r\n    return css`\r\n      ${props.theme.button.size[size].pad.vertical}\r\n      ${props.theme.button.size[size].pad.horizontal}\r\n    `;\r\n  }\r\n  return css`\r\n    ${props.theme.button.padding.vertical}\r\n    ${props.theme.button.padding.horizontal}\r\n  `;\r\n};\r\n\r\nconst basicStyle = props => css`\r\n  border: ${props.theme.button.border.width} solid\r\n    ${normalizeColor(\r\n      props.colorValue || props.theme.button.border.color || 'control',\r\n      props.theme,\r\n    )};\r\n  border-radius: ${radiusStyle(props)};\r\n  color: ${normalizeColor(props.theme.button.color || 'text', props.theme)};\r\n  padding: ${padStyle(props)};\r\n  ${fontStyle(props)}\r\n`;\r\n\r\nconst primaryStyle = props => css`\r\n  ${backgroundStyle(\r\n    normalizeColor(\r\n      props.colorValue ||\r\n        (props.theme.button.primary && props.theme.button.primary.color) ||\r\n        'control',\r\n      props.theme,\r\n    ),\r\n    props.theme,\r\n    props.theme.button.color,\r\n  )}\r\n  border-radius: ${radiusStyle(props)};\r\n  ${props.theme.button.primary && props.theme.button.primary.extend}\r\n`;\r\n\r\nfunction getHoverColor(props) {\r\n  if (props.colorValue) {\r\n    return normalizeColor(props.colorValue, props.theme);\r\n  }\r\n  if (\r\n    props.active &&\r\n    props.primary &&\r\n    props.theme.button.primary &&\r\n    props.theme.button.primary.active &&\r\n    props.theme.button.primary.active.border &&\r\n    props.theme.button.primary.active.border.color\r\n  ) {\r\n    return normalizeColor(\r\n      props.theme.button.primary.active.border.color,\r\n      props.theme,\r\n    );\r\n  }\r\n  return normalizeColor(\r\n    props.theme.button.border.color || 'control',\r\n    props.theme,\r\n  );\r\n}\r\n\r\nconst hoverStyle = css`\r\n  &:hover {\r\n    ${props =>\r\n      props.hoverIndicator &&\r\n      getHoverIndicatorStyle(props.hoverIndicator, props.theme)} ${props =>\r\n      !props.plain &&\r\n      css`\r\n        box-shadow: 0px 0px 0px 2px ${getHoverColor(props)};\r\n      `};\r\n  }\r\n`;\r\n\r\nconst fillStyle = fillContainer => {\r\n  if (fillContainer === 'horizontal') {\r\n    return 'width: 100%;';\r\n  }\r\n  if (fillContainer === 'vertical') {\r\n    return 'height: 100%;';\r\n  }\r\n  if (fillContainer) {\r\n    return `\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: none;\r\n      flex: 1 0 auto;\r\n    `;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst plainStyle = props => css`\r\n  color: ${normalizeColor(props.colorValue || 'inherit', props.theme)};\r\n  outline: none;\r\n  border: none;\r\n  padding: 0;\r\n  text-align: inherit;\r\n`;\r\n\r\nconst activeButtonStyle = props => css`\r\n  ${activeStyle}\r\n  ${props.primary &&\r\n    props.theme.button.primary &&\r\n    props.theme.button.primary.active &&\r\n    props.theme.button.primary.active.border &&\r\n    props.theme.button.primary.active.border.color &&\r\n    `border: ${props.theme.button.border.width} solid\r\n    ${normalizeColor(\r\n      props.theme.button.primary.active.border.color,\r\n      props.theme,\r\n    )};\r\n    `}\r\n  ${props.primary &&\r\n    props.theme.button.primary &&\r\n    props.theme.button.primary.active &&\r\n    props.theme.button.primary.active.extend}\r\n`;\r\n\r\nconst disabledButtonStyle = props => css`\r\n  ${disabledStyle(props.theme.button.disabled.opacity)}\r\n  ${!props.plain &&\r\n    props.theme.button.disabled.border &&\r\n    props.theme.button.disabled.border.color &&\r\n    `border: ${props.theme.button.border.width} solid\r\n    ${normalizeColor(props.theme.button.disabled.border.color, props.theme)};`}\r\n  ${props.theme.button.disabled.color &&\r\n    // if primary button, apply disabled color to background. otherwise,\r\n    // apply disabled color to the label\r\n    (props.primary\r\n      ? backgroundStyle(\r\n          normalizeColor(props.theme.button.disabled.color, props.theme),\r\n          props.theme,\r\n          props.theme.button.color,\r\n        )\r\n      : `color: ${normalizeColor(\r\n          props.theme.button.disabled.color,\r\n          props.theme,\r\n        )};`)}\r\n  ${props.theme.button.disabled && props.theme.button.disabled.extend}\r\n`;\r\n\r\n// Deprecate props.theme.button.disabled.opacity in V3\r\nconst StyledButton = styled.button`\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  font: inherit;\r\n  text-decoration: none;\r\n  margin: 0;\r\n  background: transparent;\r\n  overflow: visible;\r\n  text-transform: none;\r\n\r\n  ${genericStyles}\r\n  ${props => props.plain && plainStyle(props)}\r\n  ${props => !props.plain && basicStyle(props)}\r\n  ${props => props.primary && primaryStyle(props)}\r\n\r\n  ${props => !props.disabled && !props.focus && hoverStyle}\r\n\r\n  ${props => !props.disabled && props.active && activeButtonStyle(props)}\r\n  ${props =>\r\n    props.disabled &&\r\n    props.theme.button &&\r\n    props.theme.button.disabled &&\r\n    disabledButtonStyle(props)}\r\n  \r\n  &:focus {\r\n    ${props => (!props.plain || props.focusIndicator) && focusStyle()}\r\n  }\r\n\r\n  ${props =>\r\n    !props.plain &&\r\n    props.theme.button.transition &&\r\n    `\r\n    transition-property: ${props.theme.button.transition.properties.join(',')};\r\n    transition-duration: ${props.theme.button.transition.duration}s;\r\n    transition-timing-function: ${props.theme.button.transition.timing};\r\n  `}\r\n  ${props => props.fillContainer && fillStyle(props.fillContainer)}\r\n  ${props =>\r\n    props.hasIcon &&\r\n    !props.hasLabel &&\r\n    `\r\n    line-height: 0;\r\n  `}\r\n  ${props =>\r\n    props.pad &&\r\n    props.hasIcon &&\r\n    !props.hasLabel &&\r\n    `\r\n    padding: ${props.theme.global.edgeSize.small};\r\n  `}\r\n  ${props => props.theme.button && props.theme.button.extend}\r\n`;\r\n\r\nStyledButton.defaultProps = {};\r\nObject.setPrototypeOf(StyledButton.defaultProps, defaultProps);\r\n\r\nexport { StyledButton };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  activeStyle,\r\n  disabledStyle,\r\n  focusStyle,\r\n  genericStyles,\r\n  kindPartStyles,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst radiusStyle = props => {\r\n  const size = props.sizeProp;\r\n  if (size && props.theme.button.size && props.theme.button.size[size])\r\n    return css`\r\n      border-radius: ${props.theme.button.size[size].border.radius};\r\n    `;\r\n  if (props.theme.button.border && props.theme.button.border.radius)\r\n    return css`\r\n      border-radius: ${props.theme.button.border.radius};\r\n    `;\r\n  return '';\r\n};\r\n\r\nconst fontStyle = props => {\r\n  const size = props.sizeProp || 'medium';\r\n  const data = props.theme.text[size];\r\n  return css`\r\n    font-size: ${data.size};\r\n    line-height: ${data.height};\r\n  `;\r\n};\r\n\r\nconst padStyle = ({ sizeProp: size, theme }) => {\r\n  if (\r\n    size &&\r\n    theme.button.size &&\r\n    theme.button.size[size] &&\r\n    theme.button.size[size].pad\r\n  ) {\r\n    return css`\r\n      padding: ${theme.button.size[size].pad.vertical}\r\n        ${theme.button.size[size].pad.horizontal};\r\n    `;\r\n  }\r\n\r\n  if (theme.button.padding) {\r\n    return css`\r\n      padding: ${theme.global.edgeSize[theme.button.padding.vertical] ||\r\n          theme.button.padding.vertical}\r\n        ${theme.global.edgeSize[theme.button.padding.horizontal] ||\r\n          theme.button.padding.horizontal};\r\n    `;\r\n  }\r\n  return '';\r\n};\r\n\r\n// The > svg rule is to ensure Buttons with just an icon don't add additional\r\n// vertical height internally.\r\nconst basicStyle = props => css`\r\n  border: none;\r\n  ${radiusStyle(props)};\r\n  ${padStyle(props)}\r\n  ${fontStyle(props)}\r\n\r\n  > svg {\r\n    vertical-align: bottom;\r\n  }\r\n`;\r\n\r\n// build up CSS from basic to specific based on the supplied sub-object paths\r\nconst kindStyle = ({ colorValue, themePaths, theme }) => {\r\n  const styles = [];\r\n\r\n  themePaths.base.forEach(themePath => {\r\n    let obj = theme.button;\r\n    if (themePath) {\r\n      const parts = themePath.split('.');\r\n      while (obj && parts.length) obj = obj[parts.shift()];\r\n    }\r\n    if (obj) {\r\n      styles.push(kindPartStyles(obj, theme, colorValue));\r\n    }\r\n  });\r\n\r\n  themePaths.hover.forEach(themePath => {\r\n    let obj = theme.button;\r\n    if (themePath) {\r\n      const parts = themePath.split('.');\r\n      while (obj && parts.length) obj = obj[parts.shift()];\r\n      if (obj) {\r\n        const partStyles = kindPartStyles(obj, theme);\r\n        if (partStyles.length > 0)\r\n          styles.push(\r\n            css`\r\n              &:hover {\r\n                ${partStyles}\r\n              }\r\n            `,\r\n          );\r\n      }\r\n    }\r\n  });\r\n\r\n  return styles;\r\n};\r\n\r\nconst hoverIndicatorStyle = ({ hoverIndicator, theme }) => {\r\n  const themishObj = {};\r\n  if (hoverIndicator === true || hoverIndicator === 'background')\r\n    themishObj.background = theme.global.hover.background;\r\n  else themishObj.background = hoverIndicator;\r\n  const styles = kindPartStyles(themishObj, theme);\r\n  if (styles.length > 0)\r\n    return css`\r\n      &:hover {\r\n        ${styles}\r\n      }\r\n    `;\r\n  return '';\r\n};\r\n\r\nconst fillStyle = fillContainer => {\r\n  if (fillContainer === 'horizontal') {\r\n    return 'width: 100%;';\r\n  }\r\n  if (fillContainer === 'vertical') {\r\n    return 'height: 100%;';\r\n  }\r\n  if (fillContainer) {\r\n    return `\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: none;\r\n      flex: 1 0 auto;\r\n    `;\r\n  }\r\n  return undefined;\r\n};\r\n\r\n// The > svg rule is to ensure Buttons with just an icon don't add additional\r\n// vertical height internally.\r\nconst plainStyle = () => css`\r\n  outline: none;\r\n  border: none;\r\n  padding: 0;\r\n  text-align: inherit;\r\n  color: inherit;\r\n\r\n  > svg {\r\n    vertical-align: bottom;\r\n  }\r\n`;\r\n\r\nconst StyledButtonKind = styled.button`\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n  cursor: pointer;\r\n  font: inherit;\r\n  text-decoration: none;\r\n  margin: 0;\r\n  background: transparent;\r\n  overflow: visible;\r\n  text-transform: none;\r\n\r\n  ${genericStyles}\r\n  ${props => props.plain && plainStyle(props)}\r\n  // set baseline activeStyle for all buttons including plain buttons\r\n  // buttons with kind will have active styling overridden by kindStyle\r\n  // if they have specific state styles\r\n  ${props => !props.disabled && props.active && activeStyle}\r\n  ${props => !props.plain && basicStyle(props)}\r\n  ${props => !props.plain && kindStyle(props)}\r\n  ${props =>\r\n    !props.plain &&\r\n    props.align &&\r\n    `\r\n    text-align: ${props.align};\r\n    `}\r\n  ${props =>\r\n    !props.disabled && props.hoverIndicator && hoverIndicatorStyle(props)}\r\n  ${props =>\r\n    props.disabled && disabledStyle(props.theme.button.disabled.opacity)}\r\n\r\n  &:focus {\r\n    ${props => (!props.plain || props.focusIndicator) && focusStyle()}\r\n  }\r\n  \r\n  ${props =>\r\n    !props.plain &&\r\n    props.theme.button.transition &&\r\n    `\r\n    transition-property: ${props.theme.button.transition.properties.join(',')};\r\n    transition-duration: ${props.theme.button.transition.duration}s;\r\n    transition-timing-function: ${props.theme.button.transition.timing};\r\n  `}\r\n  ${props => props.fillContainer && fillStyle(props.fillContainer)}\r\n  ${props => props.theme.button && props.theme.button.extend}\r\n`;\r\n\r\nStyledButtonKind.defaultProps = {};\r\nObject.setPrototypeOf(StyledButtonKind.defaultProps, defaultProps);\r\n\r\nexport { StyledButtonKind };\r\n","import React, {\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { useForwardedRef } from '../../utils';\r\nimport { Box } from '../Box';\r\n\r\nconst AnimatedBox = styled(Box)`\r\n  ${props =>\r\n    // eslint-disable-next-line max-len\r\n    `transition: ${`max-${props.dimension} ${props.speedProp}ms, opacity ${props.speedProp}ms`};\r\n      opacity: ${props.open ? 1 : 0};\r\n      overflow: ${props.animate || !props.open ? 'hidden' : 'visible'};\r\n      max-${props.dimension}: ${props.open ? 'unset' : 0};\r\n    `}\r\n`;\r\n\r\nconst Collapsible = forwardRef(\r\n  ({ children, direction, open: openArg }, ref) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [open, setOpen] = useState(openArg);\r\n    const [animate, setAnimate] = useState(false);\r\n    const [size, setSize] = useState();\r\n    const [speed, setSpeed] = useState(theme.collapsible.minSpeed);\r\n    const dimension = useMemo(\r\n      () => (direction === 'horizontal' ? 'width' : 'height'),\r\n      [direction],\r\n    );\r\n    const containerRef = useForwardedRef(ref);\r\n\r\n    // when the caller changes openArg, trigger animation\r\n    useEffect(() => {\r\n      if (openArg !== open) {\r\n        setAnimate(true);\r\n        setOpen(openArg);\r\n      }\r\n    }, [open, openArg]);\r\n\r\n    // When we animate, start a timer to clear out the animation when it\r\n    // has finished.\r\n    useEffect(() => {\r\n      if (animate) {\r\n        const timer = setTimeout(() => {\r\n          setAnimate(false);\r\n          setSize(undefined);\r\n          const container = containerRef.current;\r\n          container.removeAttribute('style');\r\n        }, speed);\r\n        return () => clearTimeout(timer);\r\n      }\r\n      return undefined;\r\n    }, [animate, containerRef, speed]);\r\n\r\n    useEffect(() => {\r\n      if (animate) {\r\n        const {\r\n          collapsible: { minSpeed, baseline },\r\n        } = theme;\r\n        const container = containerRef.current;\r\n        // get the desired size by unsetting the max temporarily\r\n        container.style[`max-${dimension}`] = 'unset';\r\n        const rect = container.getBoundingClientRect();\r\n        container.removeAttribute('style');\r\n        const nextSize = rect[dimension];\r\n        // start with the max set to the size we are starting from\r\n        container.style[`max-${dimension}`] = open ? 0 : `${nextSize}px`;\r\n        setSize(nextSize);\r\n        const nextSpeed = Math.max((nextSize / baseline) * minSpeed, minSpeed);\r\n        setSpeed(nextSpeed);\r\n      }\r\n    }, [animate, containerRef, dimension, open, theme]);\r\n\r\n    useLayoutEffect(() => {\r\n      if (animate && size) {\r\n        const container = containerRef.current;\r\n        requestAnimationFrame(() => {\r\n          requestAnimationFrame(() => {\r\n            // Change the max to where we want to end up, the transition will\r\n            // animate to get there. We do this in an animation frame to\r\n            // give our starter setting a chance to fully render.\r\n            container.style[`max-${dimension}`] = open ? `${size}px` : 0;\r\n          });\r\n        });\r\n      }\r\n    }, [animate, containerRef, dimension, open, size]);\r\n\r\n    return (\r\n      <AnimatedBox\r\n        aria-hidden={!open}\r\n        ref={containerRef}\r\n        open={open}\r\n        animate={animate}\r\n        dimension={dimension}\r\n        speedProp={speed}\r\n      >\r\n        {open || animate ? children : null}\r\n      </AnimatedBox>\r\n    );\r\n  },\r\n);\r\n\r\nCollapsible.displayName = 'Collapsible';\r\n\r\nlet CollapsibleDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CollapsibleDoc = require('./doc').doc(Collapsible);\r\n}\r\nconst CollapsibleWrapper = CollapsibleDoc || Collapsible;\r\n\r\nexport { CollapsibleWrapper as Collapsible };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { StyledHeading } from './StyledHeading';\r\n\r\nconst Heading = forwardRef(\r\n  (\r\n    {\r\n      color, // munged to avoid styled-components putting it in the DOM\r\n      fill,\r\n      level,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    // enforce level to be a number\r\n    return (\r\n      <StyledHeading\r\n        as={`h${level}`}\r\n        colorProp={color}\r\n        fillProp={fill}\r\n        level={+level}\r\n        {...rest}\r\n        ref={ref}\r\n      />\r\n    );\r\n  },\r\n);\r\n\r\nHeading.displayName = 'Heading';\r\nHeading.defaultProps = {\r\n  level: 1,\r\n  responsive: true,\r\n};\r\n\r\nlet HeadingDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  HeadingDoc = require('./doc').doc(Heading);\r\n}\r\nconst HeadingWrapper = HeadingDoc || Heading;\r\n\r\nexport { HeadingWrapper as Heading };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  breakpointStyle,\r\n  genericStyles,\r\n  normalizeColor,\r\n  textAlignStyle,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst sizeStyle = props => {\r\n  // size is a combination of the level and size properties\r\n  const size = props.size || 'medium';\r\n  const headingTheme = props.theme.heading;\r\n  const levelStyle = headingTheme.level[props.level];\r\n  if (levelStyle) {\r\n    const data = levelStyle[size];\r\n    const styles = [\r\n      css`\r\n        font-size: ${data ? data.size : size};\r\n        line-height: ${data ? data.height : 'normal'};\r\n        max-width: ${(props.fillProp && 'none') ||\r\n          (data && data.maxWidth) ||\r\n          levelStyle.medium.maxWidth};\r\n        font-weight: ${levelStyle.font.weight || headingTheme.weight};\r\n      `,\r\n    ];\r\n    if (props.responsive && headingTheme.responsiveBreakpoint) {\r\n      const breakpoint =\r\n        props.theme.global.breakpoints[headingTheme.responsiveBreakpoint];\r\n      if (breakpoint) {\r\n        const responsiveData = headingTheme.level[props.level + 1]\r\n          ? headingTheme.level[props.level + 1][size]\r\n          : headingTheme.level[props.level][size];\r\n        if (responsiveData) {\r\n          styles.push(\r\n            breakpointStyle(\r\n              breakpoint,\r\n              `\r\n            font-size: ${responsiveData.size};\r\n            line-height: ${responsiveData.height};\r\n            max-width: ${(props.fillProp && 'none') || responsiveData.maxWidth};\r\n          `,\r\n            ),\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return styles;\r\n  }\r\n  console.warn(`Heading level ${props.level} is not defined in your theme.`);\r\n\r\n  return '';\r\n};\r\n\r\nconst fontFamily = props => {\r\n  const { font } = props.theme.heading.level[props.level] || {};\r\n  if (font && font.family) {\r\n    return css`\r\n      font-family: ${font.family};\r\n    `;\r\n  }\r\n  return props.theme.heading.font\r\n    ? css`\r\n        font-family: ${props.theme.heading.font.family};\r\n      `\r\n    : '';\r\n};\r\n\r\nconst truncateStyle = `\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst colorStyle = css`\r\n  color: ${props => normalizeColor(props.colorProp, props.theme)};\r\n`;\r\n\r\nconst StyledHeading = styled.h1`\r\n  ${genericStyles}\r\n  ${props => fontFamily(props)}\r\n  ${props => sizeStyle(props)}\r\n  ${props => props.textAlign && textAlignStyle}\r\n  ${props => props.truncate && truncateStyle}\r\n  ${props => props.colorProp && colorStyle}\r\n  ${props => props.theme.heading && props.theme.heading.extend}\r\n`;\r\n\r\nStyledHeading.defaultProps = {};\r\nObject.setPrototypeOf(StyledHeading.defaultProps, defaultProps);\r\n\r\nexport { StyledHeading };\r\n","import React, {\r\n  cloneElement,\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { normalizeColor } from '../../utils';\r\n\r\nimport { Box } from '../Box';\r\n\r\nimport { StyledAnchor } from './StyledAnchor';\r\n\r\nconst Anchor = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      children,\r\n      color,\r\n      disabled,\r\n      href,\r\n      icon,\r\n      label,\r\n      onBlur,\r\n      onClick,\r\n      onFocus,\r\n      reverse,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [focus, setFocus] = useState();\r\n\r\n    useEffect(() => {\r\n      if ((icon || label) && children) {\r\n        console.warn(\r\n          'Anchor should not have children if icon or label is provided',\r\n        );\r\n      }\r\n    }, [children, icon, label]);\r\n\r\n    let coloredIcon = icon;\r\n    if (icon && !icon.props.color) {\r\n      coloredIcon = cloneElement(icon, {\r\n        color: normalizeColor(color || theme.anchor.color, theme),\r\n      });\r\n    }\r\n\r\n    const first = reverse ? label : coloredIcon;\r\n    const second = reverse ? coloredIcon : label;\r\n\r\n    return (\r\n      <StyledAnchor\r\n        {...rest}\r\n        ref={ref}\r\n        aria-label={a11yTitle}\r\n        colorProp={color}\r\n        disabled={disabled}\r\n        hasIcon={!!icon}\r\n        focus={focus}\r\n        hasLabel={label}\r\n        reverse={reverse}\r\n        href={!disabled ? href : undefined}\r\n        onClick={!disabled ? onClick : undefined}\r\n        onFocus={event => {\r\n          setFocus(true);\r\n          if (onFocus) onFocus(event);\r\n        }}\r\n        onBlur={event => {\r\n          setFocus(false);\r\n          if (onBlur) onBlur(event);\r\n        }}\r\n      >\r\n        {first && second ? (\r\n          <Box\r\n            as=\"span\"\r\n            direction=\"row\"\r\n            align=\"center\"\r\n            gap=\"small\"\r\n            responsive={false}\r\n            style={{ display: 'inline-flex' }}\r\n          >\r\n            {first}\r\n            {second}\r\n          </Box>\r\n        ) : (\r\n          first || second || children\r\n        )}\r\n      </StyledAnchor>\r\n    );\r\n  },\r\n);\r\n\r\nAnchor.displayName = 'Anchor';\r\n\r\nlet AnchorDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  AnchorDoc = require('./doc').doc(Anchor);\r\n}\r\nconst AnchorWrapper = AnchorDoc || Anchor;\r\n\r\nexport { AnchorWrapper as Anchor };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { focusStyle, genericStyles, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst disabledStyle = `\r\n  opacity: 0.3;\r\n  cursor: default;\r\n  text-decoration: none;\r\n`;\r\n\r\nconst sizeStyle = props => {\r\n  if (props.size) {\r\n    const size = props.size || 'medium';\r\n    const data = props.theme.text[size];\r\n    return css`\r\n      font-size: ${data.size};\r\n      line-height: ${data.height};\r\n    `;\r\n  }\r\n  return css`\r\n    font-size: inherit;\r\n    line-height: inherit;\r\n  `;\r\n};\r\n\r\nconst StyledAnchor = styled.a`\r\n  box-sizing: border-box;\r\n  ${props => sizeStyle(props)}\r\n  color: ${props =>\r\n    normalizeColor(props.colorProp || props.theme.anchor.color, props.theme)};\r\n  ${props =>\r\n    props.weight\r\n      ? `font-weight: ${props.weight};`\r\n      : props.theme.anchor.fontWeight &&\r\n        `font-weight: ${props.theme.anchor.fontWeight};`}\r\n  text-decoration: ${props =>\r\n    props.hasIcon ? 'none' : props.theme.anchor.textDecoration};\r\n  cursor: pointer;\r\n  ${genericStyles}\r\n\r\n  ${props =>\r\n    !props.disabled &&\r\n    props.theme.anchor.hover &&\r\n    css`\r\n    &:hover {\r\n      ${props.theme.anchor.hover.textDecoration &&\r\n        `text-decoration: ${props.theme.anchor.hover.textDecoration};`}\r\n      ${props.theme.anchor.hover.fontWeight &&\r\n        `font-weight: ${props.theme.anchor.hover.fontWeight};`}\r\n      ${props.theme.anchor.hover.extend}\r\n    }\r\n  `}\r\n  ${props =>\r\n    props.hasIcon &&\r\n    !props.hasLabel &&\r\n    `\r\n    padding: ${props.theme.global.edgeSize.small};\r\n  `}\r\n  ${props => props.disabled && disabledStyle}\r\n  ${props => props.focus && focusStyle()}\r\n  ${props => props.theme.anchor.extend}\r\n`;\r\n\r\nStyledAnchor.defaultProps = {};\r\nObject.setPrototypeOf(StyledAnchor.defaultProps, defaultProps);\r\n\r\nexport { StyledAnchor };\r\n","export { Avatar } from './Avatar';\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { StyledAvatar, StyledAvatarText } from './StyledAvatar';\r\n\r\nconst Avatar = ({\r\n  align = 'center',\r\n  children,\r\n  height, // for warning check and discarding the value\r\n  justify = 'center',\r\n  round = 'full',\r\n  size = 'medium',\r\n  src,\r\n  width, // for warning check and discarding the value\r\n  ...rest\r\n}) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const avatarSize = theme.avatar.size[size] || size;\r\n  const avatarTextSize = theme.avatar.text.size[size] || 'large';\r\n\r\n  const avatarProps = {\r\n    align,\r\n    height: avatarSize,\r\n    justify,\r\n    overflow: 'hidden',\r\n    round,\r\n    width: avatarSize,\r\n  };\r\n\r\n  const AvatarChildren = () => (\r\n    <StyledAvatar {...avatarProps} {...rest}>\r\n      {children}\r\n    </StyledAvatar>\r\n  );\r\n\r\n  if (height || width) {\r\n    console.warn(\r\n      'Avatar should use `size` instead of `height` or `width` props',\r\n    );\r\n  }\r\n\r\n  if (typeof src === 'string') {\r\n    return (\r\n      <StyledAvatar {...avatarProps} {...rest} background={`url(${src})`} />\r\n    );\r\n  }\r\n  if (typeof children === 'string') {\r\n    return (\r\n      <StyledAvatar {...avatarProps} {...rest}>\r\n        <StyledAvatarText alignSelf=\"center\" size={avatarTextSize}>\r\n          {children}\r\n        </StyledAvatarText>\r\n      </StyledAvatar>\r\n    );\r\n  }\r\n  return <AvatarChildren />;\r\n};\r\n\r\nexport { Avatar };\r\n","import styled from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Text } from '../Text';\r\n\r\nconst StyledAvatarText = styled(Text)`\r\n  ${props =>\r\n    props.theme.avatar &&\r\n    props.theme.avatar.text &&\r\n    props.theme.avatar.text.fontWeight &&\r\n    `font-weight: ${props.theme.avatar.text.fontWeight};`}\r\n  ${props => props.theme.avatar.text && props.theme.avatar.text.extend}\r\n`;\r\n\r\nStyledAvatarText.defaultProps = {};\r\nObject.setPrototypeOf(StyledAvatarText.defaultProps, defaultProps);\r\n\r\nconst StyledAvatar = styled(Box)`\r\n  ${props => props.theme.avatar && props.theme.avatar.extend}\r\n`;\r\n\r\nStyledAvatar.defaultProps = {};\r\nObject.setPrototypeOf(StyledAvatar.defaultProps, defaultProps);\r\n\r\nexport { StyledAvatar, StyledAvatarText };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { StyledText } from './StyledText';\r\n\r\nconst Text = forwardRef(({ color, tag, as, a11yTitle, ...rest }, ref) => (\r\n  <StyledText\r\n    as={!as && tag ? tag : as}\r\n    colorProp={color}\r\n    aria-label={a11yTitle}\r\n    {...rest}\r\n    ref={ref}\r\n  />\r\n));\r\n\r\nText.displayName = 'Text';\r\nText.defaultProps = {\r\n  level: 1,\r\n};\r\n\r\nlet TextDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TextDoc = require('./doc').doc(Text); // eslint-disable-line global-require\r\n}\r\nconst TextWrapper = TextDoc || Text;\r\n\r\nexport { TextWrapper as Text };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles, normalizeColor, textAlignStyle } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst sizeStyle = props => {\r\n  const size = props.size || 'medium';\r\n  const data = props.theme.text[size];\r\n  if (data) {\r\n    return css`\r\n      font-size: ${data.size};\r\n      line-height: ${data.height};\r\n    `;\r\n  }\r\n  return css`\r\n    font-size: ${size};\r\n    line-height: normal;\r\n  `;\r\n};\r\n\r\nconst truncateStyle = `\r\n  white-space: nowrap;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst colorStyle = css`\r\n  color: ${props => normalizeColor(props.colorProp, props.theme)};\r\n`;\r\n\r\nconst weightStyle = css`\r\n  font-weight: ${props => props.weight};\r\n`;\r\n\r\nconst wordBreakStyle = css`\r\n  word-break: ${props => props.wordBreak};\r\n`;\r\n\r\nconst fontFamily = css`\r\n  font-family: ${props => props.theme.text.font.family};\r\n`;\r\n\r\nconst StyledText = styled('span').withConfig({\r\n  shouldForwardProp: (prop, defaultValidatorFn) =>\r\n    defaultValidatorFn(prop) && prop !== 'size',\r\n})`\r\n  ${genericStyles}\r\n  ${props => sizeStyle(props)}\r\n  ${props => props.textAlign && textAlignStyle}\r\n  ${props => props.truncate && truncateStyle}\r\n  ${props => props.colorProp && colorStyle}\r\n  ${props => props.weight && weightStyle}\r\n  ${props => props.wordBreak && wordBreakStyle}\r\n  ${props =>\r\n    props.theme.text.font && props.theme.text.font.family && fontFamily}\r\n\r\n  ${props => props.theme.text && props.theme.text.extend}\r\n`;\r\n\r\nStyledText.defaultProps = {};\r\nObject.setPrototypeOf(StyledText.defaultProps, defaultProps);\r\n\r\nexport { StyledText };\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Heading } from '../Heading';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nimport {\r\n  StyledCalendar,\r\n  StyledDay,\r\n  StyledDayContainer,\r\n  StyledWeek,\r\n  StyledWeeks,\r\n  StyledWeeksContainer,\r\n} from './StyledCalendar';\r\nimport {\r\n  addDays,\r\n  addMonths,\r\n  betweenDates,\r\n  daysApart,\r\n  endOfMonth,\r\n  formatToLocalYYYYMMDD,\r\n  localTimezoneToUTC,\r\n  startOfMonth,\r\n  subtractDays,\r\n  subtractMonths,\r\n  withinDates,\r\n} from './utils';\r\n\r\nconst headingPadMap = {\r\n  small: 'xsmall',\r\n  medium: 'small',\r\n  large: 'medium',\r\n};\r\n\r\nconst activeDates = {\r\n  start: 'start',\r\n  end: 'end',\r\n};\r\n\r\nconst timeStamp = new RegExp(/T.*/);\r\n\r\nconst normalizeForTimezone = (date, refDate) => {\r\n  if (!date) return undefined;\r\n  return (!timeStamp.test(refDate || date)\r\n    ? localTimezoneToUTC(new Date(date))\r\n    : new Date(date)\r\n  ).toISOString();\r\n};\r\n\r\nconst normalizeReference = (reference, date, dates) => {\r\n  let normalizedReference;\r\n  if (reference) {\r\n    normalizedReference = new Date(reference);\r\n  } else if (date) {\r\n    normalizedReference = new Date(date);\r\n  } else if (dates && dates.length > 0) {\r\n    if (typeof dates[0] === 'string') {\r\n      normalizedReference = new Date(dates[0]);\r\n    } else if (Array.isArray(dates[0])) {\r\n      normalizedReference = new Date(dates[0][0] ? dates[0][0] : dates[0][1]);\r\n    } else {\r\n      normalizedReference = new Date();\r\n      normalizedReference.setHours(0, 0, 0, 0);\r\n    }\r\n  } else {\r\n    normalizedReference = new Date();\r\n    normalizedReference.setHours(0, 0, 0, 0);\r\n  }\r\n  return normalizedReference;\r\n};\r\n\r\nconst buildDisplayBounds = (reference, firstDayOfWeek) => {\r\n  let start = new Date(reference);\r\n  start.setDate(1); // first of month\r\n\r\n  // In case Sunday is the first day of the month, and the user asked for Monday\r\n  // to be the first day of the week, then we need to include Sunday and six\r\n  // days prior.\r\n  start =\r\n    start.getDay() === 0 && firstDayOfWeek === 1\r\n      ? (start = subtractDays(start, 6))\r\n      : // beginning of week\r\n        (start = subtractDays(start, start.getDay() - firstDayOfWeek));\r\n\r\n  const end = addDays(start, 7 * 5 + 7); // 5 weeks to end of week\r\n  return [start, end];\r\n};\r\n\r\nconst millisecondsPerYear = 31557600000;\r\n\r\nconst CalendarDayButton = props => <Button tabIndex={-1} plain {...props} />;\r\n\r\nconst CalendarDay = ({\r\n  children,\r\n  fill,\r\n  size,\r\n  isInRange,\r\n  isSelected,\r\n  otherMonth,\r\n  buttonProps = {},\r\n}) => {\r\n  return (\r\n    <StyledDayContainer sizeProp={size} fillContainer={fill}>\r\n      <CalendarDayButton fill={fill} {...buttonProps}>\r\n        <StyledDay\r\n          disabledProp={buttonProps.disabled}\r\n          inRange={isInRange}\r\n          otherMonth={otherMonth}\r\n          isSelected={isSelected}\r\n          sizeProp={size}\r\n          fillContainer={fill}\r\n        >\r\n          {children}\r\n        </StyledDay>\r\n      </CalendarDayButton>\r\n    </StyledDayContainer>\r\n  );\r\n};\r\n\r\nconst CalendarCustomDay = ({ children, fill, size, buttonProps }) => {\r\n  if (!buttonProps) {\r\n    return (\r\n      <StyledDayContainer sizeProp={size} fillContainer={fill}>\r\n        {children}\r\n      </StyledDayContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <StyledDayContainer sizeProp={size} fillContainer={fill}>\r\n      <CalendarDayButton fill={fill} {...buttonProps}>\r\n        {children}\r\n      </CalendarDayButton>\r\n    </StyledDayContainer>\r\n  );\r\n};\r\n\r\nconst Calendar = forwardRef(\r\n  (\r\n    {\r\n      activeDate: activeDateProp,\r\n      animate = true,\r\n      bounds: boundsProp,\r\n      children,\r\n      date: dateProp,\r\n      dates: datesProp,\r\n      daysOfWeek,\r\n      disabled,\r\n      fill,\r\n      firstDayOfWeek = 0,\r\n      header,\r\n      locale = 'en-US',\r\n      onReference,\r\n      onSelect,\r\n      range,\r\n      reference: referenceProp,\r\n      showAdjacentDays = true,\r\n      size = 'medium',\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n    // set activeDate when caller changes it, allows us to change\r\n    // it internally too\r\n    const [activeDate, setActiveDate] = useState(\r\n      dateProp && range ? activeDates.end : activeDates.start,\r\n    );\r\n    useEffect(() => {\r\n      if (activeDateProp) setActiveDate(activeDateProp);\r\n    }, [activeDateProp]);\r\n\r\n    // set date when caller changes it, allows us to change it internally too\r\n    const [date, setDate] = useState(dateProp);\r\n    useEffect(() => setDate(normalizeForTimezone(dateProp)), [dateProp]);\r\n\r\n    // set dates when caller changes it, allows us to change it internally too\r\n    const [dates, setDates] = useState(datesProp);\r\n    useEffect(() => {\r\n      // convert all values to UTC\r\n      if (Array.isArray(datesProp)) {\r\n        if (Array.isArray(datesProp[0])) {\r\n          let from;\r\n          let to;\r\n          [from, to] = datesProp[0].map(day =>\r\n            day ? new Date(day) : undefined,\r\n          );\r\n          if (from) from = normalizeForTimezone(from, datesProp[0][0]);\r\n          if (to) to = normalizeForTimezone(to, datesProp[0][0]);\r\n\r\n          setDates([[from, to]]);\r\n        } else {\r\n          const datesArray = [];\r\n          datesProp.forEach(d => {\r\n            if (Array.isArray(d)) {\r\n              let from;\r\n              let to;\r\n              [from, to] = d.map(day => new Date(day));\r\n              from = normalizeForTimezone(from, d[0]);\r\n              to = normalizeForTimezone(to, d[0]);\r\n              datesArray.push([from, to]);\r\n            } else {\r\n              datesArray.push(normalizeForTimezone(d));\r\n            }\r\n          });\r\n          setDates(datesArray);\r\n        }\r\n      } else setDates(undefined);\r\n    }, [datesProp]);\r\n\r\n    // set reference based on what the caller passed or date/dates.\r\n    const [reference, setReference] = useState(\r\n      normalizeReference(referenceProp, date, dates),\r\n    );\r\n    useEffect(\r\n      () =>\r\n        setReference(normalizeReference(referenceProp, dateProp, datesProp)),\r\n      [dateProp, datesProp, referenceProp],\r\n    );\r\n\r\n    // normalize bounds\r\n    const [bounds, setBounds] = useState(\r\n      boundsProp ? boundsProp.map(b => normalizeForTimezone(b)) : undefined,\r\n    );\r\n    useEffect(() => {\r\n      if (boundsProp) setBounds(boundsProp.map(b => normalizeForTimezone(b)));\r\n      else setBounds(undefined);\r\n    }, [boundsProp]);\r\n\r\n    // calculate the bounds we display based on the reference\r\n    const [displayBounds, setDisplayBounds] = useState(\r\n      buildDisplayBounds(reference, firstDayOfWeek),\r\n    );\r\n    const [targetDisplayBounds, setTargetDisplayBounds] = useState();\r\n    const [slide, setSlide] = useState();\r\n    const [animating, setAnimating] = useState();\r\n\r\n    // When the reference changes, we need to update the displayBounds.\r\n    // This is easy when we aren't animating. If we are animating,\r\n    // we temporarily increase the displayBounds to be the union of the old\r\n    // and new ones and set slide to drive the animation. We keep track\r\n    // of where we are heading via targetDisplayBounds. When the animation\r\n    // finishes, we prune displayBounds down to where we are headed and\r\n    // clear the slide and targetDisplayBounds.\r\n    useEffect(() => {\r\n      const nextDisplayBounds = buildDisplayBounds(reference, firstDayOfWeek);\r\n\r\n      // Checks if the difference between the current and next DisplayBounds is\r\n      // greater than a year. If that's the case, calendar should update without\r\n      // animation.\r\n      if (\r\n        nextDisplayBounds[0].getTime() !== displayBounds[0].getTime() &&\r\n        nextDisplayBounds[1].getTime() !== displayBounds[1].getTime()\r\n      ) {\r\n        let diffBoundsAboveYear = false;\r\n        if (nextDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\r\n          if (\r\n            displayBounds[0].getTime() - nextDisplayBounds[0].getTime() >\r\n            millisecondsPerYear\r\n          ) {\r\n            diffBoundsAboveYear = true;\r\n          }\r\n        } else if (\r\n          nextDisplayBounds[1].getTime() > displayBounds[1].getTime()\r\n        ) {\r\n          if (\r\n            nextDisplayBounds[1].getTime() - displayBounds[1].getTime() >\r\n            millisecondsPerYear\r\n          ) {\r\n            diffBoundsAboveYear = true;\r\n          }\r\n        }\r\n        if (!animate || diffBoundsAboveYear) {\r\n          setDisplayBounds(nextDisplayBounds);\r\n        } else {\r\n          setTargetDisplayBounds(nextDisplayBounds);\r\n        }\r\n      }\r\n    }, [animate, firstDayOfWeek, reference, displayBounds]);\r\n\r\n    useEffect(() => {\r\n      if (targetDisplayBounds) {\r\n        if (targetDisplayBounds[0].getTime() < displayBounds[0].getTime()) {\r\n          // only animate if the duration is within a year\r\n          if (\r\n            displayBounds[0].getTime() - targetDisplayBounds[0].getTime() <\r\n            millisecondsPerYear\r\n          ) {\r\n            setDisplayBounds([targetDisplayBounds[0], displayBounds[1]]);\r\n            setSlide({\r\n              direction: 'down',\r\n              weeks: daysApart(displayBounds[0], targetDisplayBounds[0]) / 7,\r\n            });\r\n            setAnimating(true);\r\n          }\r\n        } else if (\r\n          targetDisplayBounds[1].getTime() > displayBounds[1].getTime()\r\n        ) {\r\n          if (\r\n            targetDisplayBounds[1].getTime() - displayBounds[1].getTime() <\r\n            millisecondsPerYear\r\n          ) {\r\n            setDisplayBounds([displayBounds[0], targetDisplayBounds[1]]);\r\n            setSlide({\r\n              direction: 'up',\r\n              weeks: daysApart(targetDisplayBounds[1], displayBounds[1]) / 7,\r\n            });\r\n            setAnimating(true);\r\n          }\r\n        }\r\n        return undefined;\r\n      }\r\n\r\n      setSlide(undefined);\r\n      return undefined;\r\n    }, [animating, displayBounds, targetDisplayBounds]);\r\n\r\n    // Last step in updating the displayBounds. Allows for pruning\r\n    // displayBounds and cleaning up states to occur after animation.\r\n    useEffect(() => {\r\n      if (animating && targetDisplayBounds) {\r\n        // Wait for animation to finish before cleaning up.\r\n        const timer = setTimeout(\r\n          () => {\r\n            setDisplayBounds(targetDisplayBounds);\r\n            setTargetDisplayBounds(undefined);\r\n            setSlide(undefined);\r\n            setAnimating(false);\r\n          },\r\n          400, // Empirically determined.\r\n        );\r\n        return () => clearTimeout(timer);\r\n      }\r\n      return undefined;\r\n    }, [animating, targetDisplayBounds]);\r\n\r\n    // We have to deal with reference being the end of a month with more\r\n    // days than the month we are changing to. So, we always set reference\r\n    // to the first of the month before changing the month.\r\n    const previousMonth = useMemo(\r\n      () => endOfMonth(subtractMonths(startOfMonth(reference), 1)),\r\n      [reference],\r\n    );\r\n    const nextMonth = useMemo(\r\n      () => startOfMonth(addMonths(startOfMonth(reference), 1)),\r\n      [reference],\r\n    );\r\n\r\n    const daysRef = useRef();\r\n    const [focus, setFocus] = useState();\r\n    const [active, setActive] = useState();\r\n\r\n    const changeReference = useCallback(\r\n      nextReference => {\r\n        if (betweenDates(nextReference, bounds)) {\r\n          setReference(nextReference);\r\n          if (onReference) onReference(nextReference.toISOString());\r\n        }\r\n      },\r\n      [onReference, bounds],\r\n    );\r\n    const selectDate = useCallback(\r\n      selectedDate => {\r\n        let nextDates;\r\n        let nextDate;\r\n        // output date with no timestamp if that's how user provided it\r\n        let adjustedDate;\r\n        if (!range) {\r\n          nextDate = selectedDate;\r\n          if (datesProp) {\r\n            datesProp.forEach(d => {\r\n              if (!timeStamp.test(d)) {\r\n                adjustedDate = formatToLocalYYYYMMDD(nextDate);\r\n                if (d === adjustedDate) {\r\n                  nextDate = undefined;\r\n                } else {\r\n                  adjustedDate = undefined;\r\n                }\r\n              }\r\n            });\r\n          } else if (dateProp) {\r\n            if (!timeStamp.test(dateProp)) {\r\n              adjustedDate = formatToLocalYYYYMMDD(selectedDate);\r\n              if (dateProp === adjustedDate) {\r\n                nextDate = undefined;\r\n              } else {\r\n                adjustedDate = undefined;\r\n              }\r\n            } else {\r\n              adjustedDate = undefined;\r\n            }\r\n          }\r\n        }\r\n        // everything down is a range\r\n        else if (!dates) {\r\n          // if user supplies date, convert this into dates\r\n          if (date) {\r\n            const priorDate = new Date(date);\r\n            const selDate = new Date(selectedDate);\r\n            if (activeDate === activeDates.start) {\r\n              if (selDate.getTime() > priorDate.getTime()) {\r\n                nextDates = [[selectedDate, undefined]];\r\n              } else {\r\n                nextDates = [[selectedDate, date]];\r\n              }\r\n              setActiveDate(activeDates.end);\r\n              if (activeDateProp) setActiveDate(activeDateProp);\r\n            } else if (activeDate === activeDates.end) {\r\n              if (selDate.getTime() < priorDate.getTime()) {\r\n                nextDates = [[selectedDate, undefined]];\r\n                setActiveDate(activeDates.end);\r\n              } else {\r\n                nextDates = [[date, selectedDate]];\r\n                setActiveDate(activeDates.start);\r\n              }\r\n              if (activeDateProp) setActiveDate(activeDateProp);\r\n            }\r\n          } else if (activeDate === activeDates.start) {\r\n            nextDates = [[selectedDate, undefined]];\r\n            setActiveDate(activeDates.end);\r\n          } else if (activeDate === activeDates.end) {\r\n            nextDates = [[undefined, selectedDate]];\r\n          }\r\n          if (activeDateProp) setActiveDate(activeDateProp);\r\n        } else {\r\n          // have dates\r\n          const priorDates = dates[0].map(d => new Date(d));\r\n          const selDate = new Date(selectedDate);\r\n          if (selDate.getTime() === priorDates[0].getTime()) {\r\n            nextDates = [[undefined, dates[0][1]]];\r\n            setActiveDate(activeDates.start);\r\n          } else if (selDate.getTime() === priorDates[1].getTime()) {\r\n            nextDates = [[dates[0][0], undefined]];\r\n            setActiveDate(activeDates.end);\r\n            if (activeDateProp) setActiveDate(activeDateProp);\r\n          } else if (activeDate === activeDates.start) {\r\n            if (selDate.getTime() > priorDates[1].getTime()) {\r\n              nextDates = [[selectedDate, undefined]];\r\n            } else {\r\n              nextDates = [[selectedDate, dates[0][1]]];\r\n            }\r\n            setActiveDate(activeDates.end);\r\n            if (activeDateProp) setActiveDate(activeDateProp);\r\n          } else if (activeDate === activeDates.end) {\r\n            if (selDate.getTime() < priorDates[0].getTime()) {\r\n              nextDates = [[selectedDate, undefined]];\r\n              setActiveDate(activeDates.end);\r\n            } else {\r\n              nextDates = [[dates[0][0], selectedDate]];\r\n              setActiveDate(activeDates.start);\r\n            }\r\n            if (activeDateProp) setActiveDate(activeDateProp);\r\n          }\r\n          // cleanup\r\n          if (!nextDates[0][0] && !nextDates[0][1]) nextDates = undefined;\r\n        }\r\n\r\n        setDates(nextDates);\r\n        if (!dates) setDate(nextDate);\r\n        setActive(new Date(selectedDate));\r\n        if (onSelect) {\r\n          let adjustedDates;\r\n          if (\r\n            nextDates &&\r\n            Array.isArray(nextDates[0]) &&\r\n            (!nextDates[0][0] || !nextDates[0][1]) &&\r\n            range === true\r\n          ) {\r\n            // return string for backwards compatibility\r\n            [adjustedDates] = nextDates[0].filter(d => d);\r\n          } else {\r\n            adjustedDates = nextDates;\r\n          }\r\n          onSelect(adjustedDates || adjustedDate || nextDate);\r\n        }\r\n      },\r\n      [\r\n        activeDate,\r\n        activeDateProp,\r\n        date,\r\n        dateProp,\r\n        dates,\r\n        datesProp,\r\n        onSelect,\r\n        range,\r\n      ],\r\n    );\r\n\r\n    const renderCalendarHeader = () => {\r\n      const PreviousIcon =\r\n        size === 'small'\r\n          ? theme.calendar.icons.small.previous\r\n          : theme.calendar.icons.previous;\r\n\r\n      const NextIcon =\r\n        size === 'small'\r\n          ? theme.calendar.icons.small.next\r\n          : theme.calendar.icons.next;\r\n\r\n      return (\r\n        <Box direction=\"row\" justify=\"between\" align=\"center\">\r\n          <Box flex pad={{ horizontal: headingPadMap[size] || 'small' }}>\r\n            <Heading\r\n              level={\r\n                size === 'small'\r\n                  ? (theme.calendar.heading && theme.calendar.heading.level) ||\r\n                    4\r\n                  : ((theme.calendar.heading && theme.calendar.heading.level) ||\r\n                      4) - 1\r\n              }\r\n              size={size}\r\n              margin=\"none\"\r\n            >\r\n              {reference.toLocaleDateString(locale, {\r\n                month: 'long',\r\n                year: 'numeric',\r\n              })}\r\n            </Heading>\r\n          </Box>\r\n          <Box flex={false} direction=\"row\" align=\"center\">\r\n            <Button\r\n              a11yTitle={previousMonth.toLocaleDateString(locale, {\r\n                month: 'long',\r\n                year: 'numeric',\r\n              })}\r\n              icon={<PreviousIcon size={size !== 'small' ? size : undefined} />}\r\n              disabled={!betweenDates(previousMonth, bounds)}\r\n              onClick={() => changeReference(previousMonth)}\r\n            />\r\n            <Button\r\n              a11yTitle={nextMonth.toLocaleDateString(locale, {\r\n                month: 'long',\r\n                year: 'numeric',\r\n              })}\r\n              icon={<NextIcon size={size !== 'small' ? size : undefined} />}\r\n              disabled={!betweenDates(nextMonth, bounds)}\r\n              onClick={() => changeReference(nextMonth)}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      );\r\n    };\r\n\r\n    const renderDaysOfWeek = () => {\r\n      let day = new Date(displayBounds[0]);\r\n      const days = [];\r\n      while (days.length < 7) {\r\n        days.push(\r\n          <StyledDayContainer\r\n            key={days.length}\r\n            sizeProp={size}\r\n            fillContainer={fill}\r\n          >\r\n            <StyledDay otherMonth sizeProp={size} fillContainer={fill}>\r\n              {day.toLocaleDateString(locale, { weekday: 'narrow' })}\r\n            </StyledDay>\r\n          </StyledDayContainer>,\r\n        );\r\n        day = addDays(day, 1);\r\n      }\r\n      return <StyledWeek>{days}</StyledWeek>;\r\n    };\r\n\r\n    const weeks = [];\r\n    let day = new Date(displayBounds[0]);\r\n    let days;\r\n    let firstDayInMonth;\r\n\r\n    while (day.getTime() < displayBounds[1].getTime()) {\r\n      if (day.getDay() === firstDayOfWeek) {\r\n        if (days) {\r\n          weeks.push(\r\n            <StyledWeek key={day.getTime()} fillContainer={fill}>\r\n              {days}\r\n            </StyledWeek>,\r\n          );\r\n        }\r\n        days = [];\r\n      }\r\n\r\n      const otherMonth = day.getMonth() !== reference.getMonth();\r\n      if (!showAdjacentDays && otherMonth) {\r\n        days.push(\r\n          <StyledDayContainer\r\n            key={day.getTime()}\r\n            sizeProp={size}\r\n            fillContainer={fill}\r\n          >\r\n            <StyledDay sizeProp={size} fillContainer={fill} />\r\n          </StyledDayContainer>,\r\n        );\r\n      } else if (\r\n        /* Do not show adjacent days in 6th row if all days \r\n        fall in the next month */\r\n        showAdjacentDays === 'trim' &&\r\n        otherMonth &&\r\n        weeks.length === 5 &&\r\n        /* If the length days array is less than the current getDate()\r\n        we know that all days in the array are from the next month. */\r\n        days.length < day.getDate()\r\n      ) {\r\n        days.push(\r\n          <StyledDayContainer\r\n            key={day.getTime()}\r\n            sizeProp={size}\r\n            fillContainer={fill}\r\n          >\r\n            <StyledDay sizeProp={size} fillContainer={fill} />\r\n          </StyledDayContainer>,\r\n        );\r\n      } else {\r\n        const dateString = day.toISOString();\r\n        // this.dayRefs[dateString] = React.createRef();\r\n        let selected = false;\r\n        let inRange = false;\r\n\r\n        const selectedState = withinDates(day, date || dates);\r\n        if (selectedState === 2) {\r\n          selected = true;\r\n        } else if (selectedState === 1) {\r\n          inRange = true;\r\n        }\r\n        const dayDisabled =\r\n          withinDates(day, disabled) || (bounds && !betweenDates(day, bounds));\r\n        if (\r\n          !firstDayInMonth &&\r\n          !dayDisabled &&\r\n          day.getMonth() === reference.getMonth()\r\n        ) {\r\n          firstDayInMonth = dateString;\r\n        }\r\n\r\n        if (!children) {\r\n          days.push(\r\n            <CalendarDay\r\n              key={day.getTime()}\r\n              buttonProps={{\r\n                a11yTitle: day.toDateString(),\r\n                active: active && active.getTime() === day.getTime(),\r\n                disabled: dayDisabled && !!dayDisabled,\r\n                onClick: () => {\r\n                  selectDate(dateString);\r\n                  // Chrome moves the focus indicator to this button. Set\r\n                  // the focus to the grid of days instead.\r\n                  daysRef.current.focus();\r\n                },\r\n                onMouseOver: () => setActive(new Date(dateString)),\r\n                onMouseOut: () => setActive(undefined),\r\n              }}\r\n              isInRange={inRange}\r\n              isSelected={selected}\r\n              otherMonth={day.getMonth() !== reference.getMonth()}\r\n              size={size}\r\n              fill={fill}\r\n            >\r\n              {day.getDate()}\r\n            </CalendarDay>,\r\n          );\r\n        } else {\r\n          days.push(\r\n            <CalendarCustomDay\r\n              key={day.getTime()}\r\n              buttonProps={\r\n                onSelect\r\n                  ? {\r\n                      a11yTitle: day.toDateString(),\r\n                      active: active && active.getTime() === day.getTime(),\r\n                      disabled: dayDisabled && !!dayDisabled,\r\n                      onClick: () => {\r\n                        selectDate(dateString);\r\n                        // Chrome moves the focus indicator to this button. Set\r\n                        // the focus to the grid of days instead.\r\n                        daysRef.current.focus();\r\n                      },\r\n                      onMouseOver: () => setActive(new Date(dateString)),\r\n                      onMouseOut: () => setActive(undefined),\r\n                    }\r\n                  : null\r\n              }\r\n              size={size}\r\n              fill={fill}\r\n            >\r\n              {children({\r\n                date: day,\r\n                day: day.getDate(),\r\n                isInRange: inRange,\r\n                isSelected: selected,\r\n              })}\r\n            </CalendarCustomDay>,\r\n          );\r\n        }\r\n      }\r\n\r\n      day = addDays(day, 1);\r\n    }\r\n    weeks.push(\r\n      <StyledWeek key={day.getTime()} fillContainer={fill}>\r\n        {days}\r\n      </StyledWeek>,\r\n    );\r\n\r\n    return (\r\n      <StyledCalendar ref={ref} sizeProp={size} fillContainer={fill} {...rest}>\r\n        <Box fill={fill}>\r\n          {header\r\n            ? header({\r\n                date: reference,\r\n                locale,\r\n                onPreviousMonth: () => changeReference(previousMonth),\r\n                onNextMonth: () => changeReference(nextMonth),\r\n                previousInBound: betweenDates(previousMonth, bounds),\r\n                nextInBound: betweenDates(nextMonth, bounds),\r\n              })\r\n            : renderCalendarHeader(previousMonth, nextMonth)}\r\n          {daysOfWeek && renderDaysOfWeek()}\r\n          <Keyboard\r\n            onEnter={() => selectDate(active.toISOString())}\r\n            onUp={event => {\r\n              event.preventDefault();\r\n              event.stopPropagation(); // so the page doesn't scroll\r\n              setActive(addDays(active, -7));\r\n            }}\r\n            onDown={event => {\r\n              event.preventDefault();\r\n              event.stopPropagation(); // so the page doesn't scroll\r\n              setActive(addDays(active, 7));\r\n            }}\r\n            onLeft={() => active && setActive(addDays(active, -1))}\r\n            onRight={() => active && setActive(addDays(active, 1))}\r\n          >\r\n            <StyledWeeksContainer\r\n              ref={daysRef}\r\n              sizeProp={size}\r\n              fillContainer={fill}\r\n              tabIndex={0}\r\n              focus={focus}\r\n              onFocus={() => {\r\n                setFocus(true);\r\n                if (date && betweenDates(new Date(date), displayBounds)) {\r\n                  setActive(new Date(date));\r\n                } else {\r\n                  setActive(new Date(firstDayInMonth));\r\n                }\r\n              }}\r\n              onBlur={() => {\r\n                setFocus(false);\r\n                setActive(undefined);\r\n              }}\r\n            >\r\n              <StyledWeeks slide={slide} sizeProp={size} fillContainer={fill}>\r\n                {weeks}\r\n              </StyledWeeks>\r\n            </StyledWeeksContainer>\r\n          </Keyboard>\r\n        </Box>\r\n      </StyledCalendar>\r\n    );\r\n  },\r\n);\r\n\r\nCalendar.displayName = 'Calendar';\r\n\r\nlet CalendarDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CalendarDoc = require('./doc').doc(Calendar);\r\n}\r\nconst CalendarWrapper = CalendarDoc || Calendar;\r\n\r\nexport { CalendarWrapper as Calendar };\r\n","import styled, { css, keyframes } from 'styled-components';\r\nimport {\r\n  backgroundStyle,\r\n  focusStyle,\r\n  genericStyles,\r\n  kindPartStyles,\r\n  parseMetricToNum,\r\n} from '../../utils';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst sizeStyle = props => {\r\n  const data = props.theme.calendar[props.sizeProp];\r\n  const width = props.fillContainer\r\n    ? '100%'\r\n    : props.theme.global.size[props.sizeProp];\r\n\r\n  return css`\r\n    font-size: ${data.fontSize};\r\n    line-height: ${data.lineHeight};\r\n    width: ${width};\r\n    ${p => p.fillContainer && 'height: 100%;'}\r\n  `;\r\n};\r\n\r\nconst StyledCalendar = styled.div`\r\n  ${genericStyles}\r\n  ${props => sizeStyle(props)}\r\n  ${props => props.theme.calendar && props.theme.calendar.extend}\r\n`;\r\n\r\nStyledCalendar.defaultProps = {};\r\nObject.setPrototypeOf(StyledCalendar.defaultProps, defaultProps);\r\n\r\nconst weeksContainerSizeStyle = props => {\r\n  const height = props.fillContainer\r\n    ? '100%'\r\n    : `${parseMetricToNum(props.theme.calendar[props.sizeProp].daySize) * 6}px`;\r\n  return `\r\n    height: ${height};\r\n\r\n  `;\r\n};\r\nconst StyledWeeksContainer = styled.div`\r\n  overflow: hidden;\r\n  ${props => weeksContainerSizeStyle(props)}\r\n  ${props => props.focus && !props.plain && focusStyle()};\r\n`;\r\n\r\nStyledWeeksContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledWeeksContainer.defaultProps, defaultProps);\r\n\r\nconst slideStyle = props => {\r\n  const {\r\n    slide: { direction, weeks },\r\n    sizeProp,\r\n    theme,\r\n  } = props;\r\n  const { daySize, slideDuration } = theme.calendar[sizeProp];\r\n  const amount = parseMetricToNum(daySize) * weeks;\r\n\r\n  const translateYFrom = direction === 'down' ? `-${amount}px` : '0';\r\n  const translateYTo = direction === 'up' ? `-${amount}px` : '0';\r\n  const slideTransition = css`\r\n    0% {\r\n      transform: translateY(${translateYFrom});\r\n    }\r\n    100% {\r\n      transform: translateY(${translateYTo});\r\n    }\r\n  `;\r\n  return css`\r\n    animation: ${keyframes`${slideTransition}`} ${slideDuration} forwards;\r\n  `;\r\n};\r\n\r\nconst weeksSizeStyle = () => {\r\n  return css`\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n  `;\r\n};\r\nconst StyledWeeks = styled.div`\r\n  position: relative;\r\n  ${props => props.fillContainer && weeksSizeStyle()}\r\n  ${props => props.slide && slideStyle(props)};\r\n`;\r\n\r\nStyledWeeks.defaultProps = {};\r\nObject.setPrototypeOf(StyledWeeks.defaultProps, defaultProps);\r\n\r\nconst StyledWeek = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  ${props => props.fillContainer && 'flex: 1;'}\r\n`;\r\n\r\nStyledWeek.defaultProps = {};\r\nObject.setPrototypeOf(StyledWeek.defaultProps, defaultProps);\r\n\r\n// The width of 14.3% is derived from dividing 100/7. We want the\r\n// widths of 7 days to equally fill 100% of the row.\r\nconst StyledDayContainer = styled.div`\r\n  flex: 0 0 auto;\r\n  ${props => props.fillContainer && 'width: 14.3%;'}\r\n`;\r\n\r\nStyledDayContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledDayContainer.defaultProps, defaultProps);\r\n\r\nconst daySizeStyle = props => {\r\n  const data = props.theme.calendar[props.sizeProp];\r\n\r\n  return css`\r\n    width: ${props.fillContainer ? '100%' : data.daySize};\r\n    height: ${props.fillContainer ? '100%' : data.daySize};\r\n  `;\r\n};\r\n\r\nconst StyledDay = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => daySizeStyle(props)}\r\n  ${props =>\r\n    (props.isSelected && backgroundStyle('control', props.theme)) ||\r\n    (props.inRange &&\r\n      backgroundStyle({ color: 'control', opacity: 'weak' }, props.theme))}\r\n  ${props => props.otherMonth && 'opacity: 0.5;'}\r\n  ${props => props.isSelected && 'font-weight: bold;'}\r\n  ${props =>\r\n    // when theme uses kind Buttons, since we use children for Button,\r\n    // we have to special case how we handle disabled days here\r\n    props.disabledProp &&\r\n    props.theme.button.default &&\r\n    kindPartStyles(props.theme.button.disabled, props.theme)}\r\n  ${props =>\r\n    props.theme.calendar &&\r\n    props.theme.calendar.day &&\r\n    props.theme.calendar.day.extend}\r\n`;\r\n\r\nStyledDay.defaultProps = {};\r\nObject.setPrototypeOf(StyledDay.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledCalendar,\r\n  StyledWeeksContainer,\r\n  StyledWeeks,\r\n  StyledWeek,\r\n  StyledDayContainer,\r\n  StyledDay,\r\n};\r\n","// Utility functions for the Calendar.\r\n// Just what's needed to avoid having to include a dependency like momentjs.\r\n\r\nconst DAY_MILLISECONDS = 24 * 60 * 60 * 1000;\r\n\r\nexport const addDays = (date, days) => {\r\n  const result = new Date(date.getTime() + DAY_MILLISECONDS * days);\r\n  // Deal with crossing the daylight savings time boundary,\r\n  // where adding a day's worth when the time is midnight results in\r\n  // being a day off.\r\n  let hourDelta = result.getHours() - date.getHours();\r\n  // At this point, hourDelta is typically 0 (normal day),\r\n  // +23 (November daylight saving), or -23 (March Daylight saving)\r\n  // depending on which side of the switch we are on.\r\n  // Convert so that hourDelta is either +1 or -1.\r\n  if (hourDelta === 23) {\r\n    hourDelta -= 24;\r\n  } else if (hourDelta === -23) {\r\n    hourDelta += 24;\r\n  }\r\n  result.setHours(result.getHours() - hourDelta);\r\n  return result;\r\n};\r\n\r\nexport const subtractDays = (date, days) => addDays(date, -days);\r\n\r\nexport const addMonths = (date, months) => {\r\n  const result = new Date(date);\r\n  const years = Math.floor((date.getMonth() + months) / 12);\r\n  result.setFullYear(date.getFullYear() + years);\r\n  const targetMonth = (date.getMonth() + months) % 12;\r\n  result.setMonth(targetMonth < 0 ? 12 + targetMonth : targetMonth);\r\n  return result;\r\n};\r\n\r\nexport const subtractMonths = (date, months) => addMonths(date, -months);\r\n\r\nexport const startOfMonth = date => {\r\n  const result = new Date(date);\r\n  result.setDate(1);\r\n  return result;\r\n};\r\n\r\nexport const endOfMonth = date => {\r\n  const result = addMonths(date, 1);\r\n  result.setDate(0);\r\n  return result;\r\n};\r\n\r\nexport const sameDay = (date1, date2) =>\r\n  date1.getFullYear() === date2.getFullYear() &&\r\n  date1.getMonth() === date2.getMonth() &&\r\n  date1.getDate() === date2.getDate();\r\n\r\nexport const sameDayOrAfter = (date1, date2) =>\r\n  date1.getFullYear() > date2.getFullYear() ||\r\n  (date1.getFullYear() === date2.getFullYear() &&\r\n    (date1.getMonth() > date2.getMonth() ||\r\n      (date1.getMonth() === date2.getMonth() &&\r\n        date1.getDate() >= date2.getDate())));\r\n\r\nexport const sameDayOrBefore = (date1, date2) =>\r\n  date1.getFullYear() < date2.getFullYear() ||\r\n  (date1.getFullYear() === date2.getFullYear() &&\r\n    (date1.getMonth() < date2.getMonth() ||\r\n      (date1.getMonth() === date2.getMonth() &&\r\n        date1.getDate() <= date2.getDate())));\r\n\r\nexport const daysApart = (date1, date2) =>\r\n  Math.floor((date1.getTime() - date2.getTime()) / DAY_MILLISECONDS);\r\n\r\n// account for timezone offset of user's local machine\r\nexport const localTimezoneToUTC = date =>\r\n  new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n\r\nexport const formatToLocalYYYYMMDD = date => {\r\n  const adjustedDate = new Date(date);\r\n  return new Date(\r\n    adjustedDate.getTime() - adjustedDate.getTimezoneOffset() * 60000,\r\n  )\r\n    .toISOString()\r\n    .split('T')[0];\r\n};\r\n// betweenDates takes an array of two elements and checks if the\r\n// supplied date lies between them, inclusive.\r\n// returns 2 if exact match to one end, 1 if between, undefined otherwise\r\nexport const betweenDates = (date, dates) => {\r\n  let result;\r\n  if (dates) {\r\n    const [from, to] = dates.map(d => (d ? new Date(d) : undefined));\r\n    if ((from && sameDay(date, from)) || (to && sameDay(date, to))) {\r\n      result = 2;\r\n    } else if (\r\n      from &&\r\n      sameDayOrAfter(date, from) &&\r\n      to &&\r\n      sameDayOrBefore(date, to)\r\n    ) {\r\n      result = 1;\r\n    }\r\n  } else {\r\n    result = 1;\r\n  }\r\n  return result;\r\n};\r\n\r\n// withinDates takes an array of string dates or 2 element arrays and\r\n// checks whether the supplied date matches any string or is between\r\n// any dates in arrays.\r\n// returns 2 if exact match, 1 if between, undefined otherwise\r\nexport const withinDates = (date, dates) => {\r\n  let result;\r\n  if (dates) {\r\n    if (Array.isArray(dates)) {\r\n      dates.some(d => {\r\n        if (typeof d === 'string') {\r\n          if (sameDay(date, new Date(d))) {\r\n            result = 2;\r\n          }\r\n        } else {\r\n          result = betweenDates(date, d);\r\n        }\r\n        return result;\r\n      });\r\n    } else if (sameDay(date, new Date(dates))) {\r\n      result = 2;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n","export { Card } from './Card';\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\n\r\nconst Card = forwardRef(({ ...rest }, ref) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  return (\r\n    <Box overflow=\"hidden\" ref={ref} {...theme.card.container} {...rest} />\r\n  );\r\n});\r\n\r\nCard.displayName = 'Card';\r\n\r\nlet CardDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CardDoc = require('./doc').doc(Card);\r\n}\r\nconst CardWrapper = CardDoc || Card;\r\n\r\nexport { CardWrapper as Card };\r\n","export { CardBody } from './CardBody';\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\n\r\nconst CardBody = ({ ...rest }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  return <Box flex {...theme.card.body} {...rest} />;\r\n};\r\n\r\nlet CardBodyDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CardBodyDoc = require('./doc').doc(CardBody);\r\n}\r\nconst CardBodyWrapper = CardBodyDoc || CardBody;\r\n\r\nexport { CardBodyWrapper as CardBody };\r\n","export { CardFooter } from './CardFooter';\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Footer } from '../Footer';\r\n\r\n// Needs to have a CardBody or a flex container when Card uses a fixed height.\r\nconst CardFooter = ({ ...rest }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  return <Footer {...theme.card.footer} {...rest} />;\r\n};\r\n\r\nlet CardFooterDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CardFooterDoc = require('./doc').doc(CardFooter);\r\n}\r\nconst CardFooterWrapper = CardFooterDoc || CardFooter;\r\n\r\nexport { CardFooterWrapper as CardFooter };\r\n","import React from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nconst Footer = ({ ...rest }) => (\r\n  <Box\r\n    as=\"footer\"\r\n    align=\"center\"\r\n    direction=\"row\"\r\n    flex={false}\r\n    gap=\"medium\"\r\n    justify=\"between\"\r\n    {...rest}\r\n  />\r\n);\r\n\r\nlet FooterDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  FooterDoc = require('./doc').doc(Footer);\r\n}\r\n\r\nconst FooterWrapper = FooterDoc || Footer;\r\n\r\nexport { FooterWrapper as Footer };\r\n","export { CardHeader } from './CardHeader';\r\n","import React, { useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Header } from '../Header';\r\n\r\nconst CardHeader = ({ ...rest }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  return <Header {...theme.card.header} {...rest} />;\r\n};\r\n\r\nlet CardHeaderDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CardHeaderDoc = require('./doc').doc(CardHeader);\r\n}\r\nconst CardHeaderWrapper = CardHeaderDoc || CardHeader;\r\n\r\nexport { CardHeaderWrapper as CardHeader };\r\n","import React from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nconst Header = ({ ...rest }) => (\r\n  <Box\r\n    align=\"center\"\r\n    as=\"header\"\r\n    direction=\"row\"\r\n    flex={false}\r\n    justify=\"between\"\r\n    gap=\"medium\"\r\n    {...rest}\r\n  />\r\n);\r\n\r\nlet HeaderDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  HeaderDoc = require('./doc').doc(Header);\r\n}\r\nconst HeaderWrapper = HeaderDoc || Header;\r\n\r\nexport { HeaderWrapper as Header };\r\n","export { Carousel } from './Carousel';\r\n","import React, {\n  Children,\n  useContext,\n  useEffect,\n  useState,\n  useRef,\n} from 'react';\n\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\n\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nconst Carousel = ({\n  initialChild,\n  onChild,\n  play,\n  children,\n  controls,\n  fill,\n  onFocus,\n  onBlur,\n  ...rest\n}) => {\n  const theme = useContext(ThemeContext) || defaultProps.theme;\n  const [focus, setFocus] = useState();\n\n  const timerRef = useRef();\n\n  const [indexes, setIndexes] = useState({\n    activeIndex: initialChild,\n  });\n\n  const { activeIndex, priorActiveIndex } = indexes;\n  const lastIndex = Children.count(children) - 1;\n\n  useEffect(() => {\n    if (play) {\n      const timer = setInterval(() => {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex,\n          });\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex,\n          });\n        }\n      }, play);\n\n      timerRef.current = timer;\n\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n    return () => {};\n  }, [activeIndex, play, children, lastIndex]);\n\n  useEffect(() => {\n    if (onChild) onChild(activeIndex);\n    return () => {};\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeIndex]);\n\n  const onRight = () => {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex,\n    });\n  };\n\n  const onLeft = () => {\n    if (activeIndex <= 0) {\n      return;\n    }\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex,\n    });\n  };\n\n  const onSelect = index => () => {\n    clearInterval(timerRef.current);\n    setIndexes({ activeIndex: index, priorActiveIndex: activeIndex });\n  };\n\n  const showArrows = controls && controls !== 'selectors';\n  const showSelectors = controls && controls !== 'arrows';\n\n  const CurrentIcon = theme.carousel.icons.current;\n  const iconColor = normalizeColor(\n    theme.carousel.icons.color || 'control',\n    theme,\n  );\n\n  const selectors = [];\n  const wrappedChildren = Children.map(children, (child, index) => {\n    selectors.push(\n      <Button\n        // eslint-disable-next-line react/no-array-index-key\n        key={index}\n        icon={\n          <CurrentIcon color={activeIndex === index ? iconColor : undefined} />\n        }\n        onClick={onSelect(index)}\n      />,\n    );\n\n    let animation;\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration,\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration,\n      };\n    } else {\n      animation = { type: 'fadeOut', duration: 0 };\n    }\n\n    return (\n      <Box fill={fill} overflow=\"hidden\">\n        <Box fill={fill} animation={animation}>\n          {child}\n        </Box>\n      </Box>\n    );\n  });\n\n  const NextIcon = theme.carousel.icons.next;\n  const PreviousIcon = theme.carousel.icons.previous;\n  const nextIconDisabled = activeIndex >= lastIndex;\n  const previousIconDisabled = activeIndex <= 0;\n\n  return (\n    <Keyboard onLeft={onLeft} onRight={onRight}>\n      <Stack guidingChild={activeIndex} fill={fill} {...rest}>\n        {wrappedChildren}\n        <Box\n          tabIndex=\"0\"\n          focus={focus}\n          onFocus={event => {\n            setFocus(true);\n            if (onFocus) onFocus(event);\n          }}\n          onBlur={event => {\n            setFocus(false);\n            if (onBlur) onBlur(event);\n          }}\n          fill\n          direction=\"row\"\n          justify=\"between\"\n        >\n          {showArrows && (\n            <Button\n              fill=\"vertical\"\n              icon={\n                <PreviousIcon\n                  color={normalizeColor(\n                    previousIconDisabled\n                      ? theme.carousel.disabled.icons.color\n                      : theme.carousel.icons.color,\n                    theme,\n                  )}\n                />\n              }\n              plain\n              disabled={previousIconDisabled}\n              onClick={onLeft}\n              hoverIndicator\n            />\n          )}\n          {showSelectors && (\n            <Box justify=\"end\" fill={!showArrows && 'horizontal'}>\n              <Box direction=\"row\" justify=\"center\">\n                {selectors}\n              </Box>\n            </Box>\n          )}\n          {showArrows && (\n            <Button\n              fill=\"vertical\"\n              icon={\n                <NextIcon\n                  color={normalizeColor(\n                    nextIconDisabled\n                      ? theme.carousel.disabled.icons.color\n                      : theme.carousel.icons.color,\n                    theme,\n                  )}\n                />\n              }\n              plain\n              disabled={nextIconDisabled}\n              onClick={onRight}\n              hoverIndicator\n            />\n          )}\n        </Box>\n      </Stack>\n    </Keyboard>\n  );\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true,\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\n\nlet CarouselDoc;\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\nconst CarouselWrapper = CarouselDoc || Carousel;\n\nexport { CarouselWrapper as Carousel };\n","export { AnnounceContext } from './AnnounceContext';\r\n","import React from 'react';\r\n\r\nconst createAnnouncer = () => {\r\n  const announcer = document.createElement('div');\r\n  announcer.id = 'grommet-announcer';\r\n  announcer.style.left = '-100%';\r\n  announcer.style.right = '100%';\r\n  announcer.style.position = 'fixed';\r\n  announcer.style['z-index'] = '-1';\r\n\r\n  document.body.insertBefore(announcer, document.body.firstChild);\r\n\r\n  return announcer;\r\n};\r\n\r\nexport const AnnounceContext = React.createContext(\r\n  (message, mode = 'polite', timeout = 500) => {\r\n    // we only create a new container if we don't have one already\r\n    // we create a separate node so that grommet does not set aria-hidden to it\r\n    const announcer =\r\n      document.body.querySelector(`#grommet-announcer[aria-live]`) ||\r\n      createAnnouncer();\r\n\r\n    announcer.setAttribute('aria-live', 'off');\r\n    announcer.innerHTML = message;\r\n    announcer.setAttribute('aria-live', mode);\r\n    setTimeout(() => {\r\n      announcer.innerHTML = '';\r\n    }, timeout);\r\n  },\r\n);\r\n","export { ResponsiveContext } from './ResponsiveContext';\r\n","import React from 'react';\r\n\r\nexport const ResponsiveContext = React.createContext(undefined);\r\n","export { ThemeContext } from './ThemeContext';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { deepMerge } from '../../utils';\r\n\r\nThemeContext.Extend = ({ children, value }) => (\r\n  <ThemeContext.Consumer>\r\n    {theme => (\r\n      <ThemeContext.Provider value={deepMerge(theme, value)}>\r\n        {children}\r\n      </ThemeContext.Provider>\r\n    )}\r\n  </ThemeContext.Consumer>\r\n);\r\n\r\nThemeContext.Extend.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  value: PropTypes.shape({}).isRequired,\r\n};\r\n\r\nexport { ThemeContext };\r\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import React, { Children } from 'react';\r\n\r\nimport { StyledStack, StyledStackLayer } from './StyledStack';\r\n\r\nconst buildStyledChildren = ({\r\n  anchor,\r\n  fill,\r\n  guidingIndex,\r\n  interactiveChild,\r\n  interactiveIndex,\r\n}) => (child, index) => {\r\n  const interactive =\r\n    interactiveChild === undefined || interactiveIndex === index;\r\n  const isGuidingIndex = index === guidingIndex;\r\n  const props = isGuidingIndex\r\n    ? { guiding: true, fillContainer: fill }\r\n    : { anchor };\r\n\r\n  return (\r\n    <StyledStackLayer key={index} interactive={interactive} {...props}>\r\n      {child}\r\n    </StyledStackLayer>\r\n  );\r\n};\r\n\r\nconst Stack = ({\r\n  anchor,\r\n  children,\r\n  fill,\r\n  guidingChild,\r\n  interactiveChild,\r\n  ...rest\r\n}) => {\r\n  const prunedChildren = Children.toArray(children).filter(c => c);\r\n  const toChildIndex = child => {\r\n    let index = child;\r\n    if (index === 'first' || !index) index = 0;\r\n    else if (index === 'last') index = prunedChildren.length - 1;\r\n    return index;\r\n  };\r\n\r\n  const guidingIndex = toChildIndex(guidingChild);\r\n  const interactiveIndex = interactiveChild && toChildIndex(interactiveChild);\r\n\r\n  const styledChildren = prunedChildren.map(\r\n    buildStyledChildren({\r\n      anchor,\r\n      fill,\r\n      guidingIndex,\r\n      interactiveChild,\r\n      interactiveIndex,\r\n    }),\r\n  );\r\n\r\n  return (\r\n    <StyledStack fillContainer={fill} {...rest}>\r\n      {styledChildren}\r\n    </StyledStack>\r\n  );\r\n};\r\n\r\nlet StackDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  StackDoc = require('./doc').doc(Stack); // eslint-disable-line global-require\r\n}\r\nconst StackWrapper = StackDoc || Stack;\r\n\r\nexport { StackWrapper as Stack };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst fillStyle = css`\r\n  ${props =>\r\n    props.fillContainer === true || props.fillContainer === 'horizontal'\r\n      ? `\r\n        width: 100%;\r\n        max-width: none;\r\n      `\r\n      : ''}\r\n  ${props =>\r\n    props.fillContainer === true || props.fillContainer === 'vertical'\r\n      ? 'height: 100%;'\r\n      : ''}\r\n  flex-grow: 1;\r\n  display: flex;\r\n`;\r\n\r\nconst StyledStack = styled.div`\r\n  position: relative;\r\n  ${genericStyles}\r\n  ${props => props.fillContainer && fillStyle}\r\n  ${props => props.theme.stack && props.theme.stack.extend}\r\n`;\r\n\r\nStyledStack.defaultProps = {};\r\nObject.setPrototypeOf(StyledStack.defaultProps, defaultProps);\r\n\r\nconst styleMap = {\r\n  fill: `\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n  `,\r\n  center: `\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  `,\r\n  left: `\r\n    top: 50%;\r\n    left: 0;\r\n    transform: translateY(-50%);\r\n  `,\r\n  right: `\r\n    top: 50%;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n  `,\r\n  top: `\r\n    top: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  `,\r\n  bottom: `\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  `,\r\n  'top-left': `\r\n    top: 0;\r\n    left: 0;\r\n  `,\r\n  'bottom-left': `\r\n    bottom: 0;\r\n    left: 0;\r\n  `,\r\n  'top-right': `\r\n    top: 0;\r\n    right: 0;\r\n  `,\r\n  'bottom-right': `\r\n    bottom: 0;\r\n    right: 0;\r\n  `,\r\n};\r\n\r\nconst StyledStackLayer = styled.div`\r\n  position: ${props => (props.guiding ? 'relative' : 'absolute')};\r\n  ${props => props.guiding && 'display: block;'}\r\n  ${props => !props.guiding && `${styleMap[props.anchor || 'fill']};`}\r\n  ${props =>\r\n    props.fillContainer &&\r\n    `\r\n    width: 100%;\r\n    height: 100%;\r\n  `}\r\n  ${props => !props.interactive && `pointer-events: none;`}\r\n`;\r\n\r\nStyledStackLayer.defaultProps = {};\r\nObject.setPrototypeOf(StyledStackLayer.defaultProps, defaultProps);\r\n\r\nexport { StyledStack, StyledStackLayer };\r\n","import React, { forwardRef, useContext, useMemo } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { CheckBox } from '../CheckBox';\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { StyledCheckBoxGroup } from './StyledCheckBoxGroup';\r\n\r\nexport const CheckBoxGroup = forwardRef(\r\n  (\r\n    {\r\n      value: valueProp,\r\n      disabled: disabledProp,\r\n      gap,\r\n      labelKey,\r\n      valueKey,\r\n      onChange,\r\n      options: optionsProp,\r\n      name,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const formContext = useContext(FormContext);\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n    // In case option is a string, normalize it to be an object\r\n    const options = useMemo(\r\n      () =>\r\n        optionsProp.map(option => {\r\n          return typeof option === 'string'\r\n            ? {\r\n                disabled: disabledProp,\r\n                value: option,\r\n                label: option,\r\n              }\r\n            : option;\r\n        }),\r\n      [optionsProp, disabledProp],\r\n    );\r\n\r\n    // 'value' is an array of checked valueKeys\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp, []);\r\n\r\n    // Logic is necessary to maintain a proper data structure for Form logic\r\n    const onCheckBoxChange = (event, optionValue, option) => {\r\n      // deep copy of value\r\n      const nextValue = JSON.parse(JSON.stringify(value)) || [];\r\n      const optionIndex = nextValue.indexOf(optionValue);\r\n      // If the value option isn't in the array, add it.\r\n      // Otherwise, remove it.\r\n      if (optionIndex < 0) nextValue.push(optionValue);\r\n      else nextValue.splice(optionIndex, 1);\r\n      setValue(nextValue);\r\n      // Similar functionality to Select onChange()\r\n      if (onChange) {\r\n        event.persist(); // extract from React synthetic event pool\r\n        const adjustedEvent = event;\r\n        adjustedEvent.value = nextValue;\r\n        adjustedEvent.option = option;\r\n        onChange(adjustedEvent);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <StyledCheckBoxGroup\r\n        ref={ref}\r\n        {...theme.checkBoxGroup.container}\r\n        gap={\r\n          gap ||\r\n          (theme.checkBoxGroup.container && theme.checkBoxGroup.container.gap\r\n            ? theme.checkBoxGroup.container.gap\r\n            : 'small') // consistent with RadioButtonGroup default\r\n        }\r\n        {...rest}\r\n      >\r\n        {options.map(option => {\r\n          const optionValue = option.value;\r\n          const label = labelKey ? option[labelKey] : option.label;\r\n          const valueOption = valueKey ? option[valueKey] : optionValue;\r\n          const checked = value.indexOf(valueOption) >= 0;\r\n          const disabled = disabledProp || option.disabled;\r\n          const key = `${label}-${valueOption}`;\r\n\r\n          if (option.checked)\r\n            console.warn(\r\n              // eslint-disable-next-line max-len\r\n              `'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.`,\r\n            );\r\n          // value shouldn't propagate the input field and the onChange option\r\n          const { value: omit, ...optionRest } = option;\r\n          const optionProps = { ...optionRest, label, disabled };\r\n          return (\r\n            <CheckBox\r\n              key={key}\r\n              {...optionProps}\r\n              disabled={disabled}\r\n              checked={checked}\r\n              label={label}\r\n              onChange={event =>\r\n                onCheckBoxChange(event, valueOption, optionProps)\r\n              }\r\n            />\r\n          );\r\n        })}\r\n      </StyledCheckBoxGroup>\r\n    );\r\n  },\r\n);\r\n\r\nCheckBoxGroup.displayName = 'CheckBoxGroup';\r\n\r\nlet CheckBoxGroupDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CheckBoxGroupDoc = require('./doc').doc(CheckBoxGroup);\r\n}\r\nconst RadioButtonGroupWrapper = CheckBoxGroupDoc || CheckBoxGroup;\r\n\r\nexport { RadioButtonGroupWrapper as RadioButtonGroup };\r\n","import React, { forwardRef, useContext, useEffect, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { removeUndefined } from '../../utils/object';\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\nimport { FormContext } from '../Form/FormContext';\r\n\r\nimport {\r\n  StyledCheckBox,\r\n  StyledCheckBoxBox,\r\n  StyledCheckBoxIcon,\r\n  StyledCheckBoxContainer,\r\n  StyledCheckBoxInput,\r\n  StyledCheckBoxToggle,\r\n  StyledCheckBoxKnob,\r\n} from './StyledCheckBox';\r\n\r\nimport { normalizeColor } from '../../utils';\r\n\r\nconst stopLabelClick = event => {\r\n  // prevents clicking on the label trigging the event twice\r\n  // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element\r\n  if (event.target.type !== 'checkbox') {\r\n    event.stopPropagation();\r\n  }\r\n};\r\n\r\nconst CheckBox = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      checked: checkedProp,\r\n      disabled,\r\n      focus: focusProp,\r\n      id,\r\n      label,\r\n      name,\r\n      onBlur,\r\n      onChange,\r\n      onFocus,\r\n      reverse,\r\n      toggle,\r\n      indeterminate,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const formContext = useContext(FormContext);\r\n\r\n    const [checked, setChecked] = formContext.useFormInput(\r\n      name,\r\n      checkedProp,\r\n      false,\r\n    );\r\n\r\n    const [focus, setFocus] = useState(focusProp);\r\n    useEffect(() => setFocus(focusProp), [focusProp]);\r\n\r\n    useEffect(() => {\r\n      if (checkedProp && indeterminate) {\r\n        console.warn(\r\n          'Checkbox cannot be \"checked\" and \"indeterminate\" at the same time.',\r\n        );\r\n      }\r\n\r\n      if (toggle && indeterminate) {\r\n        console.warn(\r\n          'Checkbox of type toggle does not have \"indeterminate\" state.',\r\n        );\r\n      }\r\n    }, [checkedProp, toggle, indeterminate]);\r\n\r\n    const themeableProps = {\r\n      checked,\r\n      disabled,\r\n      focus,\r\n      reverse,\r\n      toggle,\r\n      indeterminate,\r\n    };\r\n\r\n    let hidden;\r\n    if (disabled && checked) {\r\n      hidden = <input name={name} type=\"hidden\" value=\"true\" />;\r\n    }\r\n\r\n    const {\r\n      checked: CheckedIcon,\r\n      indeterminate: IndeterminateIcon,\r\n    } = theme.checkBox.icons;\r\n\r\n    let borderColor = normalizeColor(theme.checkBox.border.color, theme);\r\n    if (checked) {\r\n      borderColor = normalizeColor(theme.checkBox.color || 'control', theme);\r\n    }\r\n\r\n    const visual = toggle ? (\r\n      <StyledCheckBoxToggle {...themeableProps}>\r\n        <StyledCheckBoxKnob {...themeableProps} />\r\n      </StyledCheckBoxToggle>\r\n    ) : (\r\n      <StyledCheckBoxBox\r\n        as={Box}\r\n        align=\"center\"\r\n        justify=\"center\"\r\n        width={theme.checkBox.size}\r\n        height={theme.checkBox.size}\r\n        border={{\r\n          size: theme.checkBox.border.width,\r\n          color: borderColor,\r\n        }}\r\n        round={theme.checkBox.check.radius}\r\n        {...themeableProps}\r\n      >\r\n        {!indeterminate &&\r\n          checked &&\r\n          (CheckedIcon ? (\r\n            <CheckedIcon theme={theme} as={StyledCheckBoxIcon} />\r\n          ) : (\r\n            <StyledCheckBoxIcon\r\n              theme={theme}\r\n              viewBox=\"0 0 24 24\"\r\n              preserveAspectRatio=\"xMidYMid meet\"\r\n              {...themeableProps}\r\n            >\r\n              <path fill=\"none\" d=\"M6,11.3 L10.3,16 L18,6.2\" />\r\n            </StyledCheckBoxIcon>\r\n          ))}\r\n        {!checked &&\r\n          indeterminate &&\r\n          (IndeterminateIcon ? (\r\n            <IndeterminateIcon theme={theme} as={StyledCheckBoxIcon} />\r\n          ) : (\r\n            <StyledCheckBoxIcon\r\n              theme={theme}\r\n              viewBox=\"0 0 24 24\"\r\n              preserveAspectRatio=\"xMidYMid meet\"\r\n              {...themeableProps}\r\n            >\r\n              <path fill=\"none\" d=\"M6,12 L18,12\" />\r\n            </StyledCheckBoxIcon>\r\n          ))}\r\n      </StyledCheckBoxBox>\r\n    );\r\n\r\n    const side = reverse ? 'left' : 'right';\r\n    const checkBoxNode = (\r\n      <StyledCheckBox\r\n        as={Box}\r\n        align=\"center\"\r\n        justify=\"center\"\r\n        margin={label && { [side]: theme.checkBox.gap || 'small' }}\r\n        {...themeableProps}\r\n      >\r\n        <StyledCheckBoxInput\r\n          {...rest}\r\n          ref={ref}\r\n          type=\"checkbox\"\r\n          {...removeUndefined({\r\n            id,\r\n            name,\r\n            checked,\r\n            disabled,\r\n          })}\r\n          {...themeableProps}\r\n          onFocus={event => {\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          }}\r\n          onBlur={event => {\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          }}\r\n          onChange={event => {\r\n            setChecked(event.target.checked);\r\n            if (onChange) onChange(event);\r\n          }}\r\n        />\r\n        {visual}\r\n        {hidden}\r\n      </StyledCheckBox>\r\n    );\r\n\r\n    const normalizedLabel =\r\n      typeof label === 'string' ? <span>{label}</span> : label;\r\n\r\n    const first = reverse ? normalizedLabel : checkBoxNode;\r\n    const second = reverse ? checkBoxNode : normalizedLabel;\r\n\r\n    return (\r\n      <StyledCheckBoxContainer\r\n        aria-label={a11yTitle}\r\n        reverse={reverse}\r\n        {...removeUndefined({ htmlFor: id, disabled })}\r\n        checked={checked}\r\n        onClick={stopLabelClick}\r\n        {...themeableProps}\r\n      >\r\n        {first}\r\n        {second}\r\n      </StyledCheckBoxContainer>\r\n    );\r\n  },\r\n);\r\n\r\nCheckBox.displayName = 'CheckBox';\r\n\r\nlet CheckBoxDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  CheckBoxDoc = require('./doc').doc(CheckBox);\r\n}\r\nconst CheckBoxWrapper = CheckBoxDoc || CheckBox;\r\n\r\nexport { CheckBoxWrapper as CheckBox };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { focusStyle, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst disabledStyle = `\r\n  opacity: 0.5;\r\n  cursor: default;\r\n`;\r\n\r\nconst hoverStyle = css`\r\n  :hover input:not([disabled]) + div,\r\n  :hover input:not([disabled]) + span {\r\n    border-color: ${props =>\r\n      normalizeColor(props.theme.checkBox.hover.border.color, props.theme)};\r\n  }\r\n`;\r\n\r\nconst StyledCheckBoxIcon = styled.svg`\r\n  box-sizing: border-box;\r\n  stroke-width: ${props => props.theme.checkBox.check.thickness};\r\n  stroke: ${props =>\r\n    normalizeColor(props.theme.checkBox.color || 'control', props.theme)};\r\n  width: ${props =>\r\n    props.theme.checkBox.icon.size || props.theme.checkBox.size};\r\n  height: ${props =>\r\n    props.theme.checkBox.icon.size || props.theme.checkBox.size};\r\n  ${props => props.theme.checkBox.icon.extend};\r\n`;\r\n\r\nStyledCheckBoxIcon.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxIcon.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBoxContainer = styled.label`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  user-select: none;\r\n  width: fit-content;\r\n  ${props => props.disabled && disabledStyle}\r\n  ${props => !props.disabled && 'cursor: pointer;'}\r\n  ${props => props.theme.checkBox.hover.border.color && hoverStyle}\r\n  ${props => props.theme.checkBox.extend}\r\n`;\r\n\r\nStyledCheckBoxContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxContainer.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBoxInput = styled.input`\r\n  opacity: 0;\r\n  -moz-appearance: none;\r\n  width: 0;\r\n  height: 0;\r\n  margin: 0;\r\n\r\n  ${props => !props.disabled && 'cursor: pointer;'} :checked + span > span {\r\n    left: calc(\r\n      ${props => props.theme.checkBox.toggle.size} -\r\n        ${props => props.theme.checkBox.size}\r\n    );\r\n    background: ${props =>\r\n      normalizeColor(props.theme.checkBox.color || 'control', props.theme)};\r\n  }\r\n`;\r\n\r\nStyledCheckBoxInput.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxInput.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBoxBox = styled.div`\r\n  ${props => props.focus && focusStyle()};\r\n  ${props => props.theme.checkBox.check.extend};\r\n`;\r\n\r\nStyledCheckBoxBox.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxBox.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBoxToggle = styled.span`\r\n  box-sizing: border-box;\r\n  vertical-align: middle;\r\n  display: inline-block;\r\n  width: ${props => props.theme.checkBox.toggle.size};\r\n  height: ${props => props.theme.checkBox.size};\r\n  border: ${props => props.theme.checkBox.border.width} solid;\r\n  border-color: ${props =>\r\n    normalizeColor(props.theme.checkBox.border.color, props.theme)};\r\n  border-radius: ${props => props.theme.checkBox.toggle.radius};\r\n  background-color: ${props =>\r\n    props.theme.checkBox.toggle.background\r\n      ? normalizeColor(props.theme.checkBox.toggle.background, props.theme)\r\n      : 'transparent'};\r\n\r\n  ${props => props.focus && focusStyle()};\r\n  ${props => props.theme.checkBox.toggle.extend};\r\n`;\r\n\r\nStyledCheckBoxToggle.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxToggle.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBoxKnob = styled.span`\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  display: inherit;\r\n  top: -${props => props.theme.checkBox.border.width};\r\n  left: -${props => props.theme.checkBox.border.width};\r\n  transition: all 0.3s;\r\n  width: ${props => props.theme.checkBox.size};\r\n  height: ${props => props.theme.checkBox.size};\r\n  background: ${props =>\r\n    normalizeColor(\r\n      props.theme.checkBox.toggle.color[props.theme.dark ? 'dark' : 'light'],\r\n      props.theme,\r\n    )};\r\n  border-radius: ${props => props.theme.checkBox.toggle.radius};\r\n  ${props => props.theme.checkBox.toggle.knob.extend};\r\n`;\r\n\r\nStyledCheckBoxKnob.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxKnob.defaultProps, defaultProps);\r\n\r\nconst StyledCheckBox = styled.div`\r\n  flex-shrink: 0;\r\n`;\r\n\r\nStyledCheckBox.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBox.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledCheckBoxIcon,\r\n  StyledCheckBoxContainer,\r\n  StyledCheckBoxInput,\r\n  StyledCheckBoxBox,\r\n  StyledCheckBoxToggle,\r\n  StyledCheckBoxKnob,\r\n  StyledCheckBox,\r\n};\r\n","import styled from 'styled-components';\r\nimport { Box } from '../Box';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst StyledCheckBoxGroup = styled(Box)`\r\n  ${props =>\r\n    props.theme.checkBoxGroup &&\r\n    props.theme.checkBoxGroup.container &&\r\n    props.theme.checkBoxGroup.container.extend}\r\n`;\r\n\r\nStyledCheckBoxGroup.defaultProps = {};\r\nObject.setPrototypeOf(StyledCheckBoxGroup.defaultProps, defaultProps);\r\n\r\nexport { StyledCheckBoxGroup };\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { normalizeColor, parseMetricToNum, useForwardedRef } from '../../utils';\r\n\r\nimport { StyledChart } from './StyledChart';\r\nimport { normalizeBounds, normalizeValues } from './utils';\r\n\r\nconst gradientMaskColor = '#ffffff';\r\n\r\n// use constants so re-renders don't re-trigger effects\r\nconst defaultSize = { height: 'small', width: 'medium' };\r\nconst defaultValues = [];\r\n\r\nconst Chart = React.forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      bounds: propsBounds,\r\n      color,\r\n      dash,\r\n      gap,\r\n      id,\r\n      onClick,\r\n      onHover,\r\n      opacity: propsOpacity,\r\n      overflow = false,\r\n      pad,\r\n      point,\r\n      round,\r\n      size: propsSize = defaultSize,\r\n      thickness = 'medium',\r\n      type = 'bar',\r\n      values: propsValues = defaultValues,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const containerRef = useForwardedRef(ref);\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n    // normalize variables\r\n\r\n    const values = useMemo(() => normalizeValues(propsValues), [propsValues]);\r\n\r\n    const bounds = useMemo(() => normalizeBounds(propsBounds, values), [\r\n      propsBounds,\r\n      values,\r\n    ]);\r\n\r\n    const strokeWidth = useMemo(\r\n      () => parseMetricToNum(theme.global.edgeSize[thickness] || thickness),\r\n      [theme.global.edgeSize, thickness],\r\n    );\r\n\r\n    const inset = useMemo(() => {\r\n      let result = [0, 0, 0, 0];\r\n      if (pad) {\r\n        if (pad.horizontal) {\r\n          const padSize = parseMetricToNum(\r\n            theme.global.edgeSize[pad.horizontal],\r\n          );\r\n          result[0] += padSize;\r\n          result[2] += padSize;\r\n        }\r\n        if (pad.vertical) {\r\n          const padSize = parseMetricToNum(theme.global.edgeSize[pad.vertical]);\r\n          result[1] += padSize;\r\n          result[3] += padSize;\r\n        }\r\n        if (typeof pad === 'string') {\r\n          const padSize = parseMetricToNum(theme.global.edgeSize[pad]);\r\n          result = [padSize, padSize, padSize, padSize];\r\n        }\r\n      }\r\n      return result;\r\n    }, [pad, theme.global.edgeSize]);\r\n\r\n    const strokeDasharray = useMemo(() => {\r\n      if (dash) {\r\n        if (round) return `${strokeWidth} ${strokeWidth * 1.5}`;\r\n        return `${strokeWidth * 2} ${strokeWidth / 2}`;\r\n      }\r\n      return undefined;\r\n    }, [dash, round, strokeWidth]);\r\n\r\n    // potentially dynamic sizing\r\n\r\n    const [containerSize, setContainerSize] = useState([0, 0]);\r\n\r\n    const needContainerSize = useMemo(\r\n      () =>\r\n        propsSize &&\r\n        (propsSize === 'full' ||\r\n          propsSize === 'fill' ||\r\n          propsSize.height === 'full' ||\r\n          propsSize.height === 'fill' ||\r\n          propsSize.width === 'full' ||\r\n          propsSize.width === 'fill'),\r\n      [propsSize],\r\n    );\r\n\r\n    const size = useMemo(() => {\r\n      const gapWidth = gap\r\n        ? parseMetricToNum(theme.global.edgeSize[gap] || gap)\r\n        : strokeWidth;\r\n\r\n      // autoWidth is how wide we'd pefer\r\n      const autoWidth =\r\n        strokeWidth * values.length + (values.length - 1) * gapWidth;\r\n\r\n      const sizeWidth =\r\n        typeof propsSize === 'string'\r\n          ? propsSize\r\n          : propsSize.width || defaultSize.width;\r\n      let width;\r\n      if (sizeWidth === 'full' || sizeWidth === 'fill') {\r\n        [width] = containerSize;\r\n      } else if (sizeWidth === 'auto') {\r\n        width = autoWidth;\r\n      } else {\r\n        width = parseMetricToNum(theme.global.size[sizeWidth] || sizeWidth);\r\n      }\r\n\r\n      const sizeHeight =\r\n        typeof propsSize === 'string'\r\n          ? propsSize\r\n          : propsSize.height || defaultSize.height;\r\n      let height;\r\n      if (sizeHeight === 'full' || sizeHeight === 'fill') {\r\n        [, height] = containerSize;\r\n      } else {\r\n        height = parseMetricToNum(theme.global.size[sizeHeight] || sizeHeight);\r\n      }\r\n\r\n      return [width, height];\r\n    }, [\r\n      containerSize,\r\n      gap,\r\n      propsSize,\r\n      strokeWidth,\r\n      theme.global.edgeSize,\r\n      theme.global.size,\r\n      values,\r\n    ]);\r\n\r\n    const scale = useMemo(\r\n      () => [\r\n        (size[0] - (inset[0] + inset[2])) / (bounds[0][1] - bounds[0][0]),\r\n        (size[1] - (inset[1] + inset[3])) / (bounds[1][1] - bounds[1][0]),\r\n      ],\r\n      [bounds, inset, size],\r\n    );\r\n\r\n    const viewBounds = useMemo(\r\n      () =>\r\n        overflow\r\n          ? [0, 0, size[0], size[1]]\r\n          : [\r\n              -(strokeWidth / 2),\r\n              -(strokeWidth / 2),\r\n              size[0] + strokeWidth,\r\n              size[1] + strokeWidth,\r\n            ],\r\n      [overflow, size, strokeWidth],\r\n    );\r\n\r\n    const useGradient = color && Array.isArray(color);\r\n\r\n    // set container size when we get ref or when size changes\r\n    useLayoutEffect(() => {\r\n      if (containerRef.current && needContainerSize) {\r\n        const containerNode = containerRef.current;\r\n        if (containerNode) {\r\n          const { parentNode } = containerNode;\r\n          if (parentNode) {\r\n            const rect = parentNode.getBoundingClientRect();\r\n            if (\r\n              rect.width !== containerSize[0] ||\r\n              rect.height !== containerSize[1]\r\n            ) {\r\n              setContainerSize([rect.width, rect.height]);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, [containerRef, containerSize, needContainerSize]);\r\n\r\n    // container size, if needed\r\n    useEffect(() => {\r\n      const onResize = () => {\r\n        const { parentNode } = containerRef.current;\r\n        const rect = parentNode.getBoundingClientRect();\r\n        setContainerSize([rect.width, rect.height]);\r\n      };\r\n\r\n      if (needContainerSize) {\r\n        window.addEventListener('resize', onResize);\r\n        return () => window.removeEventListener('resize', onResize);\r\n      }\r\n      return undefined;\r\n    }, [containerRef, needContainerSize]);\r\n\r\n    // Converts values to drawing coordinates.\r\n    // Takes into account the bounds, any inset, and the scale.\r\n    const valueToCoordinate = (xValue, yValue) => {\r\n      return [\r\n        (xValue - bounds[0][0]) * scale[0] + inset[0],\r\n        size[1] - ((yValue - bounds[1][0]) * scale[1] + inset[1]),\r\n      ];\r\n    };\r\n\r\n    const renderBars = () =>\r\n      (values || [])\r\n        .filter(({ value }) => value[1] !== undefined)\r\n        .map((valueArg, index) => {\r\n          const {\r\n            color: valueColor,\r\n            label,\r\n            onHover: valueOnHover,\r\n            opacity: valueOpacity,\r\n            thickness: valueThickness,\r\n            value,\r\n            ...valueRest\r\n          } = valueArg;\r\n\r\n          const key = `p-${index}`;\r\n          // Math.min/max are to handle negative values\r\n          const bottom =\r\n            value.length === 2\r\n              ? Math.min(Math.max(0, bounds[1][0]), value[1])\r\n              : Math.min(value[1], value[2]);\r\n          const top =\r\n            value.length === 2\r\n              ? Math.max(Math.min(0, bounds[1][1]), value[1])\r\n              : Math.max(value[1], value[2]);\r\n          const d =\r\n            `M ${valueToCoordinate(value[0], bottom).join(',')}` +\r\n            ` L ${valueToCoordinate(value[0], top).join(',')}`;\r\n\r\n          let hoverProps;\r\n          if (valueOnHover) {\r\n            hoverProps = {\r\n              onMouseOver: () => valueOnHover(true),\r\n              onMouseLeave: () => valueOnHover(false),\r\n            };\r\n          }\r\n          let clickProps;\r\n          if (onClick) {\r\n            clickProps = { onClick };\r\n          }\r\n\r\n          return (\r\n            <g\r\n              key={key}\r\n              fill=\"none\"\r\n              stroke={\r\n                valueColor ? normalizeColor(valueColor, theme) : undefined\r\n              }\r\n              strokeWidth={\r\n                valueThickness\r\n                  ? parseMetricToNum(\r\n                      theme.global.edgeSize[valueThickness] || valueThickness,\r\n                    )\r\n                  : undefined\r\n              }\r\n              opacity={\r\n                (valueOpacity && theme.global.opacity[valueOpacity]) ||\r\n                valueOpacity\r\n              }\r\n            >\r\n              <title>{label}</title>\r\n              <path\r\n                d={d}\r\n                {...hoverProps}\r\n                {...clickProps}\r\n                {...valueRest}\r\n                strokeDasharray={strokeDasharray}\r\n              />\r\n            </g>\r\n          );\r\n        });\r\n\r\n    const renderLine = () => {\r\n      let d = '';\r\n      let d2 = '';\r\n      (values || [])\r\n        .filter(({ value }) => value[1] !== undefined)\r\n        .forEach(({ value }) => {\r\n          d += `${d ? ' L' : 'M'} ${valueToCoordinate(value[0], value[1]).join(\r\n            ',',\r\n          )}`;\r\n          if (value[2] !== undefined) {\r\n            d2 += `${d2 ? ' L' : 'M'} ${valueToCoordinate(\r\n              value[0],\r\n              value[2],\r\n            ).join(',')}`;\r\n          }\r\n        });\r\n\r\n      let hoverProps;\r\n      if (onHover) {\r\n        hoverProps = {\r\n          onMouseOver: () => onHover(true),\r\n          onMouseLeave: () => onHover(false),\r\n        };\r\n      }\r\n      let clickProps;\r\n      if (onClick) {\r\n        clickProps = { onClick };\r\n      }\r\n\r\n      return (\r\n        <g fill=\"none\">\r\n          <path\r\n            d={d}\r\n            {...hoverProps}\r\n            {...clickProps}\r\n            strokeDasharray={strokeDasharray}\r\n          />\r\n          {d2 && (\r\n            <path\r\n              d={d2}\r\n              {...hoverProps}\r\n              {...clickProps}\r\n              strokeDasharray={strokeDasharray}\r\n            />\r\n          )}\r\n        </g>\r\n      );\r\n    };\r\n\r\n    const renderArea = () => {\r\n      let d = '';\r\n      (values || [])\r\n        .filter(({ value }) => value[1] !== undefined)\r\n        .forEach(({ value }, index) => {\r\n          d += `${!index ? 'M' : ' L'} ${valueToCoordinate(\r\n            value[0],\r\n            value[value.length === 2 ? 1 : 2],\r\n          ).join(',')}`;\r\n        });\r\n      (values || [])\r\n        .reverse()\r\n        .filter(({ value }) => value[1] !== undefined)\r\n        .forEach(({ value }) => {\r\n          d += ` L ${valueToCoordinate(\r\n            value[0],\r\n            // Math.max() is to account for value[1] being negative\r\n            value.length === 2 ? Math.max(0, bounds[1][0]) : value[1],\r\n          ).join(',')}`;\r\n        });\r\n      if (d.length > 0) {\r\n        d += ' Z';\r\n      }\r\n\r\n      let hoverProps;\r\n      if (onHover) {\r\n        hoverProps = {\r\n          onMouseOver: () => onHover(true),\r\n          onMouseLeave: () => onHover(false),\r\n        };\r\n      }\r\n      let clickProps;\r\n      if (onClick) {\r\n        clickProps = { onClick };\r\n      }\r\n\r\n      return (\r\n        <g>\r\n          <path d={d} {...hoverProps} {...clickProps} />\r\n        </g>\r\n      );\r\n    };\r\n\r\n    const renderPoints = () =>\r\n      (values || [])\r\n        .filter(({ value }) => value[1] !== undefined)\r\n        .map((valueArg, index) => {\r\n          const {\r\n            color: valueColor,\r\n            label,\r\n            onHover: valueOnHover,\r\n            opacity: valueOpacity,\r\n            thickness: valueThickness,\r\n            value,\r\n            ...valueRest\r\n          } = valueArg;\r\n\r\n          const key = `p-${index}`;\r\n\r\n          let hoverProps;\r\n          if (valueOnHover) {\r\n            hoverProps = {\r\n              onMouseOver: () => valueOnHover(true),\r\n              onMouseLeave: () => valueOnHover(false),\r\n            };\r\n          }\r\n          let clickProps;\r\n          if (onClick) {\r\n            clickProps = { onClick };\r\n          }\r\n\r\n          const width = valueThickness\r\n            ? parseMetricToNum(\r\n                theme.global.edgeSize[valueThickness] || valueThickness,\r\n              )\r\n            : strokeWidth;\r\n\r\n          const renderPoint = (valueX, valueY) => {\r\n            const props = { ...hoverProps, ...clickProps, ...valueRest };\r\n            const [cx, cy] = valueToCoordinate(valueX, valueY);\r\n            const off = width / 2;\r\n            if (point === 'circle' || (!point && round))\r\n              return <circle cx={cx} cy={cy} r={off} {...props} />;\r\n            let d;\r\n            if (point === 'diamond')\r\n              d = `M ${cx} ${cy - off} L ${cx + off} ${cy} L ${cx} ${cy +\r\n                off} L ${cx - off} ${cy} Z`;\r\n            else if (point === 'star') {\r\n              const off1 = off / 3;\r\n              const off2 = off1 * 2;\r\n              d = `M ${cx} ${cy - off} L ${cx - off2} ${cy + off} L ${cx +\r\n                off} ${cy - off1} L ${cx - off} ${cy - off1} L ${cx +\r\n                off2} ${cy + off} Z`;\r\n            } else if (point === 'triangle')\r\n              d = `M ${cx} ${cy - off} L ${cx + off} ${cy + off} L ${cx -\r\n                off} ${cy + off} Z`;\r\n            else if (point === 'triangleDown')\r\n              d = `M ${cx - off} ${cy - off} L ${cx + off} ${cy -\r\n                off} L ${cx} ${cy + off} Z`;\r\n            // square\r\n            else\r\n              d = `M ${cx - off} ${cy - off} L ${cx + off} ${cy - off} L ${cx +\r\n                off} ${cy + off} L ${cx - off} ${cy + off} Z`;\r\n            return <path d={d} />;\r\n          };\r\n\r\n          return (\r\n            <g\r\n              key={key}\r\n              stroke=\"none\"\r\n              fill={valueColor ? normalizeColor(valueColor, theme) : undefined}\r\n              opacity={\r\n                (valueOpacity && theme.global.opacity[valueOpacity]) ||\r\n                valueOpacity\r\n              }\r\n            >\r\n              <title>{label}</title>\r\n              {renderPoint(value[0], value[1])}\r\n              {value[2] !== undefined && renderPoint(value[0], value[2])}\r\n            </g>\r\n          );\r\n        });\r\n\r\n    let contents;\r\n    if (type === 'bar') {\r\n      contents = renderBars();\r\n    } else if (type === 'line') {\r\n      contents = renderLine();\r\n    } else if (type === 'area') {\r\n      contents = renderArea();\r\n    } else if (type === 'point') {\r\n      contents = renderPoints();\r\n    }\r\n\r\n    const viewBox = viewBounds.join(' ');\r\n    let colorName;\r\n    if (!useGradient) {\r\n      if (color && color.color) colorName = color.color;\r\n      else if (color) colorName = color;\r\n      else if (theme.chart && theme.chart.color) colorName = theme.chart.color;\r\n    }\r\n    const opacity =\r\n      propsOpacity || (color && color.opacity)\r\n        ? theme.global.opacity[propsOpacity || color.opacity] ||\r\n          propsOpacity ||\r\n          color.opacity\r\n        : undefined;\r\n\r\n    let stroke;\r\n    if (type !== 'point') {\r\n      if (useGradient) stroke = gradientMaskColor;\r\n      else stroke = normalizeColor(colorName, theme);\r\n    } else stroke = 'none';\r\n\r\n    let fill;\r\n    if (type === 'point' || type === 'area') {\r\n      if (useGradient) fill = gradientMaskColor;\r\n      else fill = normalizeColor(colorName, theme);\r\n    } else fill = 'none';\r\n\r\n    const drawing = (\r\n      <g\r\n        stroke={stroke}\r\n        strokeWidth={type !== 'point' ? strokeWidth : undefined}\r\n        fill={fill}\r\n        strokeLinecap={round ? 'round' : 'butt'}\r\n        strokeLinejoin={round ? 'round' : 'miter'}\r\n        opacity={opacity}\r\n      >\r\n        {contents}\r\n      </g>\r\n    );\r\n\r\n    let defs;\r\n    let gradientRect;\r\n    if (useGradient && size[1]) {\r\n      const uniqueGradientId = color.map(element => element.color).join('-');\r\n      const gradientId = `${uniqueGradientId}-${id}-gradient`;\r\n      const maskId = `${uniqueGradientId}-${id}-mask`;\r\n      defs = (\r\n        <defs>\r\n          <linearGradient id={gradientId} x1={0} y1={0} x2={0} y2={1}>\r\n            {color\r\n              .sort((c1, c2) => c2.value - c1.value)\r\n              .map(({ value, color: gradientColor }) => (\r\n                <stop\r\n                  key={value}\r\n                  offset={\r\n                    // TODO:\r\n                    (size[1] - (value - bounds[1][0]) * scale[1]) / size[1]\r\n                  }\r\n                  stopColor={normalizeColor(gradientColor, theme)}\r\n                />\r\n              ))}\r\n          </linearGradient>\r\n          <mask id={maskId}>{drawing}</mask>\r\n        </defs>\r\n      );\r\n\r\n      gradientRect = (\r\n        <rect\r\n          x={viewBounds[0]}\r\n          y={viewBounds[1]}\r\n          width={viewBounds[2]}\r\n          height={viewBounds[3]}\r\n          fill={`url(#${gradientId})`}\r\n          mask={`url(#${maskId})`}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <StyledChart\r\n        ref={containerRef}\r\n        id={id}\r\n        aria-label={a11yTitle}\r\n        viewBox={viewBox}\r\n        preserveAspectRatio=\"none\"\r\n        width={size === 'full' ? '100%' : size[0]}\r\n        height={size === 'full' ? '100%' : size[1]}\r\n        typeProp={type} // prevent adding to DOM\r\n        {...rest}\r\n      >\r\n        {defs}\r\n        {useGradient ? gradientRect : drawing}\r\n      </StyledChart>\r\n    );\r\n  },\r\n);\r\n\r\nChart.displayName = 'Chart';\r\n\r\nlet ChartDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ChartDoc = require('./doc').doc(Chart); // eslint-disable-line global-require\r\n}\r\nconst ChartWrapper = ChartDoc || Chart;\r\n\r\nexport { ChartWrapper as Chart };\r\n","import styled, { css, keyframes } from 'styled-components';\r\n\r\nimport { genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst animateStyle = ({ theme, typeProp }) => {\r\n  let animateBounds;\r\n  if (typeProp === 'line')\r\n    // 200% allows the line to be squiggly\r\n    animateBounds = ['stroke-dashoffset: 200%;', 'stroke-dashoffset: 0%;'];\r\n  else if (typeProp === 'point') animateBounds = ['opacity: 0;', 'opacity: 1;'];\r\n  else animateBounds = ['transform: scaleY(0);', 'transform: scaleY(1);'];\r\n  return css`\r\n    ${typeProp === 'line' && 'stroke-dasharray: 200%;'}\r\n    animation:\r\n    ${keyframes`from { ${animateBounds[0]} } to { ${animateBounds[1]} }`}\r\n    ${theme.global.animation.duration}\r\n    forwards;\r\n    ${(typeProp === 'bar' || typeProp === 'area') &&\r\n      'transform-origin: center bottom 0;'}\r\n  `;\r\n};\r\n\r\nconst StyledChart = styled.svg`\r\n  display: block;\r\n  max-width: 100%;\r\n  overflow: visible;\r\n\r\n  ${genericStyles}\r\n  ${props => props.animate && animateStyle(props)}\r\n  ${props => props.theme.chart && props.theme.chart.extend};\r\n`;\r\n\r\nStyledChart.defaultProps = {};\r\nObject.setPrototypeOf(StyledChart.defaultProps, defaultProps);\r\n\r\nexport { StyledChart };\r\n","import { normalizeValues } from './utils';\r\n\r\nconst thicknessPad = {\r\n  xlarge: 'large',\r\n  large: 'medium',\r\n  medium: 'small',\r\n  small: 'xsmall',\r\n  xsmall: 'xxsmall',\r\n};\r\n\r\nexport const round = (value, decimals) =>\r\n  Number(`${Math.round(`${value}e${decimals}`)}e-${decimals}`);\r\n\r\nconst alignMax = (value, interval) => {\r\n  if (value > 0) return value - (value % interval) + interval;\r\n  if (value < 0) return value + (value % interval);\r\n  return value;\r\n};\r\n\r\nconst alignMin = (value, interval) => {\r\n  if (value > 0) return value - (value % interval);\r\n  if (value < 0) return value - (value % interval) - interval;\r\n  return value;\r\n};\r\n\r\nexport const calcBounds = (values, options = {}) => {\r\n  // coarseness influences the rounding of the bounds, the smaller the\r\n  // number, the more the bounds will be rounded. e.g. 111 -> 110 -> 100\r\n  // Normalize to an array. Backwards compatible has no coarseness for x-axis\r\n  const coarseness = (Array.isArray(options.coarseness) &&\r\n    options.coarseness) ||\r\n    (options.coarseness && [undefined, options.coarseness]) || [undefined, 5];\r\n  // the number of steps is one less than the number of labels\r\n  const steps = options.steps || [1, 1];\r\n  const calcValues = normalizeValues(values || []);\r\n\r\n  // min and max values\r\n  let minX;\r\n  let maxX;\r\n  let minY;\r\n  let maxY;\r\n  if (calcValues.length) {\r\n    // Calculate the max and min values.\r\n    calcValues\r\n      .filter(value => value !== undefined)\r\n      .forEach(value => {\r\n        const x = value.value[0];\r\n        if (x !== undefined) {\r\n          minX = minX === undefined ? x : Math.min(minX, x);\r\n          maxX = maxX === undefined ? x : Math.max(maxX, x);\r\n        }\r\n        const y = value.value[1];\r\n        if (y !== undefined) {\r\n          minY = minY === undefined ? y : Math.min(minY, y);\r\n          maxY = maxY === undefined ? y : Math.max(maxY, y);\r\n        }\r\n        // handle ranges of values\r\n        const y2 = value.value[2];\r\n        if (y2 !== undefined) {\r\n          minY = Math.min(minY, y2);\r\n          maxY = Math.max(maxY, y2);\r\n        }\r\n      });\r\n\r\n    // when max === min, offset them so we can show something\r\n    if (maxX === minX) {\r\n      if (maxX > 0) minX = maxX - 1;\r\n      else maxX = minX + 1;\r\n    }\r\n    if (maxY === minY) {\r\n      if (maxY > 0) minY = maxY - 1;\r\n      else maxY = minY + 1;\r\n    }\r\n\r\n    // Calculate some reasonable bounds based on the max and min values.\r\n    // This is so values like 87342.12 don't end up being displayed as the\r\n    // graph axis labels.\r\n    const [cX, cY] = coarseness;\r\n    if (cX) {\r\n      const deltaX = maxX - minX;\r\n      const intervalX = Number.parseFloat((deltaX / cX).toPrecision(1));\r\n      minX = alignMin(minX, intervalX);\r\n      maxX = alignMax(maxX, intervalX);\r\n    }\r\n    if (cY) {\r\n      const deltaY = maxY - minY;\r\n      const intervalY = Number.parseFloat((deltaY / cY).toPrecision(1));\r\n      minY = alignMin(minY, intervalY);\r\n      maxY = alignMax(maxY, intervalY);\r\n    }\r\n\r\n    if (minY < 0 && maxY > 0 && Math.abs(minY) !== Math.abs(maxY)) {\r\n      // Adjust min and max when crossing 0 to ensure 0 will be shown on\r\n      // the Y axis based on the number of steps.\r\n\r\n      // const ratio = Math.abs(max) / Math.abs(min);\r\n      let stepInterval = (maxY - minY) / steps[1];\r\n      const minSteps = minY / stepInterval;\r\n      const maxSteps = maxY / stepInterval;\r\n      if (Math.abs(minSteps) < Math.abs(maxSteps)) {\r\n        stepInterval = maxY / Math.floor(maxSteps);\r\n        maxY = stepInterval * Math.floor(maxSteps);\r\n        minY = stepInterval * Math.floor(minSteps);\r\n      } else {\r\n        stepInterval = Math.abs(minY / Math.ceil(minSteps));\r\n        minY = stepInterval * Math.ceil(minSteps);\r\n        maxY = stepInterval * Math.ceil(maxSteps);\r\n      }\r\n    }\r\n  }\r\n\r\n  let bounds;\r\n  if (calcValues.length)\r\n    bounds = [\r\n      [minX, maxX],\r\n      [minY, maxY],\r\n    ];\r\n  else bounds = [[], []];\r\n  return bounds;\r\n};\r\n\r\nexport const calcs = (values = [], options = {}) => {\r\n  // the number of steps is one less than the number of labels\r\n  const steps = options.steps || [1, 1];\r\n  const bounds = options.bounds || calcBounds(values, options);\r\n  if (options.min !== undefined) bounds[1][0] = options.min;\r\n  if (options.max !== undefined) bounds[1][1] = options.max;\r\n\r\n  const dimensions = [\r\n    round(bounds[0][1] - bounds[0][0], 2),\r\n    round(bounds[1][1] - bounds[1][0], 2),\r\n  ];\r\n\r\n  // Calculate x and y axis values across the specfied number of steps.\r\n  const yAxis = [];\r\n  let y = bounds[1][1];\r\n  // To deal with javascript math limitations, round the step with 4 decimal\r\n  // places and then push the values with 2 decimal places\r\n  const yStepInterval = round(dimensions[1] / steps[1], 4);\r\n  while (round(y, 2) >= bounds[1][0]) {\r\n    yAxis.push(round(y, 2));\r\n    y -= yStepInterval;\r\n  }\r\n\r\n  const xAxis = [];\r\n  let x = bounds[0][0];\r\n  const xStepInterval = round(dimensions[0] / steps[0], 4);\r\n  while (round(x, 2) <= bounds[0][1]) {\r\n    xAxis.push(round(x, 2));\r\n    x += xStepInterval;\r\n  }\r\n\r\n  let { thickness } = options;\r\n  if (!thickness) {\r\n    // Set bar thickness based on number of values being rendered.\r\n    // Someday, it would be better to include the actual rendered size.\r\n    // These values were emirically determined, trying to balance visibility\r\n    // and overlap across resolutions.\r\n    if (values.length < 5) {\r\n      thickness = 'xlarge';\r\n    } else if (values.length < 11) {\r\n      thickness = 'large';\r\n    } else if (values.length < 21) {\r\n      thickness = 'medium';\r\n    } else if (values.length < 61) {\r\n      thickness = 'small';\r\n    } else if (values.length < 121) {\r\n      thickness = 'xsmall';\r\n    } else {\r\n      thickness = 'hair';\r\n    }\r\n  }\r\n\r\n  const pad = thicknessPad[thickness];\r\n\r\n  return { axis: [xAxis, yAxis], bounds, dimensions, pad, thickness };\r\n};\r\n","export { Clock } from './Clock';\r\n","import React, { forwardRef, useEffect, useState } from 'react';\r\n\r\nimport { Analog } from './Analog';\r\nimport { Digital } from './Digital';\r\n\r\nconst TIME_REGEXP = /T([0-9]{2}):([0-9]{2})(?::([0-9.,]{2,}))?/;\r\nconst DURATION_REGEXP = /^(-|\\+)?P.*T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?$/;\r\n\r\nconst parseTime = (time, hourLimit) => {\r\n  const result = {};\r\n  if (time) {\r\n    let match = DURATION_REGEXP.exec(time);\r\n    if (match) {\r\n      result.hours = parseFloat(match[2]);\r\n      if (hourLimit === 12) {\r\n        result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\r\n      }\r\n      result.minutes = parseFloat(match[3]) || 0;\r\n      result.seconds = parseFloat(match[4]) || 0;\r\n      result.duration = true;\r\n    } else {\r\n      match = TIME_REGEXP.exec(time);\r\n      if (match) {\r\n        result.hours = parseFloat(match[1]);\r\n        if (hourLimit === 12) {\r\n          result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\r\n        }\r\n        result.minutes = parseFloat(match[2]) || 0;\r\n        result.seconds = parseFloat(match[3]) || 0;\r\n      } else {\r\n        console.error(`Grommet Clock cannot parse '${time}'`);\r\n      }\r\n    }\r\n  } else {\r\n    const date = new Date();\r\n    result.hours = date.getHours();\r\n    result.minutes = date.getMinutes();\r\n    result.seconds = date.getSeconds();\r\n  }\r\n  return result;\r\n};\r\n\r\nconst Clock = forwardRef(\r\n  (\r\n    {\r\n      hourLimit = 24,\r\n      onChange,\r\n      precision = 'seconds',\r\n      run = 'forward',\r\n      size = 'medium',\r\n      time,\r\n      type = 'analog',\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [elements, setElements] = useState(parseTime(time, hourLimit));\r\n    useEffect(() => setElements(parseTime(time, hourLimit)), [hourLimit, time]);\r\n\r\n    useEffect(() => {\r\n      const atDurationEnd =\r\n        run === 'backward' &&\r\n        elements.duration &&\r\n        !elements.hours &&\r\n        !elements.minutes &&\r\n        !elements.seconds;\r\n\r\n      if (run && !atDurationEnd) {\r\n        // set the interval time based on the precision\r\n        let interval = 1000;\r\n        let increment = 'seconds';\r\n        if (precision !== 'seconds' && elements.seconds === 0) {\r\n          interval *= 60;\r\n          increment = 'minutes';\r\n          if (precision !== 'minutes' && elements.minutes === 0) {\r\n            interval *= 60;\r\n            increment = 'hours';\r\n          }\r\n        }\r\n\r\n        const timer = setInterval(() => {\r\n          const nextElements = { ...elements };\r\n          // adjust time based on precision\r\n          if (increment === 'seconds') {\r\n            if (run === 'backward') {\r\n              nextElements.seconds -= 1;\r\n            } else {\r\n              nextElements.seconds += 1;\r\n            }\r\n          } else if (increment === 'minutes') {\r\n            if (run === 'backward') {\r\n              nextElements.minutes -= 1;\r\n            } else {\r\n              nextElements.minutes += 1;\r\n            }\r\n          } else if (increment === 'hours') {\r\n            if (run === 'backward') {\r\n              nextElements.hours -= 1;\r\n            } else {\r\n              nextElements.hours += 1;\r\n            }\r\n          }\r\n\r\n          // deal with overflows\r\n          if (nextElements.seconds >= 60) {\r\n            nextElements.minutes += Math.floor(nextElements.seconds / 60);\r\n            nextElements.seconds = 0;\r\n          } else if (nextElements.seconds < 0) {\r\n            nextElements.minutes += Math.floor(nextElements.seconds / 60);\r\n            nextElements.seconds = 59;\r\n          }\r\n          if (nextElements.minutes >= 60) {\r\n            nextElements.hours += Math.floor(nextElements.minutes / 60);\r\n            nextElements.minutes = 0;\r\n          } else if (nextElements.minutes < 0) {\r\n            nextElements.hours += Math.floor(nextElements.minutes / 60);\r\n            nextElements.minutes = 59;\r\n          }\r\n          if (nextElements.hours >= 24 || nextElements.hours < 0) {\r\n            nextElements.hours = 0;\r\n          }\r\n          if (hourLimit === 12) {\r\n            nextElements.hours12 =\r\n              nextElements.hours > 12\r\n                ? nextElements.hours - 12\r\n                : nextElements.hours;\r\n          }\r\n\r\n          setElements(nextElements);\r\n\r\n          if (onChange) {\r\n            const e = nextElements;\r\n            if (e.duration) {\r\n              onChange(`P${e.hours}H${e.minutes}M${e.seconds}S`);\r\n            } else {\r\n              onChange(`T${e.hours}:${e.minutes}:${e.seconds}`);\r\n            }\r\n          }\r\n        }, interval);\r\n\r\n        return () => clearInterval(timer);\r\n      }\r\n\r\n      return undefined;\r\n    }, [elements, hourLimit, onChange, precision, run]);\r\n\r\n    let content;\r\n    if (type === 'analog') {\r\n      content = (\r\n        <Analog\r\n          ref={ref}\r\n          elements={elements}\r\n          precision={precision}\r\n          size={size}\r\n          {...rest}\r\n        />\r\n      );\r\n    } else if (type === 'digital') {\r\n      content = (\r\n        <Digital\r\n          ref={ref}\r\n          elements={elements}\r\n          precision={precision}\r\n          run={run}\r\n          size={size}\r\n          {...rest}\r\n        />\r\n      );\r\n    }\r\n\r\n    return content;\r\n  },\r\n);\r\n\r\nClock.displayName = 'Clock';\r\n\r\nlet ClockDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ClockDoc = require('./doc').doc(Clock); // eslint-disable-line global-require\r\n}\r\nconst ClockWrapper = ClockDoc || Clock;\r\n\r\nexport { ClockWrapper as Clock };\r\n","import React, { forwardRef, useContext, useMemo } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { parseMetricToNum } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport {\r\n  StyledAnalog,\r\n  StyledHour,\r\n  StyledMinute,\r\n  StyledSecond,\r\n} from './StyledClock';\r\n\r\n// this will serve both minutes and hours (360 / 6)\r\nconst ANGLE_UNIT = 6;\r\n// 360 / 12\r\nconst HOUR_ANGLE_UNIT = 30;\r\n\r\nconst getClockDimensions = theme => ({\r\n  size: parseMetricToNum(theme.clock.analog.size.medium),\r\n  secondSize: parseMetricToNum(theme.clock.analog.second.size),\r\n  minuteSize: parseMetricToNum(theme.clock.analog.minute.size),\r\n  hourSize: parseMetricToNum(theme.clock.analog.hour.size),\r\n});\r\n\r\nconst getClockState = ({ hours, minutes, seconds }) => {\r\n  const hour12 = hours > 12 ? hours - 12 : hours;\r\n  const minuteAngle = minutes * ANGLE_UNIT;\r\n\r\n  return {\r\n    // offset hour angle by half of the minute angle so that it gets closer\r\n    // to the next hour\r\n    hourAngle: hour12 * HOUR_ANGLE_UNIT + minutes / 2,\r\n    minuteAngle,\r\n    secondAngle: seconds * ANGLE_UNIT,\r\n  };\r\n};\r\n\r\nconst Analog = forwardRef(({ elements, precision, ...rest }, ref) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const { hourAngle, minuteAngle, secondAngle } = useMemo(\r\n    () => getClockState(elements),\r\n    [elements],\r\n  );\r\n  const { size, secondSize, minuteSize, hourSize } = useMemo(\r\n    () => getClockDimensions(theme),\r\n    [theme],\r\n  );\r\n  const halfSize = size / 2;\r\n\r\n  let secondHand;\r\n  if (precision === 'seconds') {\r\n    secondHand = (\r\n      <StyledSecond\r\n        x1={halfSize}\r\n        y1={halfSize}\r\n        x2={halfSize}\r\n        y2={secondSize}\r\n        stroke=\"#000000\"\r\n        strokeLinecap={theme.clock.analog.second.shape}\r\n        style={{\r\n          transform: `rotate(${secondAngle}deg)`,\r\n          transformOrigin: `${halfSize}px ${halfSize}px`,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  let minuteHand;\r\n  if (precision === 'seconds' || precision === 'minutes') {\r\n    minuteHand = (\r\n      <StyledMinute\r\n        x1={halfSize}\r\n        y1={halfSize}\r\n        x2={halfSize}\r\n        y2={minuteSize}\r\n        stroke=\"#000000\"\r\n        strokeLinecap={theme.clock.analog.minute.shape}\r\n        style={{\r\n          transform: `rotate(${minuteAngle}deg)`,\r\n          transformOrigin: `${halfSize}px ${halfSize}px`,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <StyledAnalog\r\n      ref={ref}\r\n      version=\"1.1\"\r\n      width={size}\r\n      height={size}\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n      viewBox={`0 0 ${size} ${size}`}\r\n      {...rest}\r\n    >\r\n      {secondHand}\r\n      {minuteHand}\r\n      <StyledHour\r\n        x1={halfSize}\r\n        y1={halfSize}\r\n        x2={halfSize}\r\n        y2={hourSize}\r\n        stroke=\"#000000\"\r\n        strokeLinecap={theme.clock.analog.hour.shape}\r\n        style={{\r\n          transform: `rotate(${hourAngle}deg)`,\r\n          transformOrigin: `${halfSize}px ${halfSize}px`,\r\n        }}\r\n      />\r\n    </StyledAnalog>\r\n  );\r\n});\r\n\r\nAnalog.displayName = 'Analog';\r\n\r\nexport { Analog };\r\n","import React, { forwardRef, useEffect, useState } from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nimport {\r\n  StyledDigitalDigit,\r\n  StyledDigitalNext,\r\n  StyledDigitalPrevious,\r\n} from './StyledClock';\r\n\r\nconst Digit = ({ number, run, size }) => {\r\n  const [previous, setPrevious] = useState(number);\r\n  const [changing, setChanging] = useState();\r\n\r\n  useEffect(() => {\r\n    if (number !== previous) {\r\n      setChanging(true);\r\n      const timer = setTimeout(() => {\r\n        setPrevious(number);\r\n        setChanging(false);\r\n      }, 900);\r\n      return () => clearTimeout(timer);\r\n    }\r\n    return undefined;\r\n  }, [number, previous]);\r\n\r\n  if (changing) {\r\n    const direction = run === 'backward' ? 'down' : 'up';\r\n    return (\r\n      <StyledDigitalDigit size={size}>\r\n        <StyledDigitalPrevious direction={direction}>\r\n          {Math.floor(previous)}\r\n        </StyledDigitalPrevious>\r\n        <StyledDigitalNext direction={direction}>\r\n          {Math.floor(number)}\r\n        </StyledDigitalNext>\r\n      </StyledDigitalDigit>\r\n    );\r\n  }\r\n  return (\r\n    <StyledDigitalDigit size={size}>{Math.floor(number)}</StyledDigitalDigit>\r\n  );\r\n};\r\n\r\nconst Element = ({ number, run, sep, size }) => {\r\n  const tens = Math.floor(number / 10);\r\n  const ones = number % 10;\r\n  const result = [\r\n    <Digit key=\"tens\" run={run} size={size} number={tens} />,\r\n    <Digit key=\"ones\" run={run} size={size} number={ones} />,\r\n  ];\r\n  if (sep) {\r\n    result.unshift(\r\n      <StyledDigitalDigit key=\"sep\" size={size}>\r\n        :\r\n      </StyledDigitalDigit>,\r\n    );\r\n  }\r\n  return result;\r\n};\r\n\r\nexport const Digital = forwardRef((props, ref) => {\r\n  const { elements, precision, run, size, ...rest } = props;\r\n  let seconds;\r\n  if (precision === 'seconds') {\r\n    seconds = <Element number={elements.seconds} run={run} size={size} sep />;\r\n  }\r\n  let minutes;\r\n  if (precision === 'minutes' || precision === 'seconds') {\r\n    minutes = <Element number={elements.minutes} run={run} size={size} sep />;\r\n  }\r\n  return (\r\n    <Box ref={ref} direction=\"row\" {...rest}>\r\n      <Element\r\n        number={elements.hours12 || elements.hours}\r\n        run={run}\r\n        size={size}\r\n      />\r\n      {minutes}\r\n      {seconds}\r\n    </Box>\r\n  );\r\n});\r\n","export { DataChart } from './DataChart';\r\n","import React, {\r\n  forwardRef,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { Box } from '../Box';\r\nimport { Chart, calcs, calcBounds } from '../Chart';\r\nimport { Grid } from '../Grid';\r\nimport { Stack } from '../Stack';\r\nimport { Detail } from './Detail';\r\nimport { Legend } from './Legend';\r\nimport { XAxis } from './XAxis';\r\nimport { YAxis } from './YAxis';\r\nimport { XGuide } from './XGuide';\r\nimport { YGuide } from './YGuide';\r\nimport { createDateFormat, halfPad, heightYGranularity, points } from './utils';\r\n\r\n// DataChart takes a generic data array of objects plus as few properties\r\n// as possible, and creates a Stack of Charts with x and y axes, a legend,\r\n// and interactive detail.\r\n// Much of the code here-in involves the \"few properties\" aspect where we\r\n// normalize and automatically handle whatever the caller didn't specify.\r\n\r\nconst DataChart = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      axis: axisProp = true,\r\n      bounds: boundsProp = 'align',\r\n      chart,\r\n      data = [],\r\n      detail,\r\n      gap = 'small',\r\n      guide: guideProp,\r\n      legend,\r\n      pad: padProp,\r\n      series: seriesProp,\r\n      size,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    // legend interaction, if any\r\n    const [activeProperty, setActiveProperty] = useState();\r\n\r\n    // refs used for ie11 not having Grid\r\n    const xRef = useRef();\r\n    const spacerRef = useRef();\r\n\r\n    // normalize seriesProp to an array of objects, one per property\r\n    const series = useMemo(() => {\r\n      if (Array.isArray(seriesProp))\r\n        return seriesProp.map(s =>\r\n          typeof s === 'string' ? { property: s } : s,\r\n        );\r\n      if (typeof seriesProp === 'string') return [{ property: seriesProp }];\r\n      return [seriesProp];\r\n    }, [seriesProp]);\r\n\r\n    const getPropertySeries = prop =>\r\n      series.find(({ property }) => prop === property);\r\n\r\n    // Normalize chart to an array of objects.\r\n    // Each chart has one or more properties associated with it.\r\n    // A stacked bar chart has an array of properties.\r\n    // A point chart can have x, y, thickness, and color each driven\r\n    // by a separate property.\r\n    const charts = useMemo(() => {\r\n      if (!chart) {\r\n        if (series.length === 1)\r\n          return series.map(s => ({ property: s.property }));\r\n        // if we have more than one property, we'll use the first for\r\n        // the x-axis and we'll plot the rest\r\n        return series.slice(1).map(s => ({ property: s.property }));\r\n      }\r\n      if (Array.isArray(chart))\r\n        return chart\r\n          .map(c => (typeof c === 'string' ? { property: c } : c))\r\n          .filter(({ property }) => property);\r\n      return typeof chart === 'string' ? [{ property: chart }] : [chart];\r\n    }, [chart, series]);\r\n\r\n    // map the series property values into their own arrays\r\n    const seriesValues = useMemo(() => {\r\n      const result = {};\r\n      series.forEach(({ property }) => {\r\n        result[property] = data.map(d => d[property]);\r\n      });\r\n      return result;\r\n    }, [data, series]);\r\n\r\n    // Setup the values property for each chart.\r\n    // The index into 'charts' can be used to index into 'chartValues'.\r\n    const chartValues = useMemo(\r\n      () =>\r\n        charts.map(({ opacity, property, type }) => {\r\n          if (property) {\r\n            if (Array.isArray(property)) {\r\n              // A range chart or a stacked bar chart have multiple properties.\r\n              // In this case, this returns an array of values,\r\n              // one per property.\r\n              if (type === 'bars') {\r\n                // Further down, where we render, each property is rendered\r\n                // using a separate Chart component and the values are stacked\r\n                // such that they line up appropriately.\r\n                const totals = [];\r\n                return property.map(cp => {\r\n                  // handle object or string\r\n                  const aProperty = cp.property || cp;\r\n                  const values = seriesValues[aProperty];\r\n                  if (!values) return undefined; // property name isn't valid\r\n                  return values.map((v, i) => {\r\n                    const base = totals[i] || 0;\r\n                    totals[i] = base + v;\r\n                    return [i, base, base + v];\r\n                  });\r\n                });\r\n              }\r\n              return data.map((_, index) => [\r\n                index,\r\n                ...property.map(p =>\r\n                  seriesValues[p] ? seriesValues[p][index] : data[index][p],\r\n                ),\r\n              ]);\r\n            }\r\n            if (typeof property === 'object') {\r\n              // When 'property' is an array, the keys of this array indicate\r\n              // which property drives which part of the rendered Chart.\r\n              const { color, thickness, x, y, y2 } = property;\r\n              return seriesValues[x].map((value, index) => {\r\n                const aValue = { value: [value] };\r\n                aValue.value.push(seriesValues[y][index]);\r\n                if (y2) aValue.value.push(seriesValues[y2][index]);\r\n                if (thickness) {\r\n                  const t =\r\n                    seriesValues[thickness.property || thickness][index];\r\n                  aValue.thickness = thickness.transform\r\n                    ? thickness.transform(t)\r\n                    : t;\r\n                }\r\n                if (color) {\r\n                  const c = seriesValues[color.property || color][index];\r\n                  aValue.color = color.transform ? color.transform(c) : c;\r\n                }\r\n                if (opacity) aValue.opacity = opacity;\r\n                return aValue;\r\n              });\r\n            }\r\n            return seriesValues[property];\r\n          }\r\n          return undefined;\r\n        }),\r\n      [charts, data, seriesValues],\r\n    );\r\n\r\n    // map granularities to work well with the number of data points we have\r\n    const granularities = useMemo(() => {\r\n      let medium;\r\n      // determine a good medium granularity that will align well with the\r\n      // length of the data\r\n      const steps = data.length - 1;\r\n      // special case property driven point charts\r\n      if (charts[0] && typeof charts[0].property === 'object') medium = 3;\r\n      else if (steps < 4) medium = data.length;\r\n      else if (steps === 4) medium = 3;\r\n      else if (steps % 4 === 0) medium = 5;\r\n      else if (steps % 3 === 0) medium = 4;\r\n      else if (steps % 2 === 0) medium = 3;\r\n      else medium = 2;\r\n      return {\r\n        x: { coarse: 2, fine: data.length, medium },\r\n        y: {\r\n          ...(heightYGranularity[(size && size.height) || 'small'] || {\r\n            fine: 5,\r\n            medium: 3,\r\n          }),\r\n          coarse: 2,\r\n        },\r\n      };\r\n    }, [charts, data.length, size]);\r\n\r\n    // normalize axis to objects, convert granularity to a number\r\n    const axis = useMemo(() => {\r\n      if (!axisProp) return undefined;\r\n      const result = {};\r\n      if (axisProp === true || axisProp.x === true) result.x = {};\r\n      if (axisProp === true || axisProp.y === true) result.y = {};\r\n\r\n      if (!result.x && axisProp.x)\r\n        result.x =\r\n          typeof axisProp.x === 'string'\r\n            ? { property: axisProp.x }\r\n            : { ...axisProp.x };\r\n      if (!result.y && axisProp.y)\r\n        result.y =\r\n          typeof axisProp.y === 'string'\r\n            ? { property: axisProp.y }\r\n            : { ...axisProp.y };\r\n\r\n      if (result.x) {\r\n        if (!result.x.property) {\r\n          // see if we have a point chart that has an x property\r\n          if (data && data[0]) {\r\n            if (data[0].date) result.x.property = 'date';\r\n            else if (data[0].time) result.x.property = 'time';\r\n          }\r\n        }\r\n        if (!result.x.granularity) result.x.granularity = 'coarse';\r\n      }\r\n\r\n      if (result.y) {\r\n        if (!result.y.property && charts[0])\r\n          // see if we have a point chart that has an x property\r\n          result.y.property = charts[0].property.y || charts[0].property;\r\n        if (!result.y.granularity) result.y.granularity = 'coarse';\r\n      }\r\n\r\n      // calculate number of entries based on granularity\r\n      if (result.x) {\r\n        const { granularity = 'coarse' } = result.x;\r\n        result.x.count = granularities.x[granularity];\r\n      }\r\n      if (result.y) {\r\n        const { granularity = 'coarse' } = result.y;\r\n        result.y.count = granularities.y[granularity];\r\n      }\r\n\r\n      return result;\r\n    }, [axisProp, data, charts, granularities]);\r\n\r\n    // calculate axis, bounds, and thickness for each chart\r\n    const chartProps = useMemo(() => {\r\n      const steps = [];\r\n      const coarseness = [undefined, 5];\r\n      if (axis && axis.x) {\r\n        const { granularity = 'coarse' } = axis.x;\r\n        steps[0] = granularities.x[granularity] - 1;\r\n      } else steps[0] = data.length - 1;\r\n\r\n      if (axis && axis.y) {\r\n        const { granularity = 'coarse' } = axis.y;\r\n        steps[1] = granularities.y[granularity] - 1;\r\n      } else steps[1] = 1;\r\n\r\n      let chartBounds = chartValues.map((_, index) => {\r\n        if (charts[index].type === 'bars') {\r\n          // merge values for bars case\r\n          let mergedValues = chartValues[index][0].slice(0);\r\n          chartValues[index]\r\n            .slice(1)\r\n            .filter(values => values) // property name isn't valid\r\n            .forEach(values => {\r\n              mergedValues = mergedValues.map((__, i) => [\r\n                i,\r\n                Math.min(mergedValues[i][1], values[i][1]),\r\n                Math.max(mergedValues[i][2], values[i][2]),\r\n              ]);\r\n            });\r\n          return calcBounds(mergedValues, { coarseness, steps });\r\n        }\r\n        // if this is a data driven x chart, set coarseness for x\r\n        return calcBounds(chartValues[index], {\r\n          coarseness: charts[index].property.x ? [5, 5] : coarseness,\r\n          steps,\r\n        });\r\n      });\r\n\r\n      if (boundsProp === 'align') {\r\n        const alignedBounds = [...chartBounds[0]];\r\n        chartBounds.forEach(bounds => {\r\n          alignedBounds[0][0] = Math.min(alignedBounds[0][0], bounds[0][0]);\r\n          alignedBounds[0][1] = Math.max(alignedBounds[0][1], bounds[0][1]);\r\n          alignedBounds[1][0] = Math.min(alignedBounds[1][0], bounds[1][0]);\r\n          alignedBounds[1][1] = Math.max(alignedBounds[1][1], bounds[1][1]);\r\n        });\r\n        chartBounds = chartBounds.map(() => alignedBounds);\r\n      }\r\n\r\n      return chartValues.map((values, index) => {\r\n        const calcValues = charts[index].type === 'bars' ? values[0] : values;\r\n        return calcs(calcValues, { bounds: chartBounds[index], steps });\r\n      });\r\n    }, [axis, boundsProp, charts, chartValues, data, granularities]);\r\n\r\n    // normalize how we style data properties for use by Legend and Detail\r\n    const seriesStyles = useMemo(() => {\r\n      const result = {};\r\n      // start from what we were explicitly given\r\n      charts.forEach(({ color, point, property, thickness, type }, index) => {\r\n        const { thickness: calcThickness } = chartProps[index];\r\n\r\n        if (typeof property === 'object' && !Array.isArray(property)) {\r\n          // data driven point chart\r\n          Object.keys(property).forEach(aspect => {\r\n            const prop = property[aspect];\r\n            if (!result[prop.property || prop])\r\n              result[prop.property || prop] = { aspect };\r\n          });\r\n        } else {\r\n          const props = Array.isArray(property) ? property : [property];\r\n          props.forEach(prop => {\r\n            const p = prop.property || prop;\r\n            const pColor = prop.color || color;\r\n            if (!result[p]) result[p] = {};\r\n            if (pColor && !result[p].color) result[p].color = pColor;\r\n            if (point && !result[p].point) result[p].point = point;\r\n            else if (type === 'point') result[p].point = false;\r\n            if ((thickness || calcThickness) && !result[p].thickness)\r\n              result[p].thickness = thickness || calcThickness;\r\n          });\r\n        }\r\n      });\r\n\r\n      // set color for any non-aspect properties we don't have one for yet\r\n      let colorIndex = 0;\r\n      let pointIndex = 0;\r\n      Object.keys(result).forEach(key => {\r\n        const seriesStyle = result[key];\r\n        if (!seriesStyle.aspect && !seriesStyle.color) {\r\n          seriesStyle.color = `graph-${colorIndex}`;\r\n          colorIndex += 1;\r\n        }\r\n        // set opacity if it isn't set and this isn't the active property\r\n        if (activeProperty !== undefined && activeProperty !== key) {\r\n          seriesStyle.opacity = 'medium';\r\n        }\r\n        if (seriesStyle.point === false) {\r\n          seriesStyle.point = points[pointIndex];\r\n          pointIndex += 1;\r\n        }\r\n      });\r\n\r\n      return result;\r\n    }, [activeProperty, charts, chartProps]);\r\n\r\n    // normalize guide\r\n    const guide = useMemo(() => {\r\n      if (!guideProp) return undefined;\r\n      let result;\r\n      if (guideProp === true) {\r\n        result = { x: {}, y: {} };\r\n      } else {\r\n        result = {};\r\n        if (guideProp.x) result.x = { ...guideProp.x };\r\n        if (guideProp.y) result.y = { ...guideProp.y };\r\n      }\r\n      // set counts\r\n      if (result.x) {\r\n        // if no granularity and axis, align count with axis\r\n        if (!result.x.granularity && axis && axis.x)\r\n          result.x.count = axis.x.count;\r\n        if (!result.x.count)\r\n          result.x.count = granularities.x[result.x.granularity || 'coarse'];\r\n      }\r\n      if (result.y) {\r\n        // if no granularity and axis, align count with axis\r\n        if (!result.y.granularity && axis && axis.y)\r\n          result.y.count = axis.y.count;\r\n        if (!result.y.count)\r\n          result.y.count = granularities.y[result.y.granularity || 'coarse'];\r\n      }\r\n      return result;\r\n    }, [axis, granularities, guideProp]);\r\n\r\n    // set the pad to half the thickness, based on the chart types\r\n    const pad = useMemo(() => {\r\n      if (padProp !== undefined) return padProp;\r\n      const result = {};\r\n      charts.forEach(({ type }, index) => {\r\n        const { thickness } = chartProps[index];\r\n        result.horizontal = halfPad[thickness];\r\n        if (type && type !== 'bar') result.vertical = halfPad[thickness];\r\n      });\r\n      return result;\r\n    }, [chartProps, charts, padProp]);\r\n\r\n    const dateFormats = useMemo(() => {\r\n      const result = {};\r\n      const full = axis && axis.x && axis.x.granularity === 'coarse';\r\n      series.forEach(({ property, render }) => {\r\n        if (\r\n          !render &&\r\n          data.length > 1 &&\r\n          typeof data[0][property] === 'string'\r\n        ) {\r\n          result[property] = createDateFormat(\r\n            data[0][property],\r\n            data[data.length - 1][property],\r\n            full,\r\n          );\r\n        }\r\n      });\r\n      return result;\r\n    }, [axis, data, series]);\r\n\r\n    // for ie11, align the spacer Box height to the x-axis height\r\n    useLayoutEffect(() => {\r\n      if (xRef.current && spacerRef.current) {\r\n        const rect = xRef.current.getBoundingClientRect();\r\n        spacerRef.current.style.height = `${rect.height}px`;\r\n      }\r\n    }, []);\r\n\r\n    const renderValue = (serie, dataIndex, valueArg) => {\r\n      let value;\r\n      if (valueArg !== undefined) {\r\n        if (serie && serie.render) return serie.render(valueArg);\r\n        value = valueArg;\r\n      } else {\r\n        const datum = data[dataIndex];\r\n        value = datum[serie.property];\r\n        if (serie && serie.render)\r\n          return serie.render(value, datum, serie.property);\r\n      }\r\n      if (serie) {\r\n        const dateFormat = dateFormats[serie.property];\r\n        if (dateFormat) return dateFormat(new Date(value));\r\n        if (serie.prefix) value = `${serie.prefix}${value}`;\r\n        if (serie.suffix) value = `${value}${serie.suffix}`;\r\n      }\r\n      return value;\r\n    };\r\n\r\n    // TODO: revisit how x/y axis are hooked up to charts and series\r\n\r\n    const xAxisElement =\r\n      axis && axis.x ? (\r\n        <XAxis\r\n          ref={xRef}\r\n          axis={axis}\r\n          chartProps={chartProps}\r\n          data={data}\r\n          renderValue={renderValue}\r\n          serie={axis.x.property && getPropertySeries(axis.x.property)}\r\n        />\r\n      ) : null;\r\n\r\n    const yAxisElement =\r\n      axis && axis.y ? (\r\n        <YAxis\r\n          axis={axis}\r\n          chartProps={chartProps}\r\n          pad={pad}\r\n          renderValue={renderValue}\r\n          serie={axis.y.property && getPropertySeries(axis.y.property)}\r\n        />\r\n      ) : null;\r\n\r\n    const stackFill = useMemo(() => {\r\n      if (\r\n        size === 'fill' ||\r\n        (size && size.width === 'fill' && size.height === 'fill')\r\n      )\r\n        return true;\r\n      if (size && size.width === 'fill') return 'horizontal';\r\n      if (size && size.height === 'fill') return 'vertical';\r\n      return undefined;\r\n    }, [size]);\r\n\r\n    const guidingChild = useMemo(() => {\r\n      let result = 0;\r\n      if (guide && guide.x) result += 1;\r\n      if (guide && guide.y) result += 1;\r\n      return result;\r\n    }, [guide]);\r\n\r\n    const stackElement = (\r\n      <Stack gridArea=\"charts\" guidingChild={guidingChild} fill={stackFill}>\r\n        {guide && guide.x && <XGuide guide={guide} pad={pad} />}\r\n        {guide && guide.y && <YGuide guide={guide} pad={pad} />}\r\n        {charts.map(({ property: prop, type, x, y, ...chartRest }, i) => {\r\n          if (type === 'bars') {\r\n            // reverse to ensure area Charts are stacked in the right order\r\n            return prop\r\n              .map((cProp, j) => {\r\n                const pProp = cProp.property || cProp;\r\n                return (\r\n                  <Chart\r\n                    // eslint-disable-next-line react/no-array-index-key\r\n                    key={j}\r\n                    // when property name isn't valid, send empty array\r\n                    values={chartValues[i][j] || []}\r\n                    overflow\r\n                    {...seriesStyles[pProp]}\r\n                    {...chartProps[i]}\r\n                    {...chartRest}\r\n                    type=\"bar\"\r\n                    size={size}\r\n                    pad={pad}\r\n                  />\r\n                );\r\n              })\r\n              .reverse();\r\n          }\r\n          return (\r\n            <Chart\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={i}\r\n              values={chartValues[i]}\r\n              overflow\r\n              {...seriesStyles[prop]}\r\n              {...chartProps[i]}\r\n              {...chartRest}\r\n              type={type}\r\n              size={size}\r\n              pad={pad}\r\n            />\r\n          );\r\n        })}\r\n        {detail && (\r\n          <Detail\r\n            activeProperty={activeProperty}\r\n            axis={axis}\r\n            data={data}\r\n            series={series}\r\n            seriesStyles={seriesStyles}\r\n            renderValue={renderValue}\r\n            pad={pad}\r\n          />\r\n        )}\r\n      </Stack>\r\n    );\r\n\r\n    const legendElement = legend ? (\r\n      <Legend\r\n        series={series}\r\n        seriesStyles={seriesStyles}\r\n        activeProperty={activeProperty}\r\n        setActiveProperty={setActiveProperty}\r\n      />\r\n    ) : null;\r\n\r\n    // IE11\r\n    if (!Grid.available) {\r\n      let content = stackElement;\r\n      if (xAxisElement) {\r\n        content = (\r\n          <Box>\r\n            {content}\r\n            {xAxisElement}\r\n          </Box>\r\n        );\r\n      }\r\n      if (yAxisElement) {\r\n        content = (\r\n          <Box direction=\"row\">\r\n            <Box>\r\n              {yAxisElement}\r\n              <Box ref={spacerRef} flex={false} />\r\n            </Box>\r\n            {content}\r\n          </Box>\r\n        );\r\n      }\r\n      if (legendElement) {\r\n        content = (\r\n          <Box>\r\n            {content}\r\n            {legendElement}\r\n          </Box>\r\n        );\r\n      }\r\n      return content;\r\n    }\r\n\r\n    let content = (\r\n      <Grid\r\n        ref={ref}\r\n        aria-label={a11yTitle}\r\n        fill={stackFill}\r\n        columns={[\r\n          'auto',\r\n          stackFill === true || stackFill === 'horizontal' ? 'flex' : 'auto',\r\n        ]}\r\n        rows={[\r\n          stackFill === true || stackFill === 'vertical' ? 'flex' : 'auto',\r\n          'auto',\r\n        ]}\r\n        areas={[\r\n          { name: 'yAxis', start: [0, 0], end: [0, 0] },\r\n          { name: 'xAxis', start: [1, 1], end: [1, 1] },\r\n          { name: 'charts', start: [1, 0], end: [1, 0] },\r\n        ]}\r\n        gap={gap}\r\n        {...rest}\r\n      >\r\n        {xAxisElement}\r\n        {yAxisElement}\r\n        {stackElement}\r\n      </Grid>\r\n    );\r\n\r\n    if (legendElement) {\r\n      content = (\r\n        <Box align=\"start\">\r\n          {content}\r\n          {legendElement}\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    return content;\r\n  },\r\n);\r\n\r\nDataChart.displayName = 'DataChart';\r\n\r\nlet DataChartDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DataChartDoc = require('./doc').doc(DataChart);\r\n}\r\nconst DataChartWrapper = DataChartDoc || DataChart;\r\n\r\nexport { DataChartWrapper as DataChart };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { StyledGrid } from './StyledGrid';\r\n\r\nconst Grid = forwardRef((props, ref) => {\r\n  const {\r\n    a11yTitle,\r\n    border,\r\n    fill, // munged to avoid styled-components putting it in the DOM\r\n    responsive = true,\r\n    rows, // munged to avoid styled-components putting it in the DOM\r\n    tag,\r\n    as,\r\n    ...rest\r\n  } = props;\r\n\r\n  return (\r\n    <StyledGrid\r\n      ref={ref}\r\n      a11yTitleProp={a11yTitle}\r\n      as={!as && tag ? tag : as}\r\n      border={border}\r\n      fillContainer={fill}\r\n      responsive={responsive}\r\n      rowsProp={rows}\r\n      {...rest}\r\n    />\r\n  );\r\n});\r\n\r\nGrid.displayName = 'Grid';\r\n\r\nlet GridDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  GridDoc = require('./doc').doc(Grid); // eslint-disable-line global-require\r\n}\r\nconst GridWrapper = GridDoc || Grid;\r\n\r\nGridWrapper.available =\r\n  typeof window !== 'undefined' &&\r\n  window.CSS &&\r\n  window.CSS.supports &&\r\n  window.CSS.supports('display', 'grid');\r\n\r\nexport { GridWrapper as Grid };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { borderStyle, edgeStyle, genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst fillStyle = fill => {\r\n  if (!fill) {\r\n    return fill;\r\n  }\r\n  if (fill === 'horizontal') {\r\n    return 'width: 100%;';\r\n  }\r\n  if (fill === 'vertical') {\r\n    return 'height: 100%;';\r\n  }\r\n  return `\r\n      width: 100%;\r\n      height: 100%;\r\n    `;\r\n};\r\n\r\nconst ALIGN_MAP = {\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst alignStyle = css`\r\n  align-items: ${props => ALIGN_MAP[props.align]};\r\n`;\r\n\r\nconst ALIGN_CONTENT_MAP = {\r\n  around: 'space-around',\r\n  between: 'space-between',\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst alignContentStyle = css`\r\n  align-content: ${props => ALIGN_CONTENT_MAP[props.alignContent]};\r\n`;\r\n\r\nconst JUSTIFY_MAP = {\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst justifyStyle = css`\r\n  justify-items: ${props => JUSTIFY_MAP[props.justify]};\r\n`;\r\n\r\nconst JUSTIFY_CONTENT_MAP = {\r\n  around: 'space-around',\r\n  between: 'space-between',\r\n  center: 'center',\r\n  end: 'flex-end',\r\n  start: 'flex-start',\r\n  stretch: 'stretch',\r\n};\r\n\r\nconst justifyContentStyle = css`\r\n  justify-content: ${props => JUSTIFY_CONTENT_MAP[props.justifyContent]};\r\n`;\r\n\r\nconst gapStyle = props => {\r\n  if (typeof props.gap === 'string') {\r\n    const gapSize = props.theme.global.edgeSize[props.gap] || props.gap;\r\n    return `grid-gap: ${gapSize} ${gapSize};`;\r\n  }\r\n  if (props.gap.row && props.gap.column) {\r\n    return `\r\n      grid-row-gap: ${props.theme.global.edgeSize[props.gap.row] ||\r\n        props.gap.row};\r\n      grid-column-gap: ${props.theme.global.edgeSize[props.gap.column] ||\r\n        props.gap.column};\r\n    `;\r\n  }\r\n  if (props.gap.row) {\r\n    return `\r\n      grid-row-gap: ${props.theme.global.edgeSize[props.gap.row] ||\r\n        props.gap.row};\r\n    `;\r\n  }\r\n  if (props.gap.column) {\r\n    return `\r\n      grid-column-gap: ${props.theme.global.edgeSize[props.gap.column] ||\r\n        props.gap.column};\r\n    `;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst SIZE_MAP = {\r\n  flex: '1fr',\r\n  full: '100%',\r\n  '1/2': '50%',\r\n  '1/4': '25%',\r\n  '2/4': '50%',\r\n  '3/4': '75%',\r\n  '1/3': '33.33%',\r\n  '2/3': '66.66%',\r\n};\r\n\r\nconst getRepeatCount = count =>\r\n  typeof count === 'number' ? count : `auto-${count}`;\r\n\r\nconst getRepeatSize = (size, theme) => {\r\n  if (Array.isArray(size)) {\r\n    return `minmax(${theme.global.size[size[0]] || size[0]}, ${theme.global\r\n      .size[size[1]] || size[1]})`;\r\n  }\r\n  if (size === 'flex') return '1fr';\r\n  return `minmax(${theme.global.size[size] || size}, 1fr)`;\r\n};\r\n\r\nconst sizeFor = (size, props, isRow) => {\r\n  const mapped = SIZE_MAP[size];\r\n  if (\r\n    isRow &&\r\n    mapped &&\r\n    (!props.fillContainer || props.fillContainer === 'horizontal')\r\n  ) {\r\n    console.warn('Grid needs `fill` when using fractional row sizes');\r\n  }\r\n  return mapped || props.theme.global.size[size] || size;\r\n};\r\n\r\nconst columnsStyle = props => {\r\n  if (Array.isArray(props.columns)) {\r\n    return css`\r\n      grid-template-columns: ${props.columns\r\n        .map(s => {\r\n          if (Array.isArray(s)) {\r\n            return `minmax(${sizeFor(s[0], props)}, ${sizeFor(s[1], props)})`;\r\n          }\r\n          return sizeFor(s, props);\r\n        })\r\n        .join(' ')};\r\n    `;\r\n  }\r\n  if (typeof props.columns === 'object') {\r\n    return css`\r\n      grid-template-columns: repeat(\r\n        ${getRepeatCount(props.columns.count)},\r\n        ${getRepeatSize(props.columns.size, props.theme)}\r\n      );\r\n    `;\r\n  }\r\n  return css`\r\n    grid-template-columns: repeat(\r\n      auto-fill,\r\n      ${getRepeatSize(props.columns, props.theme)}\r\n    );\r\n  `;\r\n};\r\n\r\nconst rowsStyle = props => {\r\n  if (Array.isArray(props.rowsProp)) {\r\n    return css`\r\n      grid-template-rows: ${props.rowsProp\r\n        .map(s => {\r\n          if (Array.isArray(s)) {\r\n            return `minmax(${sizeFor(s[0], props, true)}, ${sizeFor(\r\n              s[1],\r\n              props,\r\n              true,\r\n            )})`;\r\n          }\r\n          return sizeFor(s, props, true);\r\n        })\r\n        .join(' ')};\r\n    `;\r\n  }\r\n  return css`\r\n    grid-auto-rows: ${props.theme.global.size[props.rowsProp]};\r\n  `;\r\n};\r\n\r\nconst areasStyle = props => {\r\n  // translate areas objects into grid-template-areas syntax\r\n  if (!Array.isArray(props.rowsProp) || !Array.isArray(props.columns)) {\r\n    console.warn('Grid `areas` requires `rows` and `columns` to be arrays.');\r\n  }\r\n  if (\r\n    Array.isArray(props.areas) &&\r\n    props.areas.every(area => Array.isArray(area))\r\n  ) {\r\n    return `grid-template-areas: ${props.areas\r\n      .map(area => `\"${area.join(' ')}\"`)\r\n      .join(' ')};`;\r\n  }\r\n  const cells = props.rowsProp.map(() => props.columns.map(() => '.'));\r\n  props.areas.forEach(area => {\r\n    for (let row = area.start[1]; row <= area.end[1]; row += 1) {\r\n      for (let column = area.start[0]; column <= area.end[0]; column += 1) {\r\n        cells[row][column] = area.name;\r\n      }\r\n    }\r\n  });\r\n  return `grid-template-areas: ${cells\r\n    .map(r => `\"${r.join(' ')}\"`)\r\n    .join(' ')};`;\r\n};\r\n\r\nconst StyledGrid = styled.div.attrs(props => ({\r\n  'aria-label': props.a11yTitleProp,\r\n}))`\r\n  display: grid;\r\n  box-sizing: border-box;\r\n\r\n  ${genericStyles}\r\n  ${props =>\r\n    props.border &&\r\n    (Array.isArray(props.border)\r\n      ? props.border.map(border =>\r\n          borderStyle(border, props.responsive, props.theme),\r\n        )\r\n      : borderStyle(props.border, props.responsive, props.theme))}\r\n  ${props => fillStyle(props.fillContainer)}\r\n  ${props => props.align && alignStyle}\r\n  ${props => props.alignContent && alignContentStyle}\r\n  ${props => props.areas && areasStyle(props)}\r\n  ${props => props.columns && columnsStyle(props)}\r\n  ${props => props.gap && gapStyle(props)}\r\n  ${props => props.justify && justifyStyle}\r\n  ${props => props.justifyContent && justifyContentStyle}\r\n  ${props =>\r\n    props.pad &&\r\n    edgeStyle(\r\n      'padding',\r\n      props.pad,\r\n      props.responsive,\r\n      props.theme.global.edgeSize.responsiveBreakpoint,\r\n      props.theme,\r\n    )}\r\n  ${props => props.rowsProp && rowsStyle(props)}\r\n  ${props => props.theme.grid && props.theme.grid.extend}\r\n`;\r\n\r\nStyledGrid.defaultProps = {};\r\nObject.setPrototypeOf(StyledGrid.defaultProps, defaultProps);\r\n\r\nexport { StyledGrid };\r\n","import React, { Fragment, useCallback, useMemo, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Box } from '../Box';\r\nimport { Drop } from '../Drop';\r\nimport { Grid } from '../Grid';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Text } from '../Text';\r\nimport { focusStyle } from '../../utils';\r\nimport { Swatch } from './Swatch';\r\n\r\nconst DetailControl = styled(Box)`\r\n  &:focus {\r\n    ${focusStyle()}\r\n  }\r\n`;\r\n\r\nconst Detail = ({\r\n  activeProperty,\r\n  axis,\r\n  data,\r\n  pad,\r\n  series,\r\n  seriesStyles,\r\n  renderValue,\r\n}) => {\r\n  const [detailIndex, setDetailIndex] = useState();\r\n  const activeIndex = useRef();\r\n  const detailRefs = useMemo(() => [], []);\r\n\r\n  const onMouseLeave = useCallback(event => {\r\n    // Only remove detail if the mouse isn't over the active index.\r\n    // This helps distinguish leaving the drop on the edge where it is\r\n    // anchored.\r\n    const rect = activeIndex.current.getBoundingClientRect();\r\n    if (\r\n      event.pageX < rect.left ||\r\n      event.pageX > rect.right ||\r\n      event.pageY < rect.top ||\r\n      event.pageY > rect.bottom\r\n    ) {\r\n      activeIndex.current = undefined;\r\n      setDetailIndex(undefined);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Keyboard\r\n        onLeft={() => {\r\n          if (detailIndex === undefined) setDetailIndex(data.length - 1);\r\n          else if (detailIndex > 0) setDetailIndex(detailIndex - 1);\r\n        }}\r\n        onRight={() => {\r\n          if (detailIndex === undefined) setDetailIndex(0);\r\n          else if (detailIndex < data.length - 1)\r\n            setDetailIndex(detailIndex + 1);\r\n        }}\r\n      >\r\n        <DetailControl\r\n          key=\"band\"\r\n          tabIndex={0}\r\n          direction=\"row\"\r\n          fill\r\n          justify=\"between\"\r\n          responsive={false}\r\n          onFocus={() => {}}\r\n          onBlur={() => setDetailIndex(undefined)}\r\n        >\r\n          {data.map((_, i) => (\r\n            <Box\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={i}\r\n              align=\"center\"\r\n              responsive={false}\r\n              pad={{ horizontal: pad.horizontal }}\r\n              onMouseOver={event => {\r\n                activeIndex.current = event.currentTarget;\r\n                setDetailIndex(i);\r\n              }}\r\n              onMouseLeave={onMouseLeave}\r\n              onFocus={() => {}}\r\n              onBlur={() => {}}\r\n            >\r\n              <Box\r\n                ref={c => {\r\n                  detailRefs[i] = c;\r\n                }}\r\n                fill=\"vertical\"\r\n                border={detailIndex === i ? true : undefined}\r\n              />\r\n            </Box>\r\n          ))}\r\n        </DetailControl>\r\n      </Keyboard>\r\n      {detailIndex !== undefined && detailRefs[detailIndex] && (\r\n        <Drop\r\n          key=\"drop\"\r\n          target={detailRefs[detailIndex]}\r\n          align={\r\n            detailIndex > data.length / 2\r\n              ? { right: 'left' }\r\n              : { left: 'right' }\r\n          }\r\n          plain\r\n          onMouseLeave={onMouseLeave}\r\n        >\r\n          <Box pad=\"small\" background={{ color: 'background-back' }}>\r\n            <Grid\r\n              columns={['auto', 'auto', 'auto']}\r\n              gap=\"xsmall\"\r\n              align=\"center\"\r\n            >\r\n              {series\r\n                .filter(\r\n                  ({ property }) =>\r\n                    !activeProperty ||\r\n                    activeProperty === property ||\r\n                    (axis && axis.x && axis.x.property === property),\r\n                )\r\n                .map(serie => {\r\n                  const propertyStyle = seriesStyles[serie.property];\r\n                  return (\r\n                    <Fragment key={serie.property}>\r\n                      {propertyStyle ? <Swatch {...propertyStyle} /> : <span />}\r\n                      <Text size=\"small\">{serie.label || serie.property}</Text>\r\n                      <Text size=\"small\" weight=\"bold\">\r\n                        {renderValue(serie, detailIndex)}\r\n                      </Text>\r\n                    </Fragment>\r\n                  );\r\n                })}\r\n            </Grid>\r\n          </Box>\r\n        </Drop>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Detail };\r\n","import React, { useMemo } from 'react';\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Text } from '../Text';\r\nimport { Swatch } from './Swatch';\r\n\r\nconst Legend = ({\r\n  activeProperty,\r\n  series: seriesProp,\r\n  seriesStyles,\r\n  setActiveProperty,\r\n}) => {\r\n  const series = useMemo(\r\n    () => seriesProp.filter(s => seriesStyles[s.property]),\r\n    [seriesProp, seriesStyles],\r\n  );\r\n  const interactive = useMemo(\r\n    // filter out properties that are used in point chart aspects\r\n    () =>\r\n      series.filter(({ property }) => !seriesStyles[property].aspect).length >\r\n      1,\r\n    [series, seriesStyles],\r\n  );\r\n  return (\r\n    <Box margin={{ top: 'small' }} direction=\"row\" wrap gap=\"small\">\r\n      {series.map(({ property, label }) => {\r\n        const isActive = property === activeProperty;\r\n        const swatchProps = {};\r\n        const textProps = {};\r\n        if (activeProperty !== undefined) {\r\n          if (!isActive) {\r\n            // swatchProps.color = 'status-disabled';\r\n            textProps.color = 'text-xweak';\r\n          } else {\r\n            textProps.color = 'text-strong';\r\n          }\r\n        }\r\n        let content = (\r\n          <Box\r\n            key={property}\r\n            direction=\"row\"\r\n            align=\"center\"\r\n            pad={{ horizontal: 'small', vertical: 'xsmall' }}\r\n            gap=\"xsmall\"\r\n          >\r\n            <Swatch {...seriesStyles[property]} {...swatchProps} />\r\n            <Text {...textProps}>{label || property}</Text>\r\n          </Box>\r\n        );\r\n        if (interactive) {\r\n          content = (\r\n            <Button\r\n              key={property}\r\n              active={isActive}\r\n              onClick={() => setActiveProperty(isActive ? undefined : property)}\r\n              hoverIndicator\r\n            >\r\n              {content}\r\n            </Button>\r\n          );\r\n        }\r\n        return content;\r\n      })}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport { Legend };\r\n","import React, { forwardRef } from 'react';\r\nimport { Box } from '../Box';\r\n\r\nconst XAxis = forwardRef(({ chartProps, data, renderValue, serie }, ref) => {\r\n  // pull the x-axis values from the first chart, all should have the same\r\n  const [axisValues] = (Array.isArray(chartProps[0])\r\n    ? chartProps[0][0]\r\n    : chartProps[0]\r\n  ).axis;\r\n\r\n  return (\r\n    <Box ref={ref} gridArea=\"xAxis\" direction=\"row\" justify=\"between\">\r\n      {axisValues.map((dataIndex, i) => {\r\n        let align;\r\n        if (axisValues.length === data.length) align = 'center';\r\n        else if (i === 0) align = 'start';\r\n        else if (i === axisValues.length - 1) align = 'end';\r\n        else align = 'center';\r\n        return (\r\n          // eslint-disable-next-line react/no-array-index-key\r\n          <Box key={i} flex align={align}>\r\n            {serie ? renderValue(serie, dataIndex) : dataIndex}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport { XAxis };\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { Box } from '../Box';\r\nimport { round } from '../Chart';\r\nimport { doublePad } from './utils';\r\n\r\nconst YAxis = forwardRef(\r\n  ({ chartProps, pad, renderValue, serie = {} }, ref) => {\r\n    const theme = useContext(ThemeContext);\r\n    const { render, suffix } = serie;\r\n\r\n    // pull the x-axis values from the first chart, all should have the same\r\n    const [, axisValues] = (Array.isArray(chartProps[0])\r\n      ? chartProps[0][0]\r\n      : chartProps[0]\r\n    ).axis;\r\n\r\n    let divideBy;\r\n    let unit;\r\n    if (!render && !suffix) {\r\n      // figure out how many digits to show\r\n      const maxValue = Math.max(...axisValues.map(v => Math.abs(v)));\r\n      if (maxValue > 10000000) {\r\n        divideBy = 1000000;\r\n        unit = 'M';\r\n      } else if (maxValue > 10000) {\r\n        divideBy = 1000;\r\n        unit = 'K';\r\n      }\r\n    }\r\n\r\n    // Set basis to match double the vertical pad, so we can align the\r\n    // text with the guides\r\n    const edgeSize = doublePad[pad.vertical || pad];\r\n    const basis = theme.global.edgeSize[edgeSize] || edgeSize;\r\n\r\n    return (\r\n      <Box ref={ref} gridArea=\"yAxis\" justify=\"between\" flex>\r\n        {axisValues.map((axisValue, i) => {\r\n          let content = renderValue(serie, undefined, axisValue);\r\n          if (content === axisValue) {\r\n            if (divideBy) content = round(content / divideBy, 0);\r\n            if (unit) content = `${content}${unit}`;\r\n          }\r\n          return (\r\n            <Box\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={i}\r\n              align=\"end\"\r\n              basis={basis}\r\n              flex=\"shrink\"\r\n              justify={basis ? 'center' : undefined}\r\n            >\r\n              {content}\r\n            </Box>\r\n          );\r\n        })}\r\n      </Box>\r\n    );\r\n  },\r\n);\r\n\r\nexport { YAxis };\r\n","import React, { forwardRef } from 'react';\r\nimport { Box } from '../Box';\r\n\r\nconst XGuide = forwardRef(({ guide, pad }, ref) => (\r\n  <Box\r\n    ref={ref}\r\n    fill\r\n    direction=\"row\"\r\n    justify=\"between\"\r\n    pad={pad}\r\n    responsive={false}\r\n  >\r\n    {Array.from({ length: guide.x.count }).map((_, i) => (\r\n      // eslint-disable-next-line react/no-array-index-key\r\n      <Box key={i} border=\"left\" />\r\n    ))}\r\n  </Box>\r\n));\r\n\r\nexport { XGuide };\r\n","import React, { forwardRef } from 'react';\r\nimport { Box } from '../Box';\r\n\r\nconst YGuide = forwardRef(({ guide, pad }, ref) => (\r\n  <Box ref={ref} fill justify=\"between\" pad={pad} responsive={false}>\r\n    {Array.from({ length: guide.y.count }).map((_, i) => (\r\n      // eslint-disable-next-line react/no-array-index-key\r\n      <Box key={i} border=\"top\" />\r\n    ))}\r\n  </Box>\r\n));\r\n\r\nexport { YGuide };\r\n","export { DataTable } from './DataTable';\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { Box } from '../Box';\r\nimport { Text } from '../Text';\r\nimport { Header } from './Header';\r\nimport { Footer } from './Footer';\r\nimport { Body } from './Body';\r\nimport { GroupedBody } from './GroupedBody';\r\nimport {\r\n  buildFooterValues,\r\n  buildGroups,\r\n  buildGroupState,\r\n  filterAndSortData,\r\n  initializeFilters,\r\n  normalizePrimaryProperty,\r\n} from './buildState';\r\nimport { StyledDataTable, StyledPlaceholder } from './StyledDataTable';\r\n\r\nconst contexts = ['header', 'body', 'footer'];\r\n\r\nconst normalizeProp = (prop, context) => {\r\n  if (prop) {\r\n    if (prop[context]) {\r\n      return prop[context];\r\n    }\r\n\r\n    // if prop[context] wasn't defined, but other values\r\n    // exist on the prop, return undefined so that background\r\n    // for context will defaultto theme values instead\r\n    // note: need to include `pinned` since it is not a\r\n    // defined context\r\n    if (contexts.some(c => prop[c] || prop.pinned)) {\r\n      return undefined;\r\n    }\r\n    return prop;\r\n  }\r\n  return undefined;\r\n};\r\n\r\nconst DataTable = ({\r\n  background,\r\n  border,\r\n  columns = [],\r\n  data = [],\r\n  fill,\r\n  groupBy,\r\n  onClickRow, // removing unknown DOM attributes\r\n  onMore,\r\n  onSearch, // removing unknown DOM attributes\r\n  onSelect,\r\n  onSort: onSortProp,\r\n  replace,\r\n  pad,\r\n  pin,\r\n  placeholder,\r\n  primaryKey,\r\n  resizeable,\r\n  rowProps,\r\n  select,\r\n  size,\r\n  sort: sortProp,\r\n  sortable,\r\n  step = 50,\r\n  ...rest\r\n}) => {\r\n  // property name of the primary property\r\n  const primaryProperty = useMemo(\r\n    () => normalizePrimaryProperty(columns, primaryKey),\r\n    [columns, primaryKey],\r\n  );\r\n\r\n  // whether or not we should show a footer\r\n  const showFooter = useMemo(() => columns.filter(c => c.footer).length > 0, [\r\n    columns,\r\n  ]);\r\n\r\n  // what column we are actively capturing filter input on\r\n  const [filtering, setFiltering] = useState();\r\n\r\n  // the currently active filters\r\n  const [filters, setFilters] = useState(initializeFilters(columns));\r\n\r\n  // which column we are sorting on, with direction\r\n  const [sort, setSort] = useState(sortProp || {});\r\n\r\n  // the data filtered and sorted, if needed\r\n  const adjustedData = useMemo(\r\n    () => filterAndSortData(data, filters, onSearch, sort),\r\n    [data, filters, onSearch, sort],\r\n  );\r\n\r\n  // the values to put in the footer cells\r\n  const footerValues = useMemo(() => buildFooterValues(columns, adjustedData), [\r\n    adjustedData,\r\n    columns,\r\n  ]);\r\n\r\n  // if groupBy, an array with one item per unique groupBy key value\r\n  const groups = useMemo(() => buildGroups(columns, adjustedData, groupBy), [\r\n    adjustedData,\r\n    columns,\r\n    groupBy,\r\n  ]);\r\n\r\n  // an object indicating which group values are expanded\r\n  const [groupState, setGroupState] = useState(\r\n    buildGroupState(groups, groupBy),\r\n  );\r\n\r\n  const [selected, setSelected] = useState(\r\n    select || (onSelect && []) || undefined,\r\n  );\r\n  useEffect(() => setSelected(select || (onSelect && []) || undefined), [\r\n    onSelect,\r\n    select,\r\n  ]);\r\n\r\n  // any customized column widths\r\n  const [widths, setWidths] = useState({});\r\n\r\n  // placeholder placement stuff\r\n  const headerRef = useRef();\r\n  const footerRef = useRef();\r\n  const [headerHeight, setHeaderHeight] = useState();\r\n  const [footerHeight, setFooterHeight] = useState();\r\n\r\n  useLayoutEffect(() => {\r\n    if (placeholder) {\r\n      if (headerRef.current) {\r\n        const nextHeaderHeight = headerRef.current.getBoundingClientRect()\r\n          .height;\r\n        setHeaderHeight(nextHeaderHeight);\r\n      } else setHeaderHeight(0);\r\n      if (footerRef.current) {\r\n        const nextFooterHeight = footerRef.current.getBoundingClientRect()\r\n          .height;\r\n        setFooterHeight(nextFooterHeight);\r\n      } else setFooterHeight(0);\r\n    }\r\n  }, [footerRef, headerRef, placeholder]);\r\n\r\n  // remember that we are filtering on this property\r\n  const onFiltering = property => setFiltering(property);\r\n\r\n  // remember the search text we should filter this property by\r\n  const onFilter = (property, value) => {\r\n    const nextFilters = { ...filters };\r\n    nextFilters[property] = value;\r\n    setFilters(nextFilters);\r\n    // Let caller know about search, if interested\r\n    if (onSearch) onSearch(nextFilters);\r\n  };\r\n\r\n  // toggle the sort direction on this property\r\n  const onSort = property => () => {\r\n    const external = sort ? sort.external : false;\r\n    let direction;\r\n    if (!sort || property !== sort.property) direction = 'asc';\r\n    else if (sort.direction === 'asc') direction = 'desc';\r\n    else direction = 'asc';\r\n    const nextSort = { property, direction, external };\r\n    setSort(nextSort);\r\n    if (onSortProp) onSortProp(nextSort);\r\n  };\r\n\r\n  // toggle whether the group is expanded\r\n  const onToggleGroup = groupValue => () => {\r\n    const nextGroupState = { ...groupState };\r\n    nextGroupState[groupValue] = {\r\n      ...nextGroupState[groupValue],\r\n      expanded: !nextGroupState[groupValue].expanded,\r\n    };\r\n    setGroupState(nextGroupState);\r\n    if (groupBy.onExpand) {\r\n      const expandedKeys = Object.keys(nextGroupState).filter(\r\n        k => nextGroupState[k].expanded,\r\n      );\r\n      groupBy.onExpand(expandedKeys);\r\n    }\r\n  };\r\n\r\n  // toggle whether all groups are expanded\r\n  const onToggleGroups = () => {\r\n    const expanded =\r\n      Object.keys(groupState).filter(k => !groupState[k].expanded).length === 0;\r\n    const nextGroupState = {};\r\n    Object.keys(groupState).forEach(k => {\r\n      nextGroupState[k] = { ...groupState[k], expanded: !expanded };\r\n    });\r\n    setGroupState(nextGroupState);\r\n    if (groupBy.onExpand) {\r\n      const expandedKeys = Object.keys(nextGroupState).filter(\r\n        k => nextGroupState[k].expanded,\r\n      );\r\n      groupBy.onExpand(expandedKeys);\r\n    }\r\n  };\r\n\r\n  // remember the width this property's column should be\r\n  const onResize = useCallback(\r\n    (property, width) => {\r\n      if (widths[property] !== width) {\r\n        const nextWidths = { ...widths };\r\n        nextWidths[property] = width;\r\n        setWidths(nextWidths);\r\n      }\r\n    },\r\n    [widths],\r\n  );\r\n\r\n  if (size && resizeable) {\r\n    console.warn('DataTable cannot combine \"size\" and \"resizeble\".');\r\n  }\r\n\r\n  return (\r\n    <StyledDataTable fillProp={fill} {...rest}>\r\n      <Header\r\n        ref={headerRef}\r\n        background={normalizeProp(background, 'header')}\r\n        border={normalizeProp(border, 'header')}\r\n        columns={columns}\r\n        data={adjustedData}\r\n        fill={fill}\r\n        filtering={filtering}\r\n        filters={filters}\r\n        groups={groups}\r\n        groupState={groupState}\r\n        pad={normalizeProp(pad, 'header')}\r\n        pin={pin === true || pin === 'header'}\r\n        selected={selected}\r\n        size={size}\r\n        sort={sort}\r\n        widths={widths}\r\n        onFiltering={onFiltering}\r\n        onFilter={onFilter}\r\n        onResize={resizeable ? onResize : undefined}\r\n        onSelect={\r\n          onSelect\r\n            ? nextSelected => {\r\n                setSelected(nextSelected);\r\n                if (onSelect) onSelect(nextSelected);\r\n              }\r\n            : undefined\r\n        }\r\n        onSort={sortable || sortProp || onSortProp ? onSort : undefined}\r\n        onToggle={onToggleGroups}\r\n        primaryProperty={primaryProperty}\r\n      />\r\n      {groups ? (\r\n        <GroupedBody\r\n          background={normalizeProp(background, 'body')}\r\n          border={normalizeProp(border, 'body')}\r\n          columns={columns}\r\n          groupBy={groupBy.property ? groupBy.property : groupBy}\r\n          groups={groups}\r\n          groupState={groupState}\r\n          pad={normalizeProp(pad, 'body')}\r\n          primaryProperty={primaryProperty}\r\n          onToggle={onToggleGroup}\r\n          size={size}\r\n        />\r\n      ) : (\r\n        <Body\r\n          background={normalizeProp(background, 'body')}\r\n          border={normalizeProp(border, 'body')}\r\n          columns={columns}\r\n          data={adjustedData}\r\n          onMore={onMore}\r\n          replace={replace}\r\n          onClickRow={onClickRow}\r\n          onSelect={\r\n            onSelect\r\n              ? nextSelected => {\r\n                  setSelected(nextSelected);\r\n                  if (onSelect) onSelect(nextSelected);\r\n                }\r\n              : undefined\r\n          }\r\n          pad={normalizeProp(pad, 'body')}\r\n          pinnedBackground={normalizeProp(background, 'pinned')}\r\n          placeholder={placeholder}\r\n          primaryProperty={primaryProperty}\r\n          rowProps={rowProps}\r\n          selected={selected}\r\n          size={size}\r\n          step={step}\r\n        />\r\n      )}\r\n      {showFooter && (\r\n        <Footer\r\n          ref={footerRef}\r\n          background={normalizeProp(background, 'footer')}\r\n          border={normalizeProp(border, 'footer')}\r\n          columns={columns}\r\n          fill={fill}\r\n          footerValues={footerValues}\r\n          groups={groups}\r\n          onSelect={onSelect}\r\n          pad={normalizeProp(pad, 'footer')}\r\n          pin={pin === true || pin === 'footer'}\r\n          primaryProperty={primaryProperty}\r\n          selected={selected}\r\n          size={size}\r\n        />\r\n      )}\r\n      {placeholder && (\r\n        <StyledPlaceholder top={headerHeight} bottom={footerHeight}>\r\n          {typeof placeholder === 'string' ? (\r\n            <Box\r\n              background={{ color: 'background-front', opacity: 'strong' }}\r\n              align=\"center\"\r\n              justify=\"center\"\r\n              fill=\"vertical\"\r\n            >\r\n              <Text>{placeholder}</Text>\r\n            </Box>\r\n          ) : (\r\n            placeholder\r\n          )}\r\n        </StyledPlaceholder>\r\n      )}\r\n    </StyledDataTable>\r\n  );\r\n};\r\n\r\nlet DataTableDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DataTableDoc = require('./doc').doc(DataTable);\r\n}\r\nconst DataTableWrapper = DataTableDoc || DataTable;\r\n\r\nexport { DataTableWrapper as DataTable };\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport styled, { css, ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { CheckBox } from '../CheckBox';\r\nimport { TableCell } from '../TableCell';\r\nimport { Text } from '../Text';\r\n\r\nimport { Resizer } from './Resizer';\r\nimport { Searcher } from './Searcher';\r\nimport { ExpanderCell } from './ExpanderCell';\r\nimport {\r\n  StyledDataTableCell,\r\n  StyledDataTableHeader,\r\n  StyledDataTableRow,\r\n} from './StyledDataTable';\r\nimport { datumValue } from './buildState';\r\nimport { kindPartStyles } from '../../utils/styles';\r\nimport { normalizeColor } from '../../utils/colors';\r\n\r\n// separate theme values into groupings depending on what\r\n// part of header cell they should style\r\nconst separateThemeProps = theme => {\r\n  const {\r\n    background,\r\n    border,\r\n    color,\r\n    font,\r\n    gap, // gap is used for space between header cell elements only\r\n    units,\r\n    ...rest\r\n  } = theme.dataTable.header;\r\n\r\n  const cellProps = { background, border };\r\n  const textProps = { color, ...font };\r\n  const iconProps = { color };\r\n  const layoutProps = { ...rest };\r\n\r\n  return [cellProps, layoutProps, textProps, iconProps];\r\n};\r\n\r\n// build up CSS from basic to specific based on the supplied sub-object paths.\r\n// adapted from StyledButtonKind to only include parts relevant for DataTable\r\nconst buttonStyle = ({ theme }) => {\r\n  const styles = [];\r\n  const [, layoutProps, , iconProps] = separateThemeProps(theme);\r\n\r\n  if (layoutProps) {\r\n    styles.push(kindPartStyles(layoutProps, theme));\r\n  }\r\n\r\n  if (layoutProps.hover) {\r\n    // CSS for this sub-object in the theme\r\n    const partStyles = kindPartStyles(layoutProps.hover, theme);\r\n    if (partStyles.length > 0)\r\n      styles.push(\r\n        css`\r\n          &:hover {\r\n            ${partStyles}\r\n          }\r\n        `,\r\n      );\r\n  }\r\n\r\n  if (iconProps.color) {\r\n    styles.push(\r\n      css`\r\n        svg {\r\n          stroke: ${normalizeColor(iconProps.color, theme)};\r\n          fill: ${normalizeColor(iconProps.color, theme)};\r\n        }\r\n      `,\r\n    );\r\n  }\r\n\r\n  return styles;\r\n};\r\n\r\nconst StyledHeaderCellButton = styled(Button)`\r\n  ${props => buttonStyle(props)}\r\n`;\r\n\r\n// allow extend to spread onto Box that surrounds column label\r\nconst StyledContentBox = styled(Box)`\r\n  ${props => props.extend}\r\n`;\r\n\r\nconst Header = forwardRef(\r\n  (\r\n    {\r\n      background: backgroundProp,\r\n      border,\r\n      columns,\r\n      data,\r\n      fill,\r\n      filtering,\r\n      filters,\r\n      groups,\r\n      groupState,\r\n      onFilter,\r\n      onFiltering,\r\n      onResize,\r\n      onSelect,\r\n      onSort,\r\n      onToggle,\r\n      pad,\r\n      pin: tablePin,\r\n      primaryProperty,\r\n      selected,\r\n      sort,\r\n      widths,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [cellProps, layoutProps, textProps] = separateThemeProps(theme);\r\n\r\n    let background;\r\n    if (backgroundProp) background = backgroundProp;\r\n    else background = undefined;\r\n\r\n    return (\r\n      <StyledDataTableHeader ref={ref} fillProp={fill} {...rest}>\r\n        <StyledDataTableRow>\r\n          {groups && (\r\n            <ExpanderCell\r\n              context=\"header\"\r\n              expanded={\r\n                Object.keys(groupState).filter(k => !groupState[k].expanded)\r\n                  .length === 0\r\n              }\r\n              onToggle={onToggle}\r\n            />\r\n          )}\r\n\r\n          {(selected || onSelect) && (\r\n            <TableCell background={background || cellProps.background}>\r\n              {onSelect && (\r\n                <CheckBox\r\n                  checked={selected.length === data.length}\r\n                  indeterminate={\r\n                    selected.length > 0 && selected.length < data.length\r\n                  }\r\n                  onChange={() => {\r\n                    // if any are selected, clear selection\r\n                    if (selected.length === data.length) onSelect([]);\r\n                    // if none are selected, select all data\r\n                    else\r\n                      onSelect(\r\n                        data.map(datum => datumValue(datum, primaryProperty)),\r\n                      );\r\n                  }}\r\n                />\r\n              )}\r\n            </TableCell>\r\n          )}\r\n\r\n          {columns.map(\r\n            ({\r\n              property,\r\n              header,\r\n              align,\r\n              pin: columnPin,\r\n              search,\r\n              sortable,\r\n              verticalAlign,\r\n              size,\r\n              units,\r\n            }) => {\r\n              let content;\r\n              const unitsContent = units ? (\r\n                <Text {...textProps} {...theme.dataTable.header.units}>\r\n                  {units}\r\n                </Text>\r\n              ) : (\r\n                undefined\r\n              );\r\n              if (typeof header === 'string') {\r\n                content = <Text {...textProps}>{header}</Text>;\r\n                if (\r\n                  Object.keys(layoutProps).length &&\r\n                  (sortable === false || !onSort)\r\n                ) {\r\n                  // apply rest of layout styling if cell is not sortable,\r\n                  // otherwise this styling will be applied by\r\n                  // StyledHeaderCellButton\r\n                  content = (\r\n                    <StyledContentBox {...layoutProps}>\r\n                      {content}\r\n                    </StyledContentBox>\r\n                  );\r\n                }\r\n              } else content = header;\r\n\r\n              if (onSort && sortable !== false) {\r\n                let Icon;\r\n                if (onSort && sortable !== false) {\r\n                  if (sort && sort.property === property) {\r\n                    Icon =\r\n                      theme.dataTable.icons[\r\n                        sort.direction !== 'asc' ? 'ascending' : 'descending'\r\n                      ];\r\n                  } else if (theme.dataTable.icons.sortable) {\r\n                    Icon = theme.dataTable.icons.sortable;\r\n                  }\r\n                }\r\n\r\n                content = (\r\n                  <StyledHeaderCellButton\r\n                    plain\r\n                    column={property}\r\n                    fill=\"vertical\"\r\n                    onClick={onSort(property)}\r\n                    sort={sort}\r\n                    sortable\r\n                  >\r\n                    <Box\r\n                      direction=\"row\"\r\n                      align=\"center\"\r\n                      gap=\"xsmall\"\r\n                      justify={align}\r\n                    >\r\n                      {content}\r\n                      {Icon && <Icon />}\r\n                    </Box>\r\n                  </StyledHeaderCellButton>\r\n                );\r\n              }\r\n\r\n              if (unitsContent) {\r\n                content = (\r\n                  <Box align=\"baseline\" direction=\"row\">\r\n                    {content}\r\n                    {unitsContent}\r\n                  </Box>\r\n                );\r\n              }\r\n              // content should fill any available space in cell\r\n              content = <Box flex=\"grow\">{content}</Box>;\r\n\r\n              if (search || onResize) {\r\n                const resizer = onResize ? (\r\n                  <Resizer property={property} onResize={onResize} />\r\n                ) : null;\r\n                const searcher =\r\n                  search && filters ? (\r\n                    <Searcher\r\n                      filtering={filtering}\r\n                      filters={filters}\r\n                      property={property}\r\n                      onFilter={onFilter}\r\n                      onFiltering={onFiltering}\r\n                    />\r\n                  ) : null;\r\n                content = (\r\n                  <Box\r\n                    direction=\"row\"\r\n                    align=\"center\"\r\n                    justify={!align || align === 'start' ? 'between' : align}\r\n                    gap={theme.dataTable.header.gap}\r\n                    fill=\"vertical\"\r\n                    style={onResize ? { position: 'relative' } : undefined}\r\n                  >\r\n                    {content}\r\n                    {searcher && resizer ? (\r\n                      <Box\r\n                        flex=\"shrink\"\r\n                        direction=\"row\"\r\n                        align=\"center\"\r\n                        gap={theme.dataTable.header.gap}\r\n                      >\r\n                        {searcher}\r\n                        {resizer}\r\n                      </Box>\r\n                    ) : (\r\n                      searcher || resizer\r\n                    )}\r\n                  </Box>\r\n                );\r\n              }\r\n              const pin = [];\r\n              if (tablePin) pin.push('top');\r\n              if (columnPin) pin.push('left');\r\n\r\n              if (backgroundProp) background = backgroundProp;\r\n              else if (\r\n                pin.length > 0 &&\r\n                theme.dataTable.pinned &&\r\n                theme.dataTable.pinned.header\r\n              ) {\r\n                background = theme.dataTable.pinned.header.background;\r\n              } else background = undefined;\r\n              return (\r\n                <StyledDataTableCell\r\n                  key={property}\r\n                  align={align}\r\n                  context=\"header\"\r\n                  verticalAlign={verticalAlign}\r\n                  background={background || cellProps.background}\r\n                  border={border || cellProps.border}\r\n                  pad={pad}\r\n                  pin={pin}\r\n                  plain\r\n                  scope=\"col\"\r\n                  size={widths && widths[property] ? undefined : size}\r\n                  style={\r\n                    widths && widths[property]\r\n                      ? { width: widths[property] }\r\n                      : undefined\r\n                  }\r\n                >\r\n                  {content}\r\n                </StyledDataTableCell>\r\n              );\r\n            },\r\n          )}\r\n        </StyledDataTableRow>\r\n      </StyledDataTableHeader>\r\n    );\r\n  },\r\n);\r\n\r\nHeader.displayName = 'Header';\r\n\r\nHeader.defaultProps = {};\r\nObject.setPrototypeOf(Header.defaultProps, defaultProps);\r\n\r\nexport { Header };\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\n\r\nimport { TableContext } from '../Table/TableContext';\r\nimport { StyledTableCell } from '../Table/StyledTable';\r\n\r\nconst verticalAlignToJustify = {\r\n  middle: 'center',\r\n  top: 'start',\r\n  bottom: 'end',\r\n};\r\n\r\nconst TableCell = forwardRef(\r\n  (\r\n    {\r\n      align,\r\n      background,\r\n      border,\r\n      children,\r\n      className, // so StyledDataTableCell is applied to td/th\r\n      colSpan,\r\n      pad,\r\n      plain,\r\n      scope,\r\n      size,\r\n      verticalAlign,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    return (\r\n      <TableContext.Consumer>\r\n        {tableContext => {\r\n          let tableContextTheme;\r\n          if (tableContext === 'header') {\r\n            tableContextTheme = theme.table && theme.table.header;\r\n          } else if (tableContext === 'footer') {\r\n            tableContextTheme = theme.table && theme.table.footer;\r\n          } else {\r\n            tableContextTheme = theme.table && theme.table.body;\r\n          }\r\n          // merge tabelContextTheme and rest\r\n          const mergedProps = { ...tableContextTheme, ...rest };\r\n          Object.keys(mergedProps).forEach(key => {\r\n            if (rest[key] === undefined)\r\n              mergedProps[key] = tableContextTheme[key];\r\n          });\r\n          // split out background, border, and pad\r\n          const cellProps = {\r\n            align: align || mergedProps.align || undefined,\r\n            background: background || mergedProps.background || undefined,\r\n            border: border || mergedProps.border || undefined,\r\n            pad: pad || mergedProps.pad || undefined,\r\n            verticalAlign:\r\n              verticalAlign || mergedProps.verticalAlign || undefined,\r\n          };\r\n          delete mergedProps.align;\r\n          delete mergedProps.background;\r\n          delete mergedProps.border;\r\n          delete mergedProps.pad;\r\n          delete mergedProps.verticalAlign;\r\n\r\n          return (\r\n            <StyledTableCell\r\n              ref={ref}\r\n              as={scope ? 'th' : undefined}\r\n              scope={scope}\r\n              size={size}\r\n              colSpan={colSpan}\r\n              tableContext={tableContext}\r\n              tableContextTheme={tableContextTheme}\r\n              {...(plain ? mergedProps : {})}\r\n              {...cellProps}\r\n              className={className}\r\n            >\r\n              {plain || !Object.keys(mergedProps).length ? (\r\n                children\r\n              ) : (\r\n                <Box\r\n                  {...mergedProps}\r\n                  align={align}\r\n                  justify={verticalAlignToJustify[verticalAlign]}\r\n                >\r\n                  {children}\r\n                </Box>\r\n              )}\r\n            </StyledTableCell>\r\n          );\r\n        }}\r\n      </TableContext.Consumer>\r\n    );\r\n  },\r\n);\r\n\r\nTableCell.displayName = 'TableCell';\r\n\r\nlet TableCellDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TableCellDoc = require('./doc').doc(TableCell);\r\n}\r\nconst TableCellWrapper = TableCellDoc || TableCell;\r\n\r\nexport { TableCellWrapper as TableCell };\r\n","import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\nimport { Stack } from '../Stack';\r\n\r\nconst InteractionBox = styled(Box)`\r\n  cursor: col-resize;\r\n  > * {\r\n    opacity: 0;\r\n  }\r\n\r\n  // when mouse down, we want to continue to display styling\r\n  ${props => props.active && '> * { opacity: 1; }'}\r\n\r\n  &:hover {\r\n    > * {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Resizer = ({ onResize, property }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const [active, setActive] = useState(false);\r\n  const [start, setStart] = useState();\r\n  const [width, setWidth] = useState();\r\n  const ref = useRef();\r\n\r\n  const onMouseDown = useCallback(event => {\r\n    if (ref.current) {\r\n      let element = ref.current;\r\n      // find TH parent\r\n      while (element && element.nodeName !== 'TH') element = element.parentNode;\r\n      const rect = element.getBoundingClientRect();\r\n      setStart(event.clientX);\r\n      setWidth(rect.width);\r\n      setActive(true);\r\n    }\r\n  }, []);\r\n\r\n  const onMouseMove = useCallback(\r\n    event => {\r\n      // We determined 12 empirically as being wide enough to hit but\r\n      // not too wide to cause false hits.\r\n      const nextWidth = Math.max(12, width + (event.clientX - start));\r\n      onResize(property, nextWidth);\r\n    },\r\n    [onResize, property, start, width],\r\n  );\r\n\r\n  const onMouseUp = useCallback(() => {\r\n    setActive(false);\r\n    setStart(undefined);\r\n    setWidth(undefined);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const remove = () => {\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n    };\r\n\r\n    if (active) {\r\n      document.addEventListener('mouseup', onMouseUp);\r\n      document.addEventListener('mousemove', onMouseMove);\r\n      return remove;\r\n    }\r\n    remove();\r\n    return undefined;\r\n  }, [active, onMouseMove, onMouseUp]);\r\n\r\n  let border;\r\n  if (theme.dataTable.resize.hover && theme.dataTable.resize.hover.border) {\r\n    const { color, side = 'end', size } = theme.dataTable.resize.hover.border;\r\n    border = {\r\n      color,\r\n      side,\r\n      size,\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Stack anchor=\"right\">\r\n      <Box\r\n        flex={false}\r\n        responsive={false}\r\n        pad={{ vertical: 'small' }}\r\n        {...theme.dataTable.resize}\r\n      />\r\n      {/* provides a wider, more accessible target to grab resizer */}\r\n      <InteractionBox\r\n        active={active}\r\n        flex={false}\r\n        pad={{ left: 'xsmall' }}\r\n        ref={ref}\r\n        responsive={false}\r\n        onMouseDown={onMouseDown}\r\n        onMouseMove={start !== undefined ? onMouseMove : undefined}\r\n        onMouseUp={start !== undefined ? onMouseUp : undefined}\r\n      >\r\n        <Box pad={{ vertical: 'small' }} border={border} />\r\n      </InteractionBox>\r\n    </Stack>\r\n  );\r\n};\r\n\r\nResizer.displayName = 'Resizer';\r\n\r\nResizer.defaultProps = {};\r\nObject.setPrototypeOf(Resizer.defaultProps, defaultProps);\r\n\r\nexport { Resizer };\r\n","import React, { useContext, useEffect, useRef } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { FormSearch } from 'grommet-icons/icons/FormSearch';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Text } from '../Text';\r\nimport { TextInput } from '../TextInput';\r\nimport { normalizeColor } from '../../utils';\r\n\r\nconst Searcher = ({ filtering, filters, onFilter, onFiltering, property }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const inputRef = useRef();\r\n  const needsFocus = filtering === property;\r\n\r\n  useEffect(() => {\r\n    if (inputRef && needsFocus) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [needsFocus, inputRef]);\r\n\r\n  return filtering === property ? (\r\n    <Keyboard onEsc={() => onFiltering(undefined)}>\r\n      <Box width={{ min: 'xsmall' }} flex pad={{ horizontal: 'small' }}>\r\n        <TextInput\r\n          name={`search-${property}`}\r\n          a11yTitle={`Search by ${property}`}\r\n          ref={inputRef}\r\n          value={filters[property]}\r\n          onChange={event => onFilter(property, event.target.value)}\r\n          onBlur={() => onFiltering(undefined)}\r\n        />\r\n      </Box>\r\n    </Keyboard>\r\n  ) : (\r\n    <>\r\n      {filters[property] ? (\r\n        <Box\r\n          flex={false}\r\n          pad={{ horizontal: 'small' }}\r\n          direction=\"row\"\r\n          align=\"center\"\r\n        >\r\n          <Text>{filters[property]}</Text>\r\n        </Box>\r\n      ) : null}\r\n      <Button\r\n        a11yTitle={`Open search by ${property}`}\r\n        icon={\r\n          <FormSearch\r\n            color={normalizeColor(\r\n              filtering === property ? 'brand' : 'border',\r\n              theme,\r\n            )}\r\n          />\r\n        }\r\n        hoverIndicator\r\n        onClick={() =>\r\n          onFiltering(filtering === property ? undefined : property)\r\n        }\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nSearcher.displayName = 'Searcher';\r\n\r\nSearcher.defaultProps = {};\r\nObject.setPrototypeOf(Searcher.defaultProps, defaultProps);\r\n\r\nexport { Searcher };\r\n","\"use strict\";\n\nexports.__esModule = true;\nexports.FormSearch = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FormSearch = function FormSearch(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"FormSearch\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M13.8,13.8 L18,18 L13.8,13.8 Z M10.5,15 C12.9852814,15 15,12.9852814 15,10.5 C15,8.01471863 12.9852814,6 10.5,6 C8.01471863,6 6,8.01471863 6,10.5 C6,12.9852814 8.01471863,15 10.5,15 Z\"\n  }));\n};\n\nexports.FormSearch = FormSearch;","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Drop } from '../Drop';\r\nimport { InfiniteScroll } from '../InfiniteScroll';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { AnnounceContext } from '../../contexts';\r\nimport {\r\n  isNodeAfterScroll,\r\n  isNodeBeforeScroll,\r\n  sizeStyle,\r\n  useForwardedRef,\r\n} from '../../utils';\r\n\r\nimport {\r\n  StyledTextInput,\r\n  StyledTextInputContainer,\r\n  StyledPlaceholder,\r\n  StyledIcon,\r\n  StyledSuggestions,\r\n} from './StyledTextInput';\r\n\r\nconst renderLabel = suggestion => {\r\n  if (suggestion && typeof suggestion === 'object') {\r\n    return suggestion.label || suggestion.value;\r\n  }\r\n  return suggestion;\r\n};\r\n\r\nconst stringLabel = suggestion => {\r\n  if (suggestion && typeof suggestion === 'object') {\r\n    if (suggestion.label && typeof suggestion.label === 'string') {\r\n      return suggestion.label;\r\n    }\r\n    return suggestion.value;\r\n  }\r\n  return suggestion;\r\n};\r\n\r\nconst ContainerBox = styled(Box)`\r\n  ${props =>\r\n    props.dropHeight\r\n      ? sizeStyle('max-height', props.dropHeight, props.theme)\r\n      : 'max-height: inherit;'};\r\n\r\n  /* IE11 hack to get drop contents to not overflow */\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst defaultDropAlign = { top: 'bottom', left: 'left' };\r\n\r\nconst defaultMessages = {\r\n  enterSelect: '(Press Enter to Select)',\r\n  suggestionsCount: 'suggestions available',\r\n  suggestionsExist: 'This input has suggestions use arrow keys to navigate',\r\n  suggestionIsOpen:\r\n    'Suggestions drop is open, continue to use arrow keys to navigate',\r\n};\r\n\r\nconst TextInput = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      defaultSuggestion,\r\n      defaultValue,\r\n      dropAlign = defaultDropAlign,\r\n      dropHeight,\r\n      dropTarget,\r\n      dropProps,\r\n      icon,\r\n      id,\r\n      messages = defaultMessages,\r\n      name,\r\n      onBlur,\r\n      onChange,\r\n      onFocus,\r\n      onKeyDown,\r\n      onSelect,\r\n      onSuggestionSelect,\r\n      onSuggestionsClose,\r\n      onSuggestionsOpen,\r\n      placeholder,\r\n      plain,\r\n      readOnly,\r\n      reverse,\r\n      suggestions,\r\n      textAlign,\r\n      value: valueProp,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const announce = useContext(AnnounceContext);\r\n    const formContext = useContext(FormContext);\r\n    const inputRef = useForwardedRef(ref);\r\n    const dropRef = useRef();\r\n    const suggestionsRef = useRef();\r\n    const suggestionRefs = {};\r\n    // if this is a readOnly property, don't set a name with the form context\r\n    // this allows Select to control the form context for the name.\r\n    const [value, setValue] = formContext.useFormInput(\r\n      readOnly ? undefined : name,\r\n      valueProp,\r\n    );\r\n\r\n    const [focus, setFocus] = useState();\r\n    const [showDrop, setShowDrop] = useState();\r\n\r\n    const handleSuggestionSelect = useMemo(\r\n      () => (onSelect && !onSuggestionSelect ? onSelect : onSuggestionSelect),\r\n      [onSelect, onSuggestionSelect],\r\n    );\r\n    const handleTextSelect = useMemo(\r\n      () => (onSelect && onSuggestionSelect ? onSelect : undefined),\r\n      [onSelect, onSuggestionSelect],\r\n    );\r\n\r\n    // if we have no suggestions, close drop if it's open\r\n    useEffect(() => {\r\n      if (showDrop && (!suggestions || !suggestions.length)) {\r\n        setShowDrop(false);\r\n        if (onSuggestionsClose) onSuggestionsClose();\r\n      }\r\n    }, [onSuggestionsClose, showDrop, suggestions]);\r\n\r\n    // If we have suggestions and focus, open drop if it's closed.\r\n    // This can occur when suggestions are tied to the value.\r\n    // We don't want focus or showDrop in the dependencies because we\r\n    // don't want to open the drop just because Esc close it.\r\n    /* eslint-disable react-hooks/exhaustive-deps */\r\n    useEffect(() => {\r\n      if (focus && !showDrop && suggestions && suggestions.length) {\r\n        setShowDrop(true);\r\n        if (onSuggestionsOpen) onSuggestionsOpen();\r\n      }\r\n    }, [onSuggestionsOpen, suggestions]);\r\n    /* eslint-enable react-hooks/exhaustive-deps */\r\n\r\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(\r\n      typeof defaultSuggestion === 'number' ? defaultSuggestion : -1,\r\n    );\r\n\r\n    // reset activeSuggestionIndex when the drop is closed\r\n    useEffect(() => {\r\n      const defaultIndex =\r\n        typeof defaultSuggestion === 'number' ? defaultSuggestion : -1;\r\n      if (activeSuggestionIndex !== defaultIndex && !showDrop) {\r\n        setActiveSuggestionIndex(defaultIndex);\r\n      }\r\n    }, [activeSuggestionIndex, showDrop, defaultSuggestion]);\r\n\r\n    // announce active suggestion\r\n    useEffect(() => {\r\n      if (activeSuggestionIndex >= 0) {\r\n        const label = stringLabel(suggestions[activeSuggestionIndex]);\r\n        announce(`${label} ${messages.enterSelect}`);\r\n      }\r\n    }, [activeSuggestionIndex, announce, messages, suggestions]);\r\n\r\n    // set activeSuggestionIndex based on value and current suggestions\r\n    useEffect(() => {\r\n      if (suggestions) {\r\n        const suggestionValues = suggestions.map(suggestion =>\r\n          typeof suggestion === 'object' ? suggestion.value : suggestion,\r\n        );\r\n        const indexOfValue = suggestionValues.indexOf(value);\r\n        if (indexOfValue === -1 && typeof defaultSuggestion === 'number') {\r\n          setActiveSuggestionIndex(defaultSuggestion);\r\n        } else {\r\n          setActiveSuggestionIndex(indexOfValue);\r\n        }\r\n      } else setActiveSuggestionIndex(-1);\r\n    }, [suggestions, value, defaultSuggestion]);\r\n\r\n    // make sure activeSuggestion remains visible in scroll\r\n    useEffect(() => {\r\n      const buttonNode = suggestionRefs[activeSuggestionIndex];\r\n      const optionsNode = suggestionsRef.current;\r\n      if (\r\n        buttonNode &&\r\n        isNodeAfterScroll(buttonNode, optionsNode) &&\r\n        optionsNode.scrollTo\r\n      ) {\r\n        optionsNode.scrollTo(\r\n          0,\r\n          buttonNode.offsetTop -\r\n            (optionsNode.getBoundingClientRect().height -\r\n              buttonNode.getBoundingClientRect().height),\r\n        );\r\n      }\r\n      if (\r\n        buttonNode &&\r\n        isNodeBeforeScroll(buttonNode, optionsNode) &&\r\n        optionsNode.scrollTo\r\n      ) {\r\n        optionsNode.scrollTo(0, buttonNode.offsetTop);\r\n      }\r\n    }, [activeSuggestionIndex, suggestionRefs]);\r\n\r\n    const openDrop = useCallback(() => {\r\n      setShowDrop(true);\r\n      announce(messages.suggestionIsOpen);\r\n      announce(`${suggestions.length} ${messages.suggestionsCount}`);\r\n      if (onSuggestionsOpen) onSuggestionsOpen();\r\n    }, [\r\n      announce,\r\n      messages.suggestionsCount,\r\n      messages.suggestionIsOpen,\r\n      onSuggestionsOpen,\r\n      suggestions,\r\n    ]);\r\n\r\n    const closeDrop = useCallback(() => {\r\n      setShowDrop(false);\r\n      if (messages.onSuggestionsClose) onSuggestionsClose();\r\n      if (onSuggestionsClose) onSuggestionsClose();\r\n    }, [messages.onSuggestionsClose, onSuggestionsClose]);\r\n\r\n    const onNextSuggestion = event => {\r\n      event.preventDefault();\r\n      const nextActiveIndex = Math.min(\r\n        activeSuggestionIndex + 1,\r\n        suggestions.length - 1,\r\n      );\r\n      setActiveSuggestionIndex(nextActiveIndex);\r\n    };\r\n\r\n    const onPreviousSuggestion = event => {\r\n      event.preventDefault();\r\n      const nextActiveIndex = Math.max(activeSuggestionIndex - 1, 0);\r\n      setActiveSuggestionIndex(nextActiveIndex);\r\n    };\r\n\r\n    const showStyledPlaceholder =\r\n      placeholder &&\r\n      typeof placeholder !== 'string' &&\r\n      !(inputRef.current && inputRef.current.value);\r\n\r\n    let drop;\r\n    const extraProps = {\r\n      onSelect: handleTextSelect,\r\n    };\r\n    if (showDrop) {\r\n      drop = (\r\n        // keyboard access needed here in case user clicks\r\n        // and drags on scroll bar and focus shifts to drop\r\n        <Keyboard\r\n          onDown={event => onNextSuggestion(event)}\r\n          onUp={event => onPreviousSuggestion(event)}\r\n          onEnter={event => {\r\n            // we stole the focus, give it back\r\n            inputRef.current.focus();\r\n            closeDrop();\r\n            if (handleSuggestionSelect) {\r\n              const adjustedEvent = event;\r\n              adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\r\n              handleSuggestionSelect(adjustedEvent);\r\n            }\r\n            setValue(suggestions[activeSuggestionIndex]);\r\n          }}\r\n        >\r\n          <Drop\r\n            ref={dropRef}\r\n            id={id ? `text-input-drop__${id}` : undefined}\r\n            align={dropAlign}\r\n            responsive={false}\r\n            target={dropTarget || inputRef.current}\r\n            onClickOutside={closeDrop}\r\n            onEsc={closeDrop}\r\n            {...dropProps}\r\n          >\r\n            <ContainerBox\r\n              ref={suggestionsRef}\r\n              overflow=\"auto\"\r\n              dropHeight={dropHeight}\r\n            >\r\n              <StyledSuggestions>\r\n                <InfiniteScroll items={suggestions} step={theme.select.step}>\r\n                  {(suggestion, index, itemRef) => {\r\n                    // Determine whether the label is done as a child or\r\n                    // as an option Button kind property.\r\n                    const renderedLabel = renderLabel(suggestion);\r\n                    let child;\r\n                    if (typeof renderedLabel !== 'string')\r\n                      // must be an element rendered by suggestions.label\r\n                      child = renderedLabel;\r\n                    else if (!theme.button.option)\r\n                      // don't have theme support, need to layout here\r\n                      child = (\r\n                        <Box align=\"start\" pad=\"small\">\r\n                          {renderedLabel}\r\n                        </Box>\r\n                      );\r\n                    // if we have a child, turn on plain, and hoverIndicator\r\n\r\n                    return (\r\n                      <li\r\n                        key={`${stringLabel(suggestion)}-${index}`}\r\n                        ref={itemRef}\r\n                      >\r\n                        <Button\r\n                          active={activeSuggestionIndex === index}\r\n                          ref={r => {\r\n                            suggestionRefs[index] = r;\r\n                          }}\r\n                          fill\r\n                          plain={!child ? undefined : true}\r\n                          align=\"start\"\r\n                          kind={!child ? 'option' : undefined}\r\n                          hoverIndicator={!child ? undefined : 'background'}\r\n                          label={!child ? renderedLabel : undefined}\r\n                          onClick={event => {\r\n                            // we stole the focus, give it back\r\n                            inputRef.current.focus();\r\n                            closeDrop();\r\n                            if (handleSuggestionSelect) {\r\n                              event.persist();\r\n                              const adjustedEvent = event;\r\n                              adjustedEvent.suggestion = suggestion;\r\n                              adjustedEvent.target = inputRef.current;\r\n                              handleSuggestionSelect(adjustedEvent);\r\n                            }\r\n                            setValue(suggestion);\r\n                          }}\r\n                          onMouseOver={() => setActiveSuggestionIndex(index)}\r\n                          onFocus={() => setActiveSuggestionIndex(index)}\r\n                        >\r\n                          {child}\r\n                        </Button>\r\n                      </li>\r\n                    );\r\n                  }}\r\n                </InfiniteScroll>\r\n              </StyledSuggestions>\r\n            </ContainerBox>\r\n          </Drop>\r\n        </Keyboard>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <StyledTextInputContainer plain={plain}>\r\n        {showStyledPlaceholder && (\r\n          <StyledPlaceholder>{placeholder}</StyledPlaceholder>\r\n        )}\r\n        {icon && (\r\n          <StyledIcon reverse={reverse} theme={theme}>\r\n            {icon}\r\n          </StyledIcon>\r\n        )}\r\n        <Keyboard\r\n          onEnter={event => {\r\n            closeDrop();\r\n            if (activeSuggestionIndex >= 0 && handleSuggestionSelect) {\r\n              // prevent submitting forms when choosing a suggestion\r\n              event.preventDefault();\r\n              event.persist();\r\n              const adjustedEvent = event;\r\n              adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\r\n              adjustedEvent.target = inputRef.current;\r\n              handleSuggestionSelect(adjustedEvent);\r\n            }\r\n          }}\r\n          onEsc={\r\n            showDrop\r\n              ? event => {\r\n                  closeDrop();\r\n                  // we have to stop both synthetic events and native events\r\n                  // drop and layer should not close by pressing esc on this\r\n                  // input\r\n                  event.stopPropagation();\r\n                  event.nativeEvent.stopImmediatePropagation();\r\n                }\r\n              : undefined\r\n          }\r\n          onTab={showDrop ? closeDrop : undefined}\r\n          onUp={\r\n            showDrop &&\r\n            suggestions &&\r\n            suggestions.length > 0 &&\r\n            activeSuggestionIndex\r\n              ? event => {\r\n                  onPreviousSuggestion(event);\r\n                }\r\n              : undefined\r\n          }\r\n          onDown={\r\n            suggestions && suggestions.length > 0\r\n              ? event => {\r\n                  if (!showDrop) {\r\n                    openDrop();\r\n                  } else {\r\n                    onNextSuggestion(event);\r\n                  }\r\n                }\r\n              : undefined\r\n          }\r\n          onKeyDown={onKeyDown}\r\n        >\r\n          <StyledTextInput\r\n            aria-label={a11yTitle}\r\n            ref={inputRef}\r\n            id={id}\r\n            name={name}\r\n            autoComplete=\"off\"\r\n            plain={plain}\r\n            placeholder={\r\n              typeof placeholder === 'string' ? placeholder : undefined\r\n            }\r\n            icon={icon}\r\n            reverse={reverse}\r\n            focus={focus}\r\n            textAlign={textAlign}\r\n            {...rest}\r\n            {...extraProps}\r\n            defaultValue={renderLabel(defaultValue)}\r\n            value={renderLabel(value)}\r\n            readOnly={readOnly}\r\n            onFocus={event => {\r\n              setFocus(true);\r\n              if (suggestions && suggestions.length > 0) {\r\n                announce(messages.suggestionsExist);\r\n                openDrop();\r\n              }\r\n              if (onFocus) onFocus(event);\r\n            }}\r\n            onBlur={event => {\r\n              setFocus(false);\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            onChange={\r\n              readOnly\r\n                ? undefined\r\n                : event => {\r\n                    setValue(event.target.value);\r\n                    if (onChange) onChange(event);\r\n                  }\r\n            }\r\n          />\r\n        </Keyboard>\r\n        {drop}\r\n      </StyledTextInputContainer>\r\n    );\r\n  },\r\n);\r\n\r\nTextInput.displayName = 'TextInput';\r\n\r\nlet TextInputDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TextInputDoc = require('./doc').doc(TextInput);\r\n}\r\nconst TextInputWrapper = TextInputDoc || TextInput;\r\n\r\nexport { TextInputWrapper as TextInput };\r\n","import React, {\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  findScrollParent,\r\n  findScrollParents,\r\n  isNodeAfterScroll,\r\n  isNodeBeforeScroll,\r\n} from '../../utils';\r\nimport { Box } from '../Box';\r\n\r\nconst InfiniteScroll = ({\r\n  children,\r\n  items = [],\r\n  onMore,\r\n  renderMarker,\r\n  replace,\r\n  show: showProp,\r\n  step = 50,\r\n}) => {\r\n  // item index to be made visible initially\r\n  const [show, setShow] = useState(showProp);\r\n\r\n  // the last page we have items for\r\n  const lastPage = useMemo(() => Math.floor(items.length / step), [\r\n    items.length,\r\n    step,\r\n  ]);\r\n\r\n  // the pages we are rendering\r\n  const [renderPageBounds, setRenderPageBounds] = useState([\r\n    0,\r\n    show ? Math.floor((show + step) / step) - 1 : 0,\r\n  ]);\r\n\r\n  // the heights of the pages, approximated after we render the first page\r\n  // and then updated for pages that have rendered\r\n  const [pageHeights, setPageHeights] = useState([]);\r\n\r\n  // what we're waiting for onMore to give us\r\n  const [pendingLength, setPendingLength] = useState(0);\r\n\r\n  const aboveMarkerRef = useRef(); // only when replacing\r\n  const belowMarkerRef = useRef();\r\n\r\n  // scroll and resize handling\r\n  useEffect(() => {\r\n    let scrollParents;\r\n\r\n    const evaluate = () => {\r\n      if (!scrollParents) return;\r\n      const scrollParent = scrollParents[0];\r\n\r\n      // Determine the scroll position of the scroll container\r\n      let top;\r\n      let height;\r\n      if (scrollParent === document) {\r\n        top = document.documentElement.scrollTop || document.body.scrollTop;\r\n        height = window.innerHeight;\r\n      } else {\r\n        top = scrollParent.scrollTop;\r\n        const rect = scrollParent.getBoundingClientRect();\r\n        ({ height } = rect);\r\n      }\r\n      const offset = height / 4; // so we pre-load when the user scrolls slowly\r\n\r\n      // Use the pageHeights to determine what pages we should render based\r\n      // on the current scroll window.\r\n      let nextBeginPage = 0;\r\n      let index = 0;\r\n      let pagesHeight = pageHeights[index] || 0;\r\n      while (pageHeights[index + 1] && pagesHeight < top - offset) {\r\n        index += 1;\r\n        nextBeginPage += 1;\r\n        pagesHeight += pageHeights[index];\r\n      }\r\n      let nextEndPage = nextBeginPage;\r\n      while (\r\n        pageHeights[index] !== undefined &&\r\n        pagesHeight < top + height + offset\r\n      ) {\r\n        index += 1;\r\n        nextEndPage += 1;\r\n        // when we haven't rendered the nextEndPage and we aren't replacing,\r\n        // we might not have a height for it yet\r\n        pagesHeight += pageHeights[index] || 0;\r\n      }\r\n\r\n      if (!replace) {\r\n        // when not replacing, never shrink bounds\r\n        nextBeginPage = 0;\r\n        nextEndPage = Math.max(renderPageBounds[1], nextEndPage);\r\n      }\r\n\r\n      if (show) {\r\n        // ensure we try to render any show page\r\n        const showPage = Math.floor((show + step) / step) - 1;\r\n        nextBeginPage = Math.min(showPage, nextBeginPage);\r\n        nextEndPage = Math.max(showPage, nextEndPage);\r\n      }\r\n\r\n      if (\r\n        nextBeginPage !== renderPageBounds[0] ||\r\n        nextEndPage !== renderPageBounds[1]\r\n      ) {\r\n        setRenderPageBounds([nextBeginPage, nextEndPage]);\r\n      }\r\n    };\r\n\r\n    let timer;\r\n    const debounce = () => {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(evaluate, 10);\r\n    };\r\n\r\n    // might not be there yet or might have already rendered everything\r\n    if (belowMarkerRef.current) {\r\n      scrollParents = findScrollParents(belowMarkerRef.current);\r\n      scrollParents.forEach(sp => sp.addEventListener('scroll', debounce));\r\n    }\r\n    window.addEventListener('resize', debounce);\r\n    evaluate();\r\n    return () => {\r\n      if (scrollParents) {\r\n        scrollParents.forEach(sp => sp.removeEventListener('scroll', debounce));\r\n      }\r\n      window.removeEventListener('resize', debounce);\r\n      clearTimeout(timer);\r\n    };\r\n  }, [pageHeights, renderPageBounds, replace, show, step]);\r\n\r\n  // check if we need to ask for more\r\n  useEffect(() => {\r\n    if (\r\n      onMore &&\r\n      renderPageBounds[1] === lastPage &&\r\n      items.length >= pendingLength\r\n    ) {\r\n      // remember we've asked for more, so we don't keep asking if it takes\r\n      // a while\r\n      setPendingLength(items.length + 1);\r\n      onMore();\r\n    }\r\n  }, [items.length, lastPage, onMore, pendingLength, renderPageBounds, step]);\r\n\r\n  // scroll to any 'show'\r\n  useLayoutEffect(() => {\r\n    // ride out any animation delays, 100ms empirically measured\r\n    const timer = setTimeout(() => {\r\n      if (show && belowMarkerRef.current) {\r\n        // calculate show index based on beginPage\r\n        const showIndex =\r\n          show - renderPageBounds[0] * step + (renderPageBounds[0] ? 1 : 0);\r\n        const showNode = belowMarkerRef.current.parentNode.children.item(\r\n          showIndex,\r\n        );\r\n        if (showNode) {\r\n          const scrollParent = findScrollParent(showNode);\r\n          if (isNodeBeforeScroll(showNode, scrollParent)) {\r\n            showNode.scrollIntoView(true);\r\n          } else if (isNodeAfterScroll(showNode, scrollParent)) {\r\n            showNode.scrollIntoView(false);\r\n          }\r\n          // clean up after having shown\r\n          setShow(undefined);\r\n        }\r\n      }\r\n    }, 100);\r\n    return () => clearTimeout(timer);\r\n  }, [renderPageBounds, show, step]);\r\n\r\n  // calculate and keep track of page heights\r\n  useLayoutEffect(() => {\r\n    // if don't have a belowMarker, we must have rendered everything already\r\n    if (!belowMarkerRef.current) return;\r\n\r\n    // calculate page heights for rendered pages\r\n    const {\r\n      current: {\r\n        parentNode: { children: rendered },\r\n      },\r\n    } = belowMarkerRef;\r\n    // ensure we've rendered the state we have\r\n    // above? + items in rendered pages + below === rendered DOM elements length\r\n    if (\r\n      (aboveMarkerRef.current ? 1 : 0) +\r\n        (renderPageBounds[1] - renderPageBounds[0] + 1) * step +\r\n        1 ===\r\n      rendered.length\r\n    ) {\r\n      let nextPageHeights;\r\n\r\n      // step through each page\r\n      let i = renderPageBounds[0];\r\n      let lastBottom;\r\n      while (i <= renderPageBounds[1]) {\r\n        const topIndex =\r\n          (aboveMarkerRef.current ? 1 : 0) + (i - renderPageBounds[0]) * step;\r\n        const bottomIndex = Math.min(topIndex + step - 1, rendered.length - 1);\r\n        // we use lastBottom for top to ensure grid layouts work\r\n        const top =\r\n          lastBottom !== undefined\r\n            ? lastBottom\r\n            : rendered.item(topIndex).getBoundingClientRect().top;\r\n        const { bottom } = rendered.item(bottomIndex).getBoundingClientRect();\r\n        const height = bottom - top;\r\n        if (bottom && (!pageHeights || pageHeights[i] !== height)) {\r\n          if (!nextPageHeights) nextPageHeights = [...(pageHeights || [])];\r\n          nextPageHeights[i] = height;\r\n        }\r\n        lastBottom = bottom;\r\n        i += 1;\r\n      }\r\n\r\n      // estimate page heights for pages we haven't rendered yet\r\n      while (replace && i <= lastPage) {\r\n        if (!pageHeights[i] && pageHeights[i] !== pageHeights[0]) {\r\n          if (!nextPageHeights) nextPageHeights = [...(pageHeights || [])];\r\n          [nextPageHeights[i]] = nextPageHeights; // set to first page height\r\n        }\r\n        i += 1;\r\n      }\r\n\r\n      if (nextPageHeights) setPageHeights(nextPageHeights);\r\n    }\r\n  }, [lastPage, pageHeights, renderPageBounds, replace, step]);\r\n\r\n  // calculate the height above the first rendered page using the pageHeights\r\n  const aboveHeight = useMemo(() => {\r\n    if (!replace) return 0;\r\n    let height = 0;\r\n    let i = 0;\r\n    while (i < renderPageBounds[0]) {\r\n      height += pageHeights[i] || 0;\r\n      i += 1;\r\n    }\r\n    return height;\r\n  }, [pageHeights, renderPageBounds, replace]);\r\n\r\n  // calculate the height below the last rendered page using the pageHeights\r\n  const belowHeight = useMemo(() => {\r\n    if (!replace) return 0;\r\n    let height = 0;\r\n    let i = renderPageBounds[1] + 1;\r\n    while (i <= lastPage) {\r\n      height += pageHeights[i] || 0;\r\n      i += 1;\r\n    }\r\n    return height;\r\n  }, [lastPage, pageHeights, renderPageBounds, replace]);\r\n\r\n  const firstIndex = renderPageBounds[0] * step;\r\n  const lastIndex =\r\n    Math.min((renderPageBounds[1] + 1) * step, items.length) - 1;\r\n\r\n  const result = [];\r\n\r\n  if (aboveHeight) {\r\n    let marker = (\r\n      <Box\r\n        key=\"above\"\r\n        ref={aboveMarkerRef}\r\n        flex={false}\r\n        height={`${aboveHeight}px`}\r\n      />\r\n    );\r\n    if (renderMarker) {\r\n      // need to give it a key\r\n      marker = React.cloneElement(renderMarker(marker), { key: 'above' });\r\n    }\r\n    result.push(marker);\r\n  }\r\n\r\n  items.slice(firstIndex, lastIndex + 1).forEach((item, index) => {\r\n    const itemsIndex = firstIndex + index;\r\n    const child = children(item, itemsIndex);\r\n    result.push(child);\r\n  });\r\n\r\n  if (replace || renderPageBounds[1] < lastPage || onMore) {\r\n    let marker = (\r\n      <Box\r\n        key=\"below\"\r\n        ref={(!renderMarker && belowMarkerRef) || undefined}\r\n        flex={false}\r\n        height={`${belowHeight || 0}px`}\r\n      />\r\n    );\r\n    if (renderMarker) {\r\n      // need to give it a key\r\n      const renderedMarker = renderMarker(marker);\r\n      marker = React.cloneElement(renderedMarker, {\r\n        key: 'below',\r\n        // We need to make sure our belowMarkerRef is tied to a component\r\n        // that has the same parent as the items being rendered. This is so\r\n        // we can use belowMarkerRef.current.parentNode.children to\r\n        // get a reference to the items in the DOM for calculating pageHeights.\r\n        //\r\n        // Since the caller might have included a ref in what their\r\n        // renderMarker returns, we have to take care of both refs.\r\n        // https://github.com/facebook/react/issues/8873#issuecomment-489579878\r\n        ref: node => {\r\n          // Keep your own reference\r\n          belowMarkerRef.current = node;\r\n          // Call the original ref, if any\r\n          const { ref } = renderedMarker;\r\n          if (typeof ref === 'function') {\r\n            ref(node);\r\n          } else if (ref !== null) {\r\n            ref.current = node;\r\n          }\r\n        },\r\n      });\r\n    }\r\n    result.push(marker);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nlet InfiniteScrollDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  InfiniteScrollDoc = require('./doc').doc(InfiniteScroll);\r\n}\r\nconst InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;\r\n\r\nexport { InfiniteScrollWrapper as InfiniteScroll };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport {\r\n  disabledStyle,\r\n  getInputPadBySide,\r\n  inputStyle,\r\n  parseMetricToNum,\r\n  plainInputStyle,\r\n  textAlignStyle,\r\n} from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst getPlainStyle = plain => {\r\n  if (plain === 'full') {\r\n    return css`\r\n      ${plainInputStyle} padding: 0;\r\n    `;\r\n  }\r\n  return plain && plainInputStyle;\r\n};\r\n\r\nconst StyledTextInput = styled.input`\r\n  ${inputStyle}\r\n  ${props => getPlainStyle(props.plain)}\r\n  ${props =>\r\n    props.icon &&\r\n    (props.reverse\r\n      ? `padding-right: ${props.theme.global.edgeSize.large};`\r\n      : `padding-left: ${props.theme.global.edgeSize.large};`)}\r\n  ${props =>\r\n    props.disabled &&\r\n    disabledStyle(\r\n      props.theme.textInput.disabled && props.theme.textInput.disabled.opacity,\r\n    )}\r\n  ${props => props.theme.textInput && props.theme.textInput.extend};\r\n  ${props => props.textAlign && textAlignStyle}\r\n`;\r\n\r\nStyledTextInput.defaultProps = {};\r\nObject.setPrototypeOf(StyledTextInput.defaultProps, defaultProps);\r\n\r\nconst StyledTextInputContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n\r\n  ${props =>\r\n    props.theme.textInput &&\r\n    props.theme.textInput.container &&\r\n    props.theme.textInput.container.extend};\r\n`;\r\n\r\nStyledTextInputContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledTextInputContainer.defaultProps, defaultProps);\r\n\r\nconst StyledPlaceholder = styled.div`\r\n  position: absolute;\r\n  left: ${props =>\r\n    parseMetricToNum(getInputPadBySide(props, 'left')) -\r\n    parseMetricToNum(props.theme.global.control.border.width)}px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  justify-content: center;\r\n  pointer-events: none;\r\n\r\n  ${props =>\r\n    props.theme.textInput &&\r\n    props.theme.textInput.placeholder &&\r\n    props.theme.textInput.placeholder.extend};\r\n`;\r\n\r\nStyledPlaceholder.defaultProps = {};\r\nObject.setPrototypeOf(StyledPlaceholder.defaultProps, defaultProps);\r\n\r\nconst StyledIcon = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify: center;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  pointer-events: none;\r\n  ${props =>\r\n    props.reverse\r\n      ? `right: ${getInputPadBySide(props, 'right')};`\r\n      : `left: ${getInputPadBySide(props, 'left')};`}\r\n`;\r\n\r\nconst StyledSuggestions = styled.ol`\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style-type: none;\r\n\r\n  ${props =>\r\n    props.theme.textInput &&\r\n    props.theme.textInput.suggestions &&\r\n    props.theme.textInput.suggestions.extend};\r\n`;\r\n\r\nStyledSuggestions.defaultProps = {};\r\nObject.setPrototypeOf(StyledSuggestions.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledTextInput,\r\n  StyledTextInputContainer,\r\n  StyledPlaceholder,\r\n  StyledIcon,\r\n  StyledSuggestions,\r\n};\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { StyledTableRow } from '../Table/StyledTable';\r\n\r\nconst TableRow = forwardRef((props, ref) => (\r\n  <StyledTableRow ref={ref} {...props} />\r\n));\r\n\r\nTableRow.displayName = 'TableRow';\r\n\r\nlet TableRowDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TableRowDoc = require('./doc').doc(TableRow);\r\n}\r\nconst TableRowWrapper = TableRowDoc || TableRow;\r\n\r\nexport { TableRowWrapper as TableRow };\r\n","import React from 'react';\r\n\r\nimport { StyledTable, StyledTableDataCaption } from './StyledTable';\r\n\r\nconst Table = ({ caption, children, ...rest }) => (\r\n  <StyledTable {...rest}>\r\n    {caption ? (\r\n      <StyledTableDataCaption>{caption}</StyledTableDataCaption>\r\n    ) : null}\r\n    {children}\r\n  </StyledTable>\r\n);\r\n\r\nlet TableDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TableDoc = require('./doc').doc(Table); // eslint-disable-line global-require\r\n}\r\nconst TableWrapper = TableDoc || Table;\r\n\r\nexport { TableWrapper as Table };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { TableContext } from '../Table/TableContext';\r\nimport { StyledTableBody } from '../Table/StyledTable';\r\n\r\nconst TableBody = forwardRef((props, ref) => (\r\n  <TableContext.Provider value=\"body\">\r\n    <StyledTableBody ref={ref} {...props} />\r\n  </TableContext.Provider>\r\n));\r\n\r\nTableBody.displayName = 'TableBody';\r\n\r\nlet TableBodyDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TableBodyDoc = require('./doc').doc(TableBody);\r\n}\r\nconst TableBodyWrapper = TableBodyDoc || TableBody;\r\n\r\nexport { TableBodyWrapper as TableBody };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { TableContext } from '../Table/TableContext';\r\nimport { StyledTableHeader } from '../Table/StyledTable';\r\n\r\nconst TableHeader = forwardRef((props, ref) => (\r\n  <TableContext.Provider value=\"header\">\r\n    <StyledTableHeader ref={ref} {...props} />\r\n  </TableContext.Provider>\r\n));\r\n\r\nTableHeader.displayName = 'TableHeader';\r\n\r\nlet TableHeaderDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TableHeaderDoc = require('./doc').doc(TableHeader);\r\n}\r\nconst TableHeaderWrapper = TableHeaderDoc || TableHeader;\r\n\r\nexport { TableHeaderWrapper as TableHeader };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { TableContext } from '../Table/TableContext';\r\nimport { StyledTableFooter } from '../Table/StyledTable';\r\n\r\nconst TableFooter = forwardRef((props, ref) => (\r\n  <TableContext.Provider value=\"footer\">\r\n    <StyledTableFooter ref={ref} {...props} />\r\n  </TableContext.Provider>\r\n));\r\n\r\nTableFooter.displayName = 'TableFooter';\r\n\r\nlet TableFooterDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TableFooterDoc = require('./doc').doc(TableFooter);\r\n}\r\nconst TableFooterWrapper = TableFooterDoc || TableFooter;\r\n\r\nexport { TableFooterWrapper as TableFooter };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { TableRow } from '../TableRow';\r\nimport { TableCell } from '../TableCell';\r\n\r\nimport { Cell } from './Cell';\r\nimport { StyledDataTableFooter } from './StyledDataTable';\r\n\r\nconst Footer = forwardRef(\r\n  (\r\n    {\r\n      background,\r\n      border,\r\n      columns,\r\n      fill,\r\n      footerValues,\r\n      groups,\r\n      onSelect,\r\n      pad,\r\n      pin: tablePin,\r\n      primaryProperty,\r\n      selected,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => (\r\n    <StyledDataTableFooter ref={ref} fillProp={fill} pin={tablePin} {...rest}>\r\n      <TableRow>\r\n        {groups && (\r\n          <TableCell plain size=\"xxsmall\" pad=\"none\" verticalAlign=\"top\" />\r\n        )}\r\n        {(selected || onSelect) && <TableCell background={background} />}\r\n        {columns.map(column => {\r\n          const pin = [];\r\n          if (tablePin) pin.push('bottom');\r\n          if (column.pin) pin.push('left');\r\n          return (\r\n            <Cell\r\n              key={column.property}\r\n              background={background}\r\n              border={border}\r\n              context=\"footer\"\r\n              column={column}\r\n              datum={footerValues}\r\n              pad={pad}\r\n              pin={pin.length ? pin : undefined}\r\n              primaryProperty={primaryProperty}\r\n            />\r\n          );\r\n        })}\r\n      </TableRow>\r\n    </StyledDataTableFooter>\r\n  ),\r\n);\r\n\r\nFooter.displayName = 'Footer';\r\n\r\nFooter.defaultProps = {};\r\nObject.setPrototypeOf(Footer.defaultProps, defaultProps);\r\n\r\nexport { Footer };\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { CheckBox } from '../CheckBox';\r\nimport { InfiniteScroll } from '../InfiniteScroll';\r\nimport { TableRow } from '../TableRow';\r\nimport { TableCell } from '../TableCell';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nimport { Cell } from './Cell';\r\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\r\nimport { datumValue } from './buildState';\r\n\r\nconst Body = forwardRef(\r\n  (\r\n    {\r\n      background,\r\n      border,\r\n      columns,\r\n      data,\r\n      onMore,\r\n      replace,\r\n      onClickRow,\r\n      onSelect,\r\n      pad,\r\n      pinnedBackground,\r\n      primaryProperty,\r\n      rowProps,\r\n      selected,\r\n      size,\r\n      step,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [active, setActive] = React.useState();\r\n    return (\r\n      <Keyboard\r\n        onEnter={\r\n          onClickRow && active >= 0\r\n            ? event => {\r\n                event.persist();\r\n                const adjustedEvent = event;\r\n                adjustedEvent.datum = data[active];\r\n                onClickRow(adjustedEvent);\r\n              }\r\n            : undefined\r\n        }\r\n        onUp={\r\n          onClickRow && active\r\n            ? () => {\r\n                setActive(active - 1);\r\n              }\r\n            : undefined\r\n        }\r\n        onDown={\r\n          onClickRow && data.length\r\n            ? () => {\r\n                setActive(\r\n                  active >= 0 ? Math.min(active + 1, data.length - 1) : 0,\r\n                );\r\n              }\r\n            : undefined\r\n        }\r\n      >\r\n        <StyledDataTableBody\r\n          ref={ref}\r\n          size={size}\r\n          tabIndex={onClickRow ? 0 : undefined}\r\n          {...rest}\r\n        >\r\n          <InfiniteScroll\r\n            items={data}\r\n            onMore={onMore}\r\n            replace={replace}\r\n            renderMarker={marker => (\r\n              <TableRow>\r\n                <TableCell>{marker}</TableCell>\r\n              </TableRow>\r\n            )}\r\n            scrollableAncestor=\"window\"\r\n            step={step}\r\n          >\r\n            {(datum, index, rowRef) => {\r\n              const primaryValue = primaryProperty\r\n                ? datumValue(datum, primaryProperty)\r\n                : undefined;\r\n              const isSelected = selected && selected.includes(primaryValue);\r\n              return (\r\n                <StyledDataTableRow\r\n                  key={primaryValue || index}\r\n                  ref={rowRef}\r\n                  size={size}\r\n                  active={active >= 0 ? active === index : undefined}\r\n                  onClick={\r\n                    onClickRow\r\n                      ? event => {\r\n                          // extract from React's synthetic event pool\r\n                          event.persist();\r\n                          const adjustedEvent = event;\r\n                          adjustedEvent.datum = datum;\r\n                          adjustedEvent.index = index;\r\n                          onClickRow(adjustedEvent);\r\n                        }\r\n                      : undefined\r\n                  }\r\n                  onMouseOver={onClickRow ? () => setActive(index) : undefined}\r\n                  onMouseOut={\r\n                    onClickRow ? () => setActive(undefined) : undefined\r\n                  }\r\n                  onFocus={onClickRow ? () => setActive(index) : undefined}\r\n                  onBlur={onClickRow ? () => setActive(undefined) : undefined}\r\n                >\r\n                  {(selected || onSelect) && (\r\n                    <TableCell background={background}>\r\n                      <CheckBox\r\n                        a11yTitle={`${\r\n                          isSelected ? 'unselect' : 'select'\r\n                        } ${primaryValue}`}\r\n                        checked={isSelected}\r\n                        disabled={!onSelect}\r\n                        onChange={() => {\r\n                          if (isSelected)\r\n                            onSelect(selected.filter(s => s !== primaryValue));\r\n                          else onSelect([...selected, primaryValue]);\r\n                        }}\r\n                      />\r\n                    </TableCell>\r\n                  )}\r\n                  {columns.map(column => (\r\n                    <Cell\r\n                      key={column.property}\r\n                      background={column.pin ? pinnedBackground : background}\r\n                      border={border}\r\n                      context=\"body\"\r\n                      column={column}\r\n                      datum={datum}\r\n                      index={index}\r\n                      pad={pad}\r\n                      primaryProperty={primaryProperty}\r\n                      rowProp={rowProps && rowProps[primaryValue]}\r\n                      scope={\r\n                        column.primary || column.property === primaryProperty\r\n                          ? 'row'\r\n                          : undefined\r\n                      }\r\n                    />\r\n                  ))}\r\n                </StyledDataTableRow>\r\n              );\r\n            }}\r\n          </InfiniteScroll>\r\n        </StyledDataTableBody>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nexport { Body };\r\n","import React, { Fragment } from 'react';\r\n\r\nimport { Cell } from './Cell';\r\nimport { ExpanderCell } from './ExpanderCell';\r\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\r\n\r\nexport const GroupedBody = ({\r\n  background,\r\n  border,\r\n  columns,\r\n  groupBy,\r\n  groups,\r\n  groupState,\r\n  pad,\r\n  primaryProperty,\r\n  onToggle,\r\n  size,\r\n  ...rest\r\n}) => (\r\n  <StyledDataTableBody size={size} {...rest}>\r\n    {groups.map(group => {\r\n      const { expanded } = groupState[group.key];\r\n      const memberCount = group.data.length;\r\n\r\n      let content =\r\n        memberCount > 1 ? (\r\n          <StyledDataTableRow key={group.key} size={size}>\r\n            <ExpanderCell\r\n              context={expanded ? 'groupHeader' : 'body'}\r\n              expanded={expanded}\r\n              onToggle={onToggle(group.key)}\r\n            />\r\n            {columns.map(column => (\r\n              <Cell\r\n                key={column.property}\r\n                background={background}\r\n                border={border}\r\n                context={expanded ? 'groupHeader' : 'body'}\r\n                column={column}\r\n                datum={group.datum}\r\n                pad={pad}\r\n                scope={column.property === groupBy ? 'row' : undefined}\r\n              />\r\n            ))}\r\n          </StyledDataTableRow>\r\n        ) : null;\r\n\r\n      if (memberCount === 1 || expanded) {\r\n        content = (\r\n          <Fragment key={group.key}>\r\n            {content}\r\n            {group.data.map((datum, index) => {\r\n              const context =\r\n                memberCount > 1 && index === memberCount - 1\r\n                  ? 'groupEnd'\r\n                  : 'body';\r\n              return (\r\n                <StyledDataTableRow key={datum[primaryProperty]} size={size}>\r\n                  <ExpanderCell context={context} />\r\n                  {columns.map(column => (\r\n                    <Cell\r\n                      key={column.property}\r\n                      background={background}\r\n                      border={border}\r\n                      context={context}\r\n                      column={column}\r\n                      datum={datum}\r\n                      pad={pad}\r\n                      scope={column.primary ? 'row' : undefined}\r\n                    />\r\n                  ))}\r\n                </StyledDataTableRow>\r\n              );\r\n            })}\r\n          </Fragment>\r\n        );\r\n      }\r\n\r\n      return content;\r\n    })}\r\n  </StyledDataTableBody>\r\n);\r\n","export { DateInput } from './DateInput';\r\n","import React, {\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { Calendar as CalendarIcon } from 'grommet-icons/icons/Calendar';\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\nimport { Calendar } from '../Calendar';\r\nimport { Drop } from '../Drop';\r\nimport { DropButton } from '../DropButton';\r\nimport { FormContext } from '../Form';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { MaskedInput } from '../MaskedInput';\r\nimport { useForwardedRef } from '../../utils';\r\nimport { formatToSchema, valueToText, textToValue } from './utils';\r\n\r\nconst DateInput = forwardRef(\r\n  (\r\n    {\r\n      buttonProps, // when no format and not inline\r\n      calendarProps,\r\n      defaultValue,\r\n      disabled,\r\n      dropProps, // when inline isn't true\r\n      format,\r\n      id,\r\n      inline = false,\r\n      inputProps, // for MaskedInput, when format is specified\r\n      name,\r\n      onChange,\r\n      onFocus,\r\n      value: valueArg,\r\n      ...rest\r\n    },\r\n    refArg,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const iconSize =\r\n      (theme.dateInput.icon && theme.dateInput.icon.size) || 'medium';\r\n    const { useFormInput } = useContext(FormContext);\r\n    const ref = useForwardedRef(refArg);\r\n    const [value, setValue] = useFormInput(name, valueArg, defaultValue);\r\n\r\n    // parse format and build a formal schema we can use elsewhere\r\n    const schema = useMemo(() => formatToSchema(format), [format]);\r\n\r\n    // mask is only used when a format is provided\r\n    const mask = useMemo(() => {\r\n      if (!schema) return undefined;\r\n      return schema.map(part => {\r\n        const char = part[0].toLowerCase();\r\n        if (char === 'm' || char === 'd' || char === 'y') {\r\n          return {\r\n            placeholder: part,\r\n            length: [1, part.length],\r\n            regexp: new RegExp(`^[0-9]{1,${part.length}}$`),\r\n          };\r\n        }\r\n        return { fixed: part };\r\n      });\r\n    }, [schema]);\r\n\r\n    // textValue is only used when a format is provided\r\n    const [textValue, setTextValue] = useState(\r\n      schema ? valueToText(value, schema) : undefined,\r\n    );\r\n    // We need to distinguish between the caller changing a Form value\r\n    // and the user typing a date that he isn't finished with yet.\r\n    // To track this, we keep track of the internalValue from interacting\r\n    // within this component. If the value has changed outside of this\r\n    // component, we reset the textValue.\r\n    const [internalValue, setInternalValue] = useState(value);\r\n    useEffect(() => {\r\n      if (schema && !!value !== !!internalValue) {\r\n        setTextValue(valueToText(value, schema));\r\n        setInternalValue(value);\r\n      }\r\n    }, [internalValue, schema, value]);\r\n\r\n    // when format and not inline, whether to show the Calendar in a Drop\r\n    const [open, setOpen] = useState();\r\n\r\n    const range = Array.isArray(value);\r\n\r\n    const calendar = (\r\n      <Calendar\r\n        ref={inline ? ref : undefined}\r\n        id={inline && !format ? id : undefined}\r\n        range={range}\r\n        date={range ? undefined : value}\r\n        dates={range ? [value] : undefined}\r\n        onSelect={\r\n          disabled\r\n            ? undefined\r\n            : nextValue => {\r\n                let normalizedValue;\r\n                if (range && Array.isArray(nextValue))\r\n                  [normalizedValue] = nextValue;\r\n                // clicking an edge date removes it\r\n                else if (range) normalizedValue = [nextValue, nextValue];\r\n                else normalizedValue = nextValue;\r\n                if (schema) setTextValue(valueToText(normalizedValue, schema));\r\n                setValue(normalizedValue);\r\n                setInternalValue(normalizedValue);\r\n                if (onChange) onChange({ value: normalizedValue });\r\n                if (open && !range) setOpen(false);\r\n              }\r\n        }\r\n        {...calendarProps}\r\n      />\r\n    );\r\n\r\n    if (!format) {\r\n      // When no format is specified, we don't give the user a way to type\r\n      if (inline) return calendar;\r\n\r\n      return (\r\n        <DropButton\r\n          ref={ref}\r\n          id={id}\r\n          dropProps={{ align: { top: 'bottom', left: 'left' }, ...dropProps }}\r\n          dropContent={calendar}\r\n          icon={<CalendarIcon size={iconSize} />}\r\n          {...buttonProps}\r\n        />\r\n      );\r\n    }\r\n\r\n    const input = (\r\n      <FormContext.Provider\r\n        key=\"input\"\r\n        // don't let MaskedInput drive the Form\r\n        value={{ useFormInput: (_, val) => [val, () => {}] }}\r\n      >\r\n        <Keyboard onEsc={open ? () => setOpen(false) : undefined}>\r\n          <MaskedInput\r\n            ref={ref}\r\n            id={id}\r\n            name={name}\r\n            icon={<CalendarIcon size={iconSize} />}\r\n            reverse\r\n            disabled={disabled}\r\n            mask={mask}\r\n            {...inputProps}\r\n            {...rest}\r\n            value={textValue}\r\n            onChange={event => {\r\n              const nextTextValue = event.target.value;\r\n              setTextValue(nextTextValue);\r\n              const nextValue = textToValue(nextTextValue, schema);\r\n              // update value even when undefined\r\n              setValue(nextValue);\r\n              setInternalValue(nextValue || '');\r\n              if (onChange) {\r\n                event.persist(); // extract from React synthetic event pool\r\n                const adjustedEvent = event;\r\n                adjustedEvent.value = nextValue;\r\n                onChange(adjustedEvent);\r\n              }\r\n            }}\r\n            onFocus={event => {\r\n              setOpen(true);\r\n              if (onFocus) onFocus(event);\r\n            }}\r\n          />\r\n        </Keyboard>\r\n      </FormContext.Provider>\r\n    );\r\n\r\n    if (inline) {\r\n      return (\r\n        <Box>\r\n          {input}\r\n          {calendar}\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    if (open) {\r\n      return [\r\n        input,\r\n        <Drop\r\n          overflow=\"visible\"\r\n          key=\"drop\"\r\n          id={id ? `${id}__drop` : undefined}\r\n          target={ref.current}\r\n          align={{ top: 'bottom', left: 'left', ...dropProps }}\r\n          onEsc={() => setOpen(false)}\r\n          onClickOutside={() => setOpen(false)}\r\n          {...dropProps}\r\n        >\r\n          {calendar}\r\n        </Drop>,\r\n      ];\r\n    }\r\n\r\n    return input;\r\n  },\r\n);\r\n\r\nDateInput.displayName = 'DateInput';\r\n\r\nlet DateInputDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DateInputDoc = require('./doc').doc(DateInput);\r\n}\r\nconst DateInputWrapper = DateInputDoc || DateInput;\r\n\r\nexport { DateInputWrapper as DateInput };\r\n","\"use strict\";\n\nexports.__esModule = true;\nexports.Calendar = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _StyledIcon = require(\"../StyledIcon\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar Calendar = function Calendar(props) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_StyledIcon.StyledIcon, _extends({\n    viewBox: \"0 0 24 24\",\n    a11yTitle: \"Calendar\"\n  }, props), /*#__PURE__*/_react[\"default\"].createElement(\"path\", {\n    fill: \"none\",\n    stroke: \"#000\",\n    strokeWidth: \"2\",\n    d: \"M2,5 L22,5 L22,22 L2,22 L2,5 Z M18,5 L18,1 M6,5 L6,1 M2,10 L22,10\"\n  }));\n};\n\nexports.Calendar = Calendar;","import React, { forwardRef, useCallback, useEffect, useState } from 'react';\r\n\r\nimport { Button } from '../Button';\r\nimport { Drop } from '../Drop';\r\nimport { useForwardedRef } from '../../utils';\r\n\r\nconst defaultDropAlign = { top: 'top', left: 'left' };\r\n\r\nconst DropButton = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle = 'Open Drop',\r\n      disabled,\r\n      dropAlign = defaultDropAlign,\r\n      dropProps,\r\n      dropContent,\r\n      dropTarget,\r\n      id,\r\n      open,\r\n      onClick,\r\n      onClose,\r\n      onOpen,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const buttonRef = useForwardedRef(ref);\r\n    const [show, setShow] = useState();\r\n    useEffect(() => {\r\n      if (open !== undefined && open !== show) {\r\n        setShow(open);\r\n      }\r\n    }, [open, show]);\r\n    const onDropClose = useCallback(\r\n      event => {\r\n        // if the user has clicked on our Button, don't do anything here,\r\n        // handle that in onClickInternal() below.\r\n        let node = event.target;\r\n        while (node !== document && node !== buttonRef.current) {\r\n          node = node.parentNode;\r\n        }\r\n        if (node !== buttonRef.current) {\r\n          // don't change internal state if caller is driving\r\n          if (open === undefined) setShow(false);\r\n          if (onClose) onClose(event);\r\n        }\r\n      },\r\n      [buttonRef, onClose, open],\r\n    );\r\n\r\n    const onClickInternal = useCallback(\r\n      event => {\r\n        if (!show) {\r\n          setShow(true);\r\n          if (onOpen) onOpen(event);\r\n        } else {\r\n          setShow(false);\r\n          if (onClose) onClose(event);\r\n        }\r\n        if (onClick) onClick(event);\r\n      },\r\n      [onClick, onClose, onOpen, show],\r\n    );\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          id={id}\r\n          ref={buttonRef}\r\n          a11yTitle={a11yTitle}\r\n          disabled={disabled}\r\n          {...rest}\r\n          onClick={onClickInternal}\r\n        />\r\n        {show && buttonRef.current && (\r\n          <Drop\r\n            id={id ? `${id}__drop` : undefined}\r\n            restrictFocus\r\n            align={dropAlign}\r\n            target={dropTarget || buttonRef.current}\r\n            onClickOutside={onDropClose}\r\n            onEsc={onDropClose}\r\n            {...dropProps}\r\n          >\r\n            {dropContent}\r\n          </Drop>\r\n        )}\r\n      </>\r\n    );\r\n  },\r\n);\r\n\r\nDropButton.displayName = 'DropButton';\r\n\r\nlet DropButtonDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DropButtonDoc = require('./doc').doc(DropButton);\r\n}\r\nconst DropButtonWrapper = DropButtonDoc || DropButton;\r\n\r\nexport { DropButtonWrapper as DropButton };\r\n","import React, { forwardRef, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { FormContext } from './FormContext';\r\n\r\nconst defaultMessages = {\r\n  invalid: 'invalid',\r\n  required: 'required',\r\n};\r\nconst defaultValue = {};\r\nconst defaultTouched = {};\r\nconst defaultValidationResults = {\r\n  errors: {},\r\n  infos: {},\r\n};\r\n\r\n// validations is an array from Object.entries()\r\nconst validate = (validations, value, omitValid) => {\r\n  const nextErrors = {};\r\n  const nextInfos = {};\r\n  validations.forEach(([name, validation]) => {\r\n    if (!omitValid) {\r\n      nextErrors[name] = undefined;\r\n      nextInfos[name] = undefined;\r\n    }\r\n    const result = validation(value[name], value);\r\n    // typeof error === 'object' is implied for both cases of error with\r\n    // a status message and for an error object that is a react node\r\n    if (typeof result === 'object') {\r\n      if (result.status === 'info') {\r\n        nextInfos[name] = result.message;\r\n      } else {\r\n        nextErrors[name] = result.message || result; // could be a node\r\n      }\r\n    } else if (typeof result === 'string') {\r\n      nextErrors[name] = result;\r\n    }\r\n  });\r\n  return [nextErrors, nextInfos];\r\n};\r\n\r\nconst Form = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      errors: errorsProp = defaultValidationResults.errors,\r\n      infos: infosProp = defaultValidationResults.infos,\r\n      messages = defaultMessages,\r\n      onChange,\r\n      onReset,\r\n      onSubmit,\r\n      onValidate,\r\n      validate: validateOn = 'submit',\r\n      value: valueProp,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const [valueState, setValueState] = useState(valueProp || defaultValue);\r\n    const value = useMemo(() => valueProp || valueState, [\r\n      valueProp,\r\n      valueState,\r\n    ]);\r\n    const [touched, setTouched] = useState(defaultTouched);\r\n    const [validationResults, setValidationResults] = useState(\r\n      defaultValidationResults,\r\n    );\r\n    useEffect(\r\n      () => setValidationResults({ errors: errorsProp, infos: infosProp }),\r\n      [errorsProp, infosProp],\r\n    );\r\n    const validations = useRef({});\r\n\r\n    // clear any errors when value changes\r\n    useEffect(() => {\r\n      setValidationResults(prevValidationResults => {\r\n        const [nextErrors, nextInfos] = validate(\r\n          Object.entries(validations.current).filter(\r\n            ([n]) =>\r\n              prevValidationResults.errors[n] || prevValidationResults.infos[n],\r\n          ),\r\n          value,\r\n        );\r\n        return {\r\n          errors: { ...prevValidationResults.errors, ...nextErrors },\r\n          infos: { ...prevValidationResults.infos, ...nextInfos },\r\n        };\r\n      });\r\n    }, [touched, value]);\r\n\r\n    // There are three basic patterns of handling form input value state:\r\n    //\r\n    // 1 - form controlled\r\n    //\r\n    // In this model, the caller sets `value` and `onChange` properties\r\n    // on the Form component to supply the values used by the input fields.\r\n    // In useFormContext(), componentValue would be undefined and formValue\r\n    // is be set to whatever the form state has. Whenever the form state\r\n    // changes, we update the contextValue so the input component will use\r\n    // that. When the input component changes, we will call update() to\r\n    // update the form state.\r\n    //\r\n    // 2 - input controlled\r\n    //\r\n    // In this model, the caller sets `value` and `onChange` properties\r\n    // on the input components, like TextInput, to supply the value for it.\r\n    // In useFormContext(), componentValue is this value and we ensure to\r\n    // update the form state, via update(), and set the contextValue from\r\n    // the componentValue. When the input component changes, we will\r\n    // call update() to update the form state.\r\n    //\r\n    // 3 - uncontrolled\r\n    //\r\n    // In this model, the caller doesn't set a `value` or `onChange` property\r\n    // at either the form or input component levels.\r\n    // In useFormContext(), componentValue is undefined and valueProp is\r\n    // undefined and nothing much happens here. That is, unless the\r\n    // calling component needs to know the state in order to work, such\r\n    // as CheckBox or Select. In this case, those components supply\r\n    // an initialValue, which will trigger updating the contextValue so\r\n    // they can have access to it.\r\n    //\r\n    const useFormInput = (name, componentValue, initialValue) => {\r\n      const [inputValue, setInputValue] = useState(initialValue);\r\n      const formValue = name ? value[name] : undefined;\r\n\r\n      // This effect is for pattern #2, where the controlled input\r\n      // component is driving the value via componentValue.\r\n      useEffect(() => {\r\n        if (\r\n          name && // we have somewhere to put this\r\n          componentValue !== undefined && // input driving\r\n          componentValue !== formValue // don't already have it\r\n        ) {\r\n          setValueState(prevValue => {\r\n            const nextValue = { ...prevValue };\r\n            nextValue[name] = componentValue;\r\n            return nextValue;\r\n          });\r\n          // don't onChange on programmatic changes\r\n        }\r\n      }, [componentValue, formValue, name]);\r\n\r\n      let useValue;\r\n      if (componentValue !== undefined)\r\n        // input component drives, pattern #2\r\n        useValue = componentValue;\r\n      else if (valueProp && name && formValue !== undefined)\r\n        // form drives, pattern #1\r\n        useValue = formValue;\r\n      else if (formValue === undefined)\r\n        // form has reset, so reset input value as well\r\n        useValue = initialValue;\r\n      else useValue = inputValue;\r\n\r\n      return [\r\n        useValue,\r\n        nextComponentValue => {\r\n          if (name) {\r\n            // we have somewhere to put this\r\n            const nextTouched = { ...touched };\r\n            nextTouched[name] = true;\r\n\r\n            if (!touched[name]) {\r\n              // don't update if not needed\r\n              setTouched(nextTouched);\r\n            }\r\n\r\n            const nextValue = { ...value };\r\n            nextValue[name] = nextComponentValue;\r\n            setValueState(nextValue);\r\n            if (onChange) onChange(nextValue, { touched: nextTouched });\r\n          }\r\n          if (initialValue !== undefined) setInputValue(nextComponentValue);\r\n        },\r\n      ];\r\n    };\r\n\r\n    const useFormField = ({\r\n      error: errorArg,\r\n      info: infoArg,\r\n      name,\r\n      required,\r\n      validate: validateArg,\r\n    }) => {\r\n      const error = errorArg || validationResults.errors[name];\r\n      const info = infoArg || validationResults.infos[name];\r\n\r\n      useEffect(() => {\r\n        const validateSingle = (aValidate, value2, data) => {\r\n          let result;\r\n          if (typeof aValidate === 'function') {\r\n            result = aValidate(value2, data);\r\n          } else if (aValidate.regexp) {\r\n            if (!aValidate.regexp.test(value2)) {\r\n              result = aValidate.message || messages.invalid;\r\n              if (aValidate.status) {\r\n                result = { message: result, status: aValidate.status };\r\n              }\r\n            }\r\n          }\r\n          return result;\r\n        };\r\n\r\n        const validateField = (value2, data) => {\r\n          let result;\r\n          if (\r\n            required &&\r\n            // false is for CheckBox\r\n            (value2 === undefined || value2 === '' || value2 === false)\r\n          ) {\r\n            result = messages.required;\r\n          } else if (validateArg) {\r\n            if (Array.isArray(validateArg)) {\r\n              validateArg.some(aValidate => {\r\n                result = validateSingle(aValidate, value2, data);\r\n                return !!result;\r\n              });\r\n            } else {\r\n              result = validateSingle(validateArg, value2, data);\r\n            }\r\n          }\r\n          return result;\r\n        };\r\n\r\n        if (validateArg || required) {\r\n          validations.current[name] = validateField;\r\n          return () => delete validations.current[name];\r\n        }\r\n\r\n        return undefined;\r\n      }, [error, name, required, validateArg]);\r\n\r\n      return {\r\n        error,\r\n        info,\r\n        inForm: true,\r\n        onBlur:\r\n          validateOn === 'blur'\r\n            ? () => {\r\n                // run validations on touched keys\r\n                const [nextErrors, nextInfos] = validate(\r\n                  Object.entries(validations.current).filter(\r\n                    ([n]) => touched[n] || n === name,\r\n                  ),\r\n                  value,\r\n                );\r\n                // give user access to errors that have occurred on validation\r\n                setValidationResults(prevValidationResults => {\r\n                  // keep any previous errors and infos for untouched keys,\r\n                  // which probably came from a submit\r\n                  const nextValidationResults = {\r\n                    errors: { ...prevValidationResults.errors, ...nextErrors },\r\n                    infos: { ...prevValidationResults.infos, ...nextInfos },\r\n                  };\r\n                  if (onValidate) onValidate(nextValidationResults);\r\n                  return nextValidationResults;\r\n                });\r\n              }\r\n            : undefined,\r\n      };\r\n    };\r\n\r\n    return (\r\n      <form\r\n        ref={ref}\r\n        {...rest}\r\n        onReset={event => {\r\n          if (!valueProp) {\r\n            setValueState(defaultValue);\r\n            if (onChange) onChange(defaultValue, { touched: defaultTouched });\r\n          }\r\n          setTouched(defaultTouched);\r\n          setValidationResults(defaultValidationResults);\r\n\r\n          if (onReset) {\r\n            event.persist(); // extract from React's synthetic event pool\r\n            const adjustedEvent = event;\r\n            adjustedEvent.value = defaultValue;\r\n            onReset(adjustedEvent);\r\n          }\r\n        }}\r\n        onSubmit={event => {\r\n          // Don't submit the form via browser form action. We don't want it\r\n          // if the validation fails. And, we assume a javascript action handler\r\n          // otherwise.\r\n          event.preventDefault();\r\n          const [nextErrors, nextInfos] = validate(\r\n            Object.entries(validations.current),\r\n            value,\r\n            true,\r\n          );\r\n\r\n          setValidationResults(() => {\r\n            const nextValidationResults = {\r\n              errors: nextErrors,\r\n              infos: nextInfos,\r\n            };\r\n            if (onValidate) onValidate(nextValidationResults);\r\n            return nextValidationResults;\r\n          });\r\n\r\n          if (Object.keys(nextErrors).length === 0 && onSubmit) {\r\n            event.persist(); // extract from React's synthetic event pool\r\n            const adjustedEvent = event;\r\n            adjustedEvent.value = value;\r\n            adjustedEvent.touched = touched;\r\n            onSubmit(adjustedEvent);\r\n          }\r\n        }}\r\n      >\r\n        <FormContext.Provider value={{ useFormField, useFormInput }}>\r\n          {children}\r\n        </FormContext.Provider>\r\n      </form>\r\n    );\r\n  },\r\n);\r\n\r\nForm.displayName = 'Form';\r\n\r\nlet FormDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  FormDoc = require('./doc').doc(Form); // eslint-disable-line global-require\r\n}\r\n\r\nconst FormWrapper = FormDoc || Form;\r\n\r\nexport { FormWrapper as Form };\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Drop } from '../Drop';\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { sizeStyle, useForwardedRef } from '../../utils';\r\n\r\nimport {\r\n  StyledMaskedInput,\r\n  StyledMaskedInputContainer,\r\n  StyledIcon,\r\n} from './StyledMaskedInput';\r\n\r\nconst parseValue = (mask, value) => {\r\n  // break the value up into mask parts\r\n  const valueParts = []; // { part, beginIndex, endIndex }\r\n  let valueIndex = 0;\r\n  let maskIndex = 0;\r\n  while (\r\n    value !== undefined &&\r\n    valueIndex < value.length &&\r\n    maskIndex < mask.length\r\n  ) {\r\n    const item = mask[maskIndex];\r\n    let found;\r\n    if (item.fixed) {\r\n      const { length } = item.fixed;\r\n\r\n      // grab however much of value (starting at valueIndex) matches\r\n      // item.fixed. If none matches it and there is more in value\r\n      // add in the fixed item.\r\n      let matching = 0;\r\n      while (\r\n        matching < length &&\r\n        value[valueIndex + matching] === item.fixed[matching]\r\n      ) {\r\n        matching += 1;\r\n      }\r\n\r\n      if (matching > 0) {\r\n        let part = value.slice(valueIndex, valueIndex + matching);\r\n        if (valueIndex + matching < value.length) {\r\n          // matched part of the fixed portion but there's more stuff\r\n          // after it. Go ahead and fill in the entire fixed chunk\r\n          part = item.fixed;\r\n        }\r\n        valueParts.push({\r\n          part,\r\n          beginIndex: valueIndex,\r\n          endIndex: valueIndex + matching - 1,\r\n        });\r\n        valueIndex += matching;\r\n      } else {\r\n        valueParts.push({\r\n          part: item.fixed,\r\n          beginIndex: valueIndex,\r\n          endIndex: valueIndex + length - 1,\r\n        });\r\n      }\r\n\r\n      maskIndex += 1;\r\n      found = true;\r\n    } else if (item.options) {\r\n      // reverse assuming larger is later\r\n      found = item.options\r\n        .slice(0)\r\n        .reverse()\r\n        // eslint-disable-next-line no-loop-func\r\n        .some(option => {\r\n          const { length } = option;\r\n          const part = value.slice(valueIndex, valueIndex + length);\r\n          if (part === option) {\r\n            valueParts.push({\r\n              part,\r\n              beginIndex: valueIndex,\r\n              endIndex: valueIndex + length - 1,\r\n            });\r\n            valueIndex += length;\r\n            maskIndex += 1;\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n    }\r\n    if (!found) {\r\n      if (item.regexp) {\r\n        const minLength =\r\n          (Array.isArray(item.length) && item.length[0]) || item.length || 1;\r\n        const maxLength =\r\n          (Array.isArray(item.length) && item.length[1]) ||\r\n          item.length ||\r\n          value.length - valueIndex;\r\n        let length = maxLength;\r\n        while (!found && length >= minLength) {\r\n          const part = value.slice(valueIndex, valueIndex + length);\r\n          if (item.regexp.test(part)) {\r\n            valueParts.push({\r\n              part,\r\n              beginIndex: valueIndex,\r\n              endIndex: valueIndex + length - 1,\r\n            });\r\n            valueIndex += length;\r\n            maskIndex += 1;\r\n            found = true;\r\n          }\r\n          length -= 1;\r\n        }\r\n        if (!found) {\r\n          valueIndex = value.length;\r\n        }\r\n      } else {\r\n        const length = Array.isArray(item.length)\r\n          ? item.length[1]\r\n          : item.length || value.length - valueIndex;\r\n        const part = value.slice(valueIndex, valueIndex + length);\r\n        valueParts.push({\r\n          part,\r\n          beginIndex: valueIndex,\r\n          endIndex: valueIndex + length - 1,\r\n        });\r\n        valueIndex += length;\r\n        maskIndex += 1;\r\n      }\r\n    }\r\n  }\r\n  return valueParts;\r\n};\r\n\r\nconst defaultMask = [\r\n  {\r\n    regexp: /[^]*/,\r\n  },\r\n];\r\n\r\nconst ContainerBox = styled(Box)`\r\n  ${props =>\r\n    props.dropHeight\r\n      ? sizeStyle('max-height', props.dropHeight, props.theme)\r\n      : 'max-height: inherit;'};\r\n\r\n  /* IE11 hack to get drop contents to not overflow */\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst dropAlign = { top: 'bottom', left: 'left' };\r\n\r\nconst MaskedInput = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      dropHeight,\r\n      dropProps,\r\n      focus: focusProp,\r\n      icon,\r\n      id,\r\n      mask = defaultMask,\r\n      name,\r\n      onBlur,\r\n      onChange,\r\n      onFocus,\r\n      onKeyDown,\r\n      placeholder,\r\n      plain,\r\n      reverse,\r\n      value: valueProp,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const formContext = useContext(FormContext);\r\n\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp);\r\n\r\n    const [valueParts, setValueParts] = useState(parseValue(mask, value));\r\n    useEffect(() => {\r\n      setValueParts(parseValue(mask, value));\r\n    }, [mask, value]);\r\n\r\n    const inputRef = useForwardedRef(ref);\r\n    const dropRef = useRef();\r\n\r\n    const [focus, setFocus] = useState(focusProp);\r\n    const [activeMaskIndex, setActiveMaskIndex] = useState();\r\n    const [activeOptionIndex, setActiveOptionIndex] = useState();\r\n    const [showDrop, setShowDrop] = useState();\r\n\r\n    useEffect(() => {\r\n      if (focus) {\r\n        const timer = setTimeout(() => {\r\n          // determine which mask element the caret is at\r\n          const caretIndex = inputRef.current.selectionStart;\r\n          let maskIndex;\r\n          valueParts.some((part, index) => {\r\n            if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\r\n              maskIndex = index;\r\n              return true;\r\n            }\r\n            return false;\r\n          });\r\n          if (maskIndex === undefined && valueParts.length < mask.length) {\r\n            maskIndex = valueParts.length; // first unused one\r\n          }\r\n          if (maskIndex && mask[maskIndex].fixed) {\r\n            maskIndex -= 1; // fixed mask parts are never \"active\"\r\n          }\r\n          if (maskIndex !== activeMaskIndex) {\r\n            setActiveMaskIndex(maskIndex);\r\n            setActiveOptionIndex(-1);\r\n            setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\r\n          }\r\n        }, 10); // 10ms empirically chosen\r\n        return () => clearTimeout(timer);\r\n      }\r\n      return undefined;\r\n    }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\r\n\r\n    const setInputValue = useCallback(\r\n      nextValue => {\r\n        // Calling set value function directly on input because React library\r\n        // overrides setter `event.target.value =` and loses original event\r\n        // target fidelity.\r\n        // https://stackoverflow.com/a/46012210 &&\r\n        // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\r\n        const nativeInputValueSetter = Object.getOwnPropertyDescriptor(\r\n          window.HTMLInputElement.prototype,\r\n          'value',\r\n        ).set;\r\n        nativeInputValueSetter.call(inputRef.current, nextValue);\r\n        const event = new Event('input', { bubbles: true });\r\n        inputRef.current.dispatchEvent(event);\r\n      },\r\n      [inputRef],\r\n    );\r\n\r\n    // This could be due to a paste or as the user is typing.\r\n    const onChangeInput = useCallback(\r\n      event => {\r\n        // Align with the mask.\r\n        const nextValueParts = parseValue(mask, event.target.value);\r\n        const nextValue = nextValueParts.map(part => part.part).join('');\r\n\r\n        if (nextValue !== event.target.value) {\r\n          // The mask required inserting something, change the input.\r\n          // This will re-trigger this callback with the next value\r\n          setInputValue(nextValue);\r\n        } else if (value !== nextValue) {\r\n          setValue(nextValue);\r\n          if (onChange) onChange(event);\r\n        }\r\n      },\r\n      [mask, onChange, setInputValue, setValue, value],\r\n    );\r\n\r\n    const onOption = useCallback(\r\n      option => () => {\r\n        const nextValueParts = [...valueParts];\r\n        nextValueParts[activeMaskIndex] = { part: option };\r\n        // add any fixed parts that follow\r\n        let index = activeMaskIndex + 1;\r\n        while (\r\n          index < mask.length &&\r\n          !nextValueParts[index] &&\r\n          mask[index].fixed\r\n        ) {\r\n          nextValueParts[index] = { part: mask[index].fixed };\r\n          index += 1;\r\n        }\r\n        const nextValue = nextValueParts.map(part => part.part).join('');\r\n        setInputValue(nextValue);\r\n        // restore focus to input\r\n        inputRef.current.focus();\r\n      },\r\n      [activeMaskIndex, inputRef, mask, setInputValue, valueParts],\r\n    );\r\n\r\n    const onNextOption = useCallback(\r\n      event => {\r\n        const item = mask[activeMaskIndex];\r\n        if (item && item.options) {\r\n          event.preventDefault();\r\n          const index = Math.min(\r\n            activeOptionIndex + 1,\r\n            item.options.length - 1,\r\n          );\r\n          setActiveOptionIndex(index);\r\n        }\r\n      },\r\n      [activeMaskIndex, activeOptionIndex, mask],\r\n    );\r\n\r\n    const onPreviousOption = useCallback(\r\n      event => {\r\n        if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\r\n          event.preventDefault();\r\n          const index = Math.max(activeOptionIndex - 1, 0);\r\n          setActiveOptionIndex(index);\r\n        }\r\n      },\r\n      [activeMaskIndex, activeOptionIndex, mask],\r\n    );\r\n\r\n    const onSelectOption = useCallback(\r\n      event => {\r\n        if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\r\n          event.preventDefault();\r\n          const option = mask[activeMaskIndex].options[activeOptionIndex];\r\n          onOption(option)();\r\n        }\r\n      },\r\n      [activeMaskIndex, activeOptionIndex, mask, onOption],\r\n    );\r\n\r\n    const onEsc = useCallback(\r\n      event => {\r\n        if (showDrop) {\r\n          // we have to stop both synthetic events and native events\r\n          // drop and layer should not close by pressing esc on this input\r\n          event.stopPropagation();\r\n          event.nativeEvent.stopImmediatePropagation();\r\n          setShowDrop(false);\r\n        }\r\n      },\r\n      [showDrop],\r\n    );\r\n\r\n    const onHideDrop = useCallback(() => setShowDrop(false), []);\r\n\r\n    const renderPlaceholder = () => {\r\n      return mask.map(item => item.placeholder || item.fixed).join('');\r\n    };\r\n\r\n    return (\r\n      <StyledMaskedInputContainer plain={plain}>\r\n        {icon && (\r\n          <StyledIcon reverse={reverse} theme={theme}>\r\n            {icon}\r\n          </StyledIcon>\r\n        )}\r\n        <Keyboard\r\n          onEsc={onEsc}\r\n          onTab={showDrop ? () => setShowDrop(false) : undefined}\r\n          onLeft={undefined}\r\n          onRight={undefined}\r\n          onUp={onPreviousOption}\r\n          onDown={showDrop ? onNextOption : () => setShowDrop(true)}\r\n          onEnter={onSelectOption}\r\n          onKeyDown={onKeyDown}\r\n        >\r\n          <StyledMaskedInput\r\n            ref={inputRef}\r\n            aria-label={a11yTitle}\r\n            id={id}\r\n            name={name}\r\n            autoComplete=\"off\"\r\n            plain={plain}\r\n            placeholder={placeholder || renderPlaceholder()}\r\n            icon={icon}\r\n            reverse={reverse}\r\n            focus={focus}\r\n            {...rest}\r\n            value={value}\r\n            theme={theme}\r\n            onFocus={event => {\r\n              setFocus(true);\r\n              setShowDrop(true);\r\n              if (onFocus) onFocus(event);\r\n            }}\r\n            onBlur={event => {\r\n              setFocus(false);\r\n              // This will be called when the user clicks on a suggestion,\r\n              // check for that and don't remove the drop in that case.\r\n              // Drop will already have removed itself if the user has focused\r\n              // outside of the Drop.\r\n              if (!dropRef.current) setShowDrop(false);\r\n              if (onBlur) onBlur(event);\r\n            }}\r\n            onChange={onChangeInput}\r\n          />\r\n        </Keyboard>\r\n        {showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options && (\r\n          <Drop\r\n            id={id ? `masked-input-drop__${id}` : undefined}\r\n            align={dropAlign}\r\n            responsive={false}\r\n            target={inputRef.current}\r\n            onClickOutside={onHideDrop}\r\n            onEsc={onHideDrop}\r\n            {...dropProps}\r\n          >\r\n            <ContainerBox ref={dropRef} overflow=\"auto\" dropHeight={dropHeight}>\r\n              {mask[activeMaskIndex].options.map((option, index) => {\r\n                // Determine whether the label is done as a child or\r\n                // as an option Button kind property.\r\n                const child = !theme.button.option ? (\r\n                  <Box pad={{ horizontal: 'small', vertical: 'xsmall' }}>\r\n                    {option}\r\n                  </Box>\r\n                ) : (\r\n                  undefined\r\n                );\r\n                // if we have a child, turn on plain, and hoverIndicator\r\n\r\n                return (\r\n                  <Box key={option} flex={false}>\r\n                    <Button\r\n                      tabIndex=\"-1\"\r\n                      onClick={onOption(option)}\r\n                      onMouseOver={() => setActiveOptionIndex(index)}\r\n                      onFocus={() => {}}\r\n                      active={index === activeOptionIndex}\r\n                      plain={!child ? undefined : true}\r\n                      align=\"start\"\r\n                      kind={!child ? 'option' : undefined}\r\n                      hoverIndicator={!child ? undefined : 'background'}\r\n                      label={!child ? option : undefined}\r\n                    >\r\n                      {child}\r\n                    </Button>\r\n                  </Box>\r\n                );\r\n              })}\r\n            </ContainerBox>\r\n          </Drop>\r\n        )}\r\n      </StyledMaskedInputContainer>\r\n    );\r\n  },\r\n);\r\n\r\nMaskedInput.displayName = 'MaskedInput';\r\n\r\nlet MaskedInputDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  MaskedInputDoc = require('./doc').doc(MaskedInput);\r\n}\r\nconst MaskedInputWrapper = MaskedInputDoc || MaskedInput;\r\n\r\nexport { MaskedInputWrapper as MaskedInput };\r\n","import styled from 'styled-components';\r\n\r\nimport {\r\n  disabledStyle,\r\n  getInputPadBySide,\r\n  inputStyle,\r\n  plainInputStyle,\r\n} from '../../utils';\r\n\r\nexport const StyledMaskedInput = styled.input`\r\n  ${inputStyle}\r\n  ${props => props.plain && plainInputStyle}\r\n  ${props =>\r\n    props.icon &&\r\n    (props.reverse\r\n      ? `padding-right: ${props.theme.global.edgeSize.large};`\r\n      : `padding-left: ${props.theme.global.edgeSize.large};`)}\r\n  ${props =>\r\n    props.disabled &&\r\n    disabledStyle(\r\n      props.theme.maskedInput.disabled &&\r\n        props.theme.maskedInput.disabled.opacity,\r\n    )}\r\n  ${props => props.theme.maskedInput && props.theme.maskedInput.extend};\r\n`;\r\n\r\nexport const StyledMaskedInputContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n\r\n  ${props =>\r\n    props.theme.maskedInput &&\r\n    props.theme.maskedInput.container &&\r\n    props.theme.maskedInput.container.extend};\r\n`;\r\n\r\nexport const StyledIcon = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  justify: center;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  pointer-events: none;\r\n  ${props =>\r\n    props.reverse\r\n      ? `right: ${getInputPadBySide(props, 'right')};`\r\n      : `left: ${getInputPadBySide(props, 'left')};`}\r\n`;\r\n","// Converting between Date and String types is handled via a \"schema\".\r\n// The schema is an array of strings, split into strings with identical\r\n// characters. So, 'mm/dd/yyyy' will be ['mm', '/', 'dd', '/', 'yyyyy'].\r\n\r\nexport const formatToSchema = format => {\r\n  if (!format) return undefined;\r\n  const result = [];\r\n\r\n  let i = 0;\r\n  let part;\r\n  while (i < format.length) {\r\n    if (!part || part[0] !== format[i]) {\r\n      if (part) result.push(part);\r\n      part = format[i];\r\n    } else {\r\n      part += format[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  if (part) result.push(part);\r\n\r\n  return result;\r\n};\r\n\r\n// convert value into text representation using the schema\r\nexport const valueToText = (value, schema) => {\r\n  if (!value) return '';\r\n  let text = '';\r\n\r\n  const dates = (Array.isArray(value) ? value : [value]).map(v => new Date(v));\r\n\r\n  let dateIndex = 0;\r\n  let parts = {};\r\n  schema.forEach(part => {\r\n    const char = part[0].toLowerCase();\r\n    // advance dateIndex if we already have this part\r\n    while (\r\n      dateIndex < dates.length &&\r\n      (Number.isNaN(dates[dateIndex].date) ||\r\n        ((char === 'm' || char === 'd' || char === 'y') && parts[char]))\r\n    ) {\r\n      dateIndex += 1;\r\n      parts = {};\r\n    }\r\n    const date = dates[dateIndex];\r\n\r\n    if (date && char === 'm') {\r\n      text += date.getMonth() + 1;\r\n      parts[char] = true;\r\n    } else if (date && char === 'd') {\r\n      text += date.getDate();\r\n      parts[char] = true;\r\n    } else if (date && char === 'y') {\r\n      text += date.getFullYear();\r\n      parts[char] = true;\r\n    } else text += part;\r\n  });\r\n\r\n  return text;\r\n};\r\n\r\nconst charCodeZero = '0'.charCodeAt(0);\r\nconst charCodeNine = '9'.charCodeAt(0);\r\n\r\nconst pullDigits = (text, index) => {\r\n  let end = index;\r\n  while (\r\n    text.charCodeAt(end) >= charCodeZero &&\r\n    text.charCodeAt(end) <= charCodeNine\r\n  )\r\n    end += 1;\r\n  return text.slice(index, end);\r\n};\r\n\r\nexport const textToValue = (text, schema) => {\r\n  if (!text) return undefined;\r\n\r\n  let result;\r\n  const addDate = parts => {\r\n    // do a little sanity checking on the values\r\n    if (\r\n      !parts.m ||\r\n      !parts.d ||\r\n      !parts.y ||\r\n      parts.y.length < 4 ||\r\n      parts.m.length > 2 ||\r\n      parts.d.length > 2 ||\r\n      parts.m > 12 ||\r\n      parts.d > 31\r\n    )\r\n      return parts;\r\n    const date = new Date(parts.y, parts.m - 1, parts.d).toISOString();\r\n    if (!result) result = date;\r\n    // single\r\n    else if (Array.isArray(result)) result.push(date);\r\n    // second\r\n    else result = [result, date]; // third and beyond, unused?\r\n    return {};\r\n  };\r\n\r\n  let parts = {};\r\n  let index = 0;\r\n  schema.forEach(part => {\r\n    if (index < text.length) {\r\n      const char = part[0].toLowerCase();\r\n      if (parts[char] !== undefined) parts = addDate(parts);\r\n\r\n      if (char === 'm') {\r\n        parts.m = pullDigits(text, index);\r\n        index += parts.m.length;\r\n      } else if (char === 'd') {\r\n        parts.d = pullDigits(text, index);\r\n        index += parts.d.length;\r\n      } else if (char === 'y') {\r\n        parts.y = pullDigits(text, index);\r\n        index += parts.y.length;\r\n      } else if (text.slice(index, index + part.length) === part) {\r\n        index += part.length;\r\n      } else {\r\n        // syntax error\r\n        index = text.length;\r\n        result = undefined;\r\n      }\r\n    }\r\n  });\r\n  addDate(parts);\r\n\r\n  return result;\r\n};\r\n","export { Diagram } from './Diagram';\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { normalizeColor, parseMetricToNum, useForwardedRef } from '../../utils';\r\n\r\nimport { StyledDiagram } from './StyledDiagram';\r\n\r\nconst computeMidPoint = (fromPoint, toPoint) => [\r\n  fromPoint[0] > toPoint[0]\r\n    ? toPoint[0] + (fromPoint[0] - toPoint[0]) / 2\r\n    : fromPoint[0] + (toPoint[0] - fromPoint[0]) / 2,\r\n  fromPoint[1] > toPoint[1]\r\n    ? toPoint[1] + (fromPoint[1] - toPoint[1]) / 2\r\n    : fromPoint[1] + (toPoint[1] - fromPoint[1]) / 2,\r\n];\r\n\r\nconst COMMANDS = {\r\n  curved: (fromPoint, toPoint, offset, anchor) => {\r\n    const midPoint = computeMidPoint(fromPoint, toPoint);\r\n    let cmds = `M ${fromPoint[0] + offset},${fromPoint[1] + offset} `;\r\n    if (anchor === 'horizontal') {\r\n      cmds +=\r\n        `Q ${midPoint[0] + offset},${fromPoint[1] + offset} ` +\r\n        `${midPoint[0] + offset},${midPoint[1] + offset} `;\r\n    } else {\r\n      cmds +=\r\n        `Q ${fromPoint[0] + offset},${midPoint[1] + offset} ` +\r\n        `${midPoint[0] + offset},${midPoint[1] + offset} `;\r\n    }\r\n    cmds += `T ${toPoint[0] + offset},${toPoint[1] + offset}`;\r\n    return cmds;\r\n  },\r\n  direct: (fromPoint, toPoint, offset) =>\r\n    `M ${fromPoint[0] + offset},${fromPoint[1] + offset} ` +\r\n    `L ${toPoint[0] + offset},${toPoint[1] + offset}`,\r\n  rectilinear: (fromPoint, toPoint, offset, anchor) => {\r\n    const midPoint = computeMidPoint(fromPoint, toPoint);\r\n    let cmds = `M ${fromPoint[0] + offset},${fromPoint[1] + offset} `;\r\n    if (anchor === 'horizontal') {\r\n      cmds +=\r\n        `L ${midPoint[0] + offset},${fromPoint[1] + offset} ` +\r\n        `L ${midPoint[0] + offset},${toPoint[1] + offset} `;\r\n    } else {\r\n      cmds +=\r\n        `L ${fromPoint[0] + offset},${midPoint[1] + offset} ` +\r\n        `L ${toPoint[0] + offset},${midPoint[1] + offset} `;\r\n    }\r\n    cmds += `L ${toPoint[0] + offset},${toPoint[1] + offset}`;\r\n    return cmds;\r\n  },\r\n};\r\n\r\nconst findTarget = target => {\r\n  if (typeof target === 'string') {\r\n    return document.getElementById(target);\r\n  }\r\n  return target;\r\n};\r\n\r\nconst Diagram = forwardRef(({ connections, ...rest }, ref) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n  const [connectionPoints, setConnectionPoints] = useState();\r\n  const svgRef = useForwardedRef(ref);\r\n\r\n  useEffect(() => {\r\n    setConnectionPoints(undefined);\r\n  }, [connections]);\r\n\r\n  const onResize = useCallback(() => {\r\n    const svg = svgRef.current;\r\n\r\n    if (svg) {\r\n      const rect = svg.getBoundingClientRect();\r\n      if (\r\n        rect.width !== dimensions.width ||\r\n        rect.height !== dimensions.height\r\n      ) {\r\n        setDimensions({\r\n          width: rect.width,\r\n          height: rect.height,\r\n        });\r\n        setConnectionPoints(undefined);\r\n      }\r\n    }\r\n  }, [dimensions.width, dimensions.height, svgRef]);\r\n\r\n  // Ref that stores resize handler\r\n  const savedOnResize = useRef();\r\n\r\n  // Update resize ref value if onResize changes.\r\n  // This allows our effect below to always get latest handler\r\n  useEffect(() => {\r\n    savedOnResize.current = onResize;\r\n  }, [onResize]);\r\n\r\n  useEffect(() => {\r\n    const onResizeHandler = event => savedOnResize.current(event);\r\n    onResizeHandler();\r\n\r\n    window.addEventListener('resize', onResizeHandler);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', onResizeHandler);\r\n    };\r\n  }, []);\r\n\r\n  const placeConnections = useCallback(() => {\r\n    const containerRect = svgRef.current.getBoundingClientRect();\r\n    const updatedConnectionPoints = connections.map(\r\n      ({ anchor, fromTarget, toTarget }) => {\r\n        let points;\r\n        const fromElement = findTarget(fromTarget);\r\n        const toElement = findTarget(toTarget);\r\n        if (!fromElement) {\r\n          console.warn(`Diagram cannot find ${fromTarget}`);\r\n        }\r\n        if (!toElement) {\r\n          console.warn(`Diagram cannot find ${toTarget}`);\r\n        }\r\n\r\n        if (fromElement && toElement) {\r\n          const fromRect = fromElement.getBoundingClientRect();\r\n          const toRect = toElement.getBoundingClientRect();\r\n          // There is no x and y when unit testing.\r\n          const fromPoint = [\r\n            fromRect.left - containerRect.left || 0,\r\n            fromRect.top - containerRect.top || 0,\r\n          ];\r\n          const toPoint = [\r\n            toRect.left - containerRect.left || 0,\r\n            toRect.top - containerRect.top || 0,\r\n          ];\r\n          if (anchor === 'vertical') {\r\n            fromPoint[0] += fromRect.width / 2;\r\n            toPoint[0] += toRect.width / 2;\r\n            if (fromRect.top < toRect.top) {\r\n              fromPoint[1] += fromRect.height;\r\n            } else {\r\n              toPoint[1] += toRect.height;\r\n            }\r\n          } else if (anchor === 'horizontal') {\r\n            fromPoint[1] += fromRect.height / 2;\r\n            toPoint[1] += toRect.height / 2;\r\n            if (fromRect.left < toRect.left) {\r\n              fromPoint[0] += fromRect.width;\r\n            } else {\r\n              toPoint[0] += toRect.width;\r\n            }\r\n          } else {\r\n            // center\r\n            fromPoint[0] += fromRect.width / 2;\r\n            fromPoint[1] += fromRect.height / 2;\r\n            toPoint[0] += toRect.width / 2;\r\n            toPoint[1] += toRect.height / 2;\r\n          }\r\n          points = [fromPoint, toPoint];\r\n        }\r\n\r\n        return points;\r\n      },\r\n    );\r\n    setConnectionPoints(updatedConnectionPoints);\r\n  }, [connections, svgRef]);\r\n\r\n  useEffect(() => {\r\n    if (!connectionPoints) {\r\n      placeConnections();\r\n    }\r\n  }, [connectionPoints, placeConnections]);\r\n\r\n  let paths;\r\n  if (connectionPoints) {\r\n    paths = connections.map(\r\n      (\r\n        { anchor, color, offset, round, thickness, type, ...connectionRest },\r\n        index,\r\n      ) => {\r\n        let path;\r\n        const cleanedRest = { ...connectionRest };\r\n        delete cleanedRest.fromTarget;\r\n        delete cleanedRest.toTarget;\r\n        const points = connectionPoints[index];\r\n        if (points) {\r\n          const offsetWidth = offset\r\n            ? parseMetricToNum(theme.global.edgeSize[offset])\r\n            : 0;\r\n          const d = COMMANDS[type || 'curved'](\r\n            points[0],\r\n            points[1],\r\n            offsetWidth,\r\n            anchor,\r\n          );\r\n          const strokeWidth = thickness\r\n            ? parseMetricToNum(theme.global.edgeSize[thickness] || thickness)\r\n            : 1;\r\n          let colorName =\r\n            color || (theme.diagram.line && theme.diagram.line.color);\r\n          if (!colorName) {\r\n            const colors = Object.keys(theme.global.colors).filter(n =>\r\n              n.match(/^graph-[0-9]$/),\r\n            );\r\n            colorName = colors[index % colors.length];\r\n          }\r\n\r\n          path = (\r\n            <path\r\n              // eslint-disable-next-line react/no-array-index-key\r\n              key={index}\r\n              {...cleanedRest}\r\n              stroke={normalizeColor(colorName, theme)}\r\n              strokeWidth={strokeWidth}\r\n              strokeLinecap={round ? 'round' : 'butt'}\r\n              strokeLinejoin={round ? 'round' : 'miter'}\r\n              fill=\"none\"\r\n              d={d}\r\n            />\r\n          );\r\n        }\r\n\r\n        return path;\r\n      },\r\n    );\r\n  }\r\n\r\n  return (\r\n    <StyledDiagram\r\n      ref={svgRef}\r\n      viewBox={`0 0 ${dimensions.width} ${dimensions.height}`}\r\n      preserveAspectRatio=\"xMinYMin meet\"\r\n      {...rest}\r\n    >\r\n      <g>{paths}</g>\r\n    </StyledDiagram>\r\n  );\r\n});\r\n\r\nDiagram.displayName = 'Diagram';\r\n\r\nDiagram.defaultProps = { connections: [] };\r\n\r\nlet DiagramDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DiagramDoc = require('./doc').doc(Diagram);\r\n}\r\nconst DiagramWrapper = DiagramDoc || Diagram;\r\n\r\nexport { DiagramWrapper as Diagram };\r\n","import styled from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst StyledDiagram = styled.svg`\r\n  max-width: 100%;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  ${props => props.theme.diagram && props.theme.diagram.extend};\r\n`;\r\n\r\nStyledDiagram.defaultProps = {};\r\nObject.setPrototypeOf(StyledDiagram.defaultProps, defaultProps);\r\n\r\nexport { StyledDiagram };\r\n","export { Distribution } from './Distribution';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Box } from '../Box';\r\nimport { Text } from '../Text';\r\n\r\nconst Value = ({ basis, children }) => (\r\n  <Box basis={basis} flex=\"shrink\" overflow=\"hidden\">\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nValue.propTypes = {\r\n  basis: PropTypes.string.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nconst Distribution = ({\r\n  basis,\r\n  children,\r\n  direction,\r\n  fill,\r\n  gap,\r\n  values,\r\n  ...rest\r\n}) => {\r\n  if (values.length === 1) {\r\n    const value = values[0];\r\n    return (\r\n      <Value value={value} basis={basis}>\r\n        {children(value)}\r\n      </Value>\r\n    );\r\n  }\r\n  if (values.length > 1) {\r\n    const reducer = (accumulator, { value }) => accumulator + value;\r\n    const total = values.reduce(reducer, 0);\r\n\r\n    // figure out how many of the values area needed to represent half of the\r\n    // total\r\n    let subTotal = 0;\r\n    let subIndex;\r\n    values.some((v, index) => {\r\n      subTotal += v.value;\r\n      if (subTotal >= total * 0.4) {\r\n        subIndex = index + 1;\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n\r\n    if (subIndex === values.length) {\r\n      const value = values[0];\r\n      return (\r\n        <Value value={value} basis={basis}>\r\n          {children(value)}\r\n        </Value>\r\n      );\r\n    }\r\n\r\n    let childBasis;\r\n    if (subTotal > total * 0.7) {\r\n      childBasis = ['3/4', '1/4'];\r\n    } else if (subTotal > total * 0.6) {\r\n      childBasis = ['2/3', '1/3'];\r\n    } else {\r\n      childBasis = ['1/2', '1/2'];\r\n    }\r\n\r\n    return (\r\n      <Box\r\n        direction={direction}\r\n        basis={basis}\r\n        flex={basis ? 'shrink' : true}\r\n        overflow=\"hidden\"\r\n        gap={gap}\r\n        fill={fill}\r\n        {...rest}\r\n      >\r\n        <Distribution\r\n          values={values.slice(0, subIndex)}\r\n          basis={childBasis[0]}\r\n          direction={direction === 'row' ? 'column' : 'row'}\r\n          gap={gap}\r\n        >\r\n          {children}\r\n        </Distribution>\r\n        <Distribution\r\n          values={values.slice(subIndex)}\r\n          basis={childBasis[1]}\r\n          direction={direction === 'row' ? 'column' : 'row'}\r\n          gap={gap}\r\n        >\r\n          {children}\r\n        </Distribution>\r\n      </Box>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nDistribution.defaultProps = {\r\n  basis: undefined,\r\n  children: value => (\r\n    <Box fill border>\r\n      <Text>{value.value}</Text>\r\n    </Box>\r\n  ),\r\n  direction: 'row',\r\n  gap: 'xsmall',\r\n  values: [],\r\n};\r\n\r\nlet DistributionDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  DistributionDoc = require('./doc').doc(Distribution);\r\n}\r\nconst DistributionWrapper = DistributionDoc || Distribution;\r\n\r\nexport { DistributionWrapper as Distribution };\r\n","export { FormField } from './FormField';\r\n","import React, {\r\n  Children,\r\n  cloneElement,\r\n  forwardRef,\r\n  useContext,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { focusStyle, parseMetricToNum } from '../../utils';\r\nimport { Box } from '../Box';\r\nimport { CheckBox } from '../CheckBox';\r\nimport { CheckBoxGroup } from '../CheckBoxGroup';\r\nimport { RadioButtonGroup } from '../RadioButtonGroup';\r\nimport { Text } from '../Text';\r\nimport { TextInput } from '../TextInput';\r\nimport { FormContext } from '../Form/FormContext';\r\n\r\nconst grommetInputNames = [\r\n  'TextInput',\r\n  'Select',\r\n  'MaskedInput',\r\n  'TextArea',\r\n  'DateInput',\r\n];\r\nconst grommetInputPadNames = [\r\n  'CheckBox',\r\n  'CheckBoxGroup',\r\n  'RadioButtonGroup',\r\n  'RangeInput',\r\n];\r\n\r\nconst isGrommetInput = comp =>\r\n  comp &&\r\n  (grommetInputNames.indexOf(comp.displayName) !== -1 ||\r\n    grommetInputPadNames.indexOf(comp.displayName) !== -1);\r\n\r\nconst FormFieldBox = styled(Box)`\r\n  ${props => props.focus && focusStyle({ justBorder: true })}\r\n  ${props => props.theme.formField && props.theme.formField.extend}\r\n`;\r\n\r\nconst FormFieldContentBox = styled(Box)`\r\n  ${props => props.focus && focusStyle({ justBorder: true })}\r\n`;\r\n\r\nconst StyledMessageContainer = styled(Box)`\r\n  ${props =>\r\n    props.messageType &&\r\n    props.theme.formField[props.messageType].container &&\r\n    props.theme.formField[props.messageType].container.extend}\r\n`;\r\n\r\nconst Message = ({ error, info, message, type, ...rest }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n  if (message) {\r\n    let icon;\r\n    let containerProps;\r\n\r\n    if (type) {\r\n      icon = theme.formField[type] && theme.formField[type].icon;\r\n      containerProps = theme.formField[type] && theme.formField[type].container;\r\n    }\r\n\r\n    let messageContent;\r\n    if (typeof message === 'string')\r\n      messageContent = <Text {...rest}>{message}</Text>;\r\n    else messageContent = <Box {...rest}>{message}</Box>;\r\n\r\n    return icon || containerProps ? (\r\n      <StyledMessageContainer\r\n        direction=\"row\"\r\n        messageType={type}\r\n        {...containerProps}\r\n      >\r\n        {icon && <Box flex={false}>{icon}</Box>}\r\n        {messageContent}\r\n      </StyledMessageContainer>\r\n    ) : (\r\n      messageContent\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst Input = ({ component, disabled, invalid, name, onChange, ...rest }) => {\r\n  const formContext = useContext(FormContext);\r\n  const [value, setValue] = formContext.useFormInput(name, rest.value);\r\n  const InputComponent = component || TextInput;\r\n  // Grommet input components already check for FormContext\r\n  // and, using their `name`, end up calling the useFormInput.setValue()\r\n  // already. For custom components, we expect they will call\r\n  // this onChange() and we'll call setValue() here, primarily\r\n  // for backwards compatibility.\r\n  const extraProps = isGrommetInput(InputComponent)\r\n    ? { focusIndicator: false, onChange, plain: true }\r\n    : {\r\n        value,\r\n        onChange: event => {\r\n          setValue(\r\n            event.value !== undefined ? event.value : event.target.value,\r\n          );\r\n          if (onChange) onChange(event);\r\n        },\r\n      };\r\n  return (\r\n    <InputComponent\r\n      name={name}\r\n      disabled={disabled}\r\n      aria-invalid={invalid || undefined}\r\n      {...rest}\r\n      {...extraProps}\r\n    />\r\n  );\r\n};\r\n\r\nconst FormField = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      className,\r\n      component,\r\n      contentProps,\r\n      disabled, // pass through in renderInput()\r\n      error: errorProp,\r\n      help,\r\n      htmlFor,\r\n      info: infoProp,\r\n      label,\r\n      margin,\r\n      name, // pass through in renderInput()\r\n      onBlur,\r\n      onFocus,\r\n      pad,\r\n      required,\r\n      style,\r\n      validate,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const formContext = useContext(FormContext);\r\n    const {\r\n      error,\r\n      info,\r\n      inForm,\r\n      onBlur: contextOnBlur,\r\n    } = formContext.useFormField({\r\n      error: errorProp,\r\n      info: infoProp,\r\n      name,\r\n      required,\r\n      validate,\r\n    });\r\n    const [focus, setFocus] = useState();\r\n\r\n    const { formField: formFieldTheme } = theme;\r\n    const { border: themeBorder } = formFieldTheme;\r\n\r\n    // This is here for backwards compatibility. In case the child is a grommet\r\n    // input component, set plain and focusIndicator props, if they aren't\r\n    // already set.\r\n    let wantContentPad =\r\n      component &&\r\n      (component === CheckBox ||\r\n        component === CheckBoxGroup ||\r\n        component === RadioButtonGroup);\r\n\r\n    let contents =\r\n      (themeBorder &&\r\n        children &&\r\n        Children.map(children, child => {\r\n          if (\r\n            child &&\r\n            child.type &&\r\n            grommetInputPadNames.indexOf(child.type.displayName) !== -1\r\n          ) {\r\n            wantContentPad = true;\r\n          }\r\n          if (\r\n            child &&\r\n            child.type &&\r\n            grommetInputNames.indexOf(child.type.displayName) !== -1 &&\r\n            child.props.plain === undefined &&\r\n            child.props.focusIndicator === undefined\r\n          ) {\r\n            return cloneElement(child, {\r\n              plain: true,\r\n              focusIndicator: false,\r\n            });\r\n          }\r\n          return child;\r\n        })) ||\r\n      children;\r\n\r\n    // put rest on container, unless we use internal Input\r\n    let containerRest = rest;\r\n    if (inForm) {\r\n      if (!contents) containerRest = {};\r\n      contents = contents || (\r\n        <Input\r\n          component={component}\r\n          disabled={disabled}\r\n          invalid={!!error}\r\n          name={name}\r\n          label={component === CheckBox ? label : undefined}\r\n          {...rest}\r\n        />\r\n      );\r\n    }\r\n\r\n    const themeContentProps = { ...formFieldTheme.content };\r\n\r\n    if (!pad && !wantContentPad) {\r\n      themeContentProps.pad = undefined;\r\n    }\r\n\r\n    if (themeBorder && themeBorder.position === 'inner') {\r\n      if (error && formFieldTheme.error) {\r\n        themeContentProps.background = formFieldTheme.error.background;\r\n      } else if (disabled && formFieldTheme.disabled) {\r\n        themeContentProps.background = formFieldTheme.disabled.background;\r\n      }\r\n    }\r\n\r\n    if (!themeBorder) {\r\n      contents = (\r\n        <Box {...themeContentProps} {...contentProps}>\r\n          {contents}\r\n        </Box>\r\n      );\r\n    }\r\n\r\n    let borderColor;\r\n\r\n    if (\r\n      disabled &&\r\n      formFieldTheme.disabled.border &&\r\n      formFieldTheme.disabled.border.color\r\n    ) {\r\n      borderColor = formFieldTheme.disabled.border.color;\r\n    } else if (error && themeBorder && themeBorder.error.color) {\r\n      borderColor = themeBorder.error.color || 'status-critical';\r\n    } else if (\r\n      focus &&\r\n      formFieldTheme.focus &&\r\n      formFieldTheme.focus.border &&\r\n      formFieldTheme.focus.border.color\r\n    ) {\r\n      borderColor = formFieldTheme.focus.border.color;\r\n    } else {\r\n      borderColor = (themeBorder && themeBorder.color) || 'border';\r\n    }\r\n\r\n    const labelStyle = { ...formFieldTheme.label };\r\n\r\n    if (disabled) {\r\n      labelStyle.color =\r\n        formFieldTheme.disabled && formFieldTheme.disabled.label\r\n          ? formFieldTheme.disabled.label.color\r\n          : labelStyle.color;\r\n    }\r\n\r\n    let abut;\r\n    let abutMargin;\r\n    let outerStyle = style;\r\n\r\n    if (themeBorder) {\r\n      const innerProps =\r\n        themeBorder.position === 'inner'\r\n          ? {\r\n              border: {\r\n                ...themeBorder,\r\n                side: themeBorder.side || 'bottom',\r\n                color: borderColor,\r\n              },\r\n              round: formFieldTheme.round,\r\n              focus,\r\n            }\r\n          : {};\r\n      contents = (\r\n        <FormFieldContentBox\r\n          {...themeContentProps}\r\n          {...innerProps}\r\n          {...contentProps}\r\n        >\r\n          {contents}\r\n        </FormFieldContentBox>\r\n      );\r\n\r\n      const mergedMargin = margin || formFieldTheme.margin;\r\n      abut =\r\n        themeBorder.position === 'outer' &&\r\n        (themeBorder.side === 'all' ||\r\n          themeBorder.side === 'horizontal' ||\r\n          !themeBorder.side) &&\r\n        !(\r\n          mergedMargin &&\r\n          ((typeof mergedMargin === 'string' && mergedMargin !== 'none') ||\r\n            (mergedMargin.bottom && mergedMargin.bottom !== 'none') ||\r\n            (mergedMargin.horizontal && mergedMargin.horizontal !== 'none'))\r\n        );\r\n      if (abut) {\r\n        // marginBottom is set to overlap adjacent fields\r\n        abutMargin = { bottom: '-1px' };\r\n        if (margin) {\r\n          abutMargin = margin;\r\n        } else if (themeBorder.size) {\r\n          // if the user defines a margin,\r\n          // then the default margin below will be overridden\r\n          abutMargin = {\r\n            bottom: `-${parseMetricToNum(\r\n              theme.global.borderSize[themeBorder.size] || themeBorder.size,\r\n            )}px`,\r\n          };\r\n        }\r\n\r\n        outerStyle = {\r\n          position: focus ? 'relative' : undefined,\r\n          zIndex: focus ? 10 : undefined,\r\n          ...style,\r\n        };\r\n      }\r\n    }\r\n\r\n    let outerBackground;\r\n\r\n    if (themeBorder && themeBorder.position === 'outer') {\r\n      if (error && formFieldTheme.error && formFieldTheme.error.background) {\r\n        outerBackground = formFieldTheme.error.background;\r\n      } else if (\r\n        focus &&\r\n        formFieldTheme.focus &&\r\n        formFieldTheme.focus.background &&\r\n        formFieldTheme.focus.background.color\r\n      ) {\r\n        outerBackground = formFieldTheme.focus.background.color;\r\n      } else if (\r\n        disabled &&\r\n        formFieldTheme.disabled &&\r\n        formFieldTheme.disabled.background\r\n      ) {\r\n        outerBackground = formFieldTheme.disabled.background;\r\n      }\r\n    }\r\n\r\n    const outerProps =\r\n      themeBorder && themeBorder.position === 'outer'\r\n        ? {\r\n            border: { ...themeBorder, color: borderColor },\r\n            round: formFieldTheme.round,\r\n            focus,\r\n          }\r\n        : {};\r\n\r\n    return (\r\n      <FormFieldBox\r\n        ref={ref}\r\n        className={className}\r\n        background={outerBackground}\r\n        margin={abut ? abutMargin : margin || { ...formFieldTheme.margin }}\r\n        {...outerProps}\r\n        style={outerStyle}\r\n        onFocus={event => {\r\n          setFocus(true);\r\n          if (onFocus) onFocus(event);\r\n        }}\r\n        onBlur={event => {\r\n          setFocus(false);\r\n          if (contextOnBlur) contextOnBlur(event);\r\n          if (onBlur) onBlur(event);\r\n        }}\r\n        {...containerRest}\r\n      >\r\n        {(label && component !== CheckBox) || help ? (\r\n          <>\r\n            {label && component !== CheckBox && (\r\n              <Text as=\"label\" htmlFor={htmlFor} {...labelStyle}>\r\n                {label}\r\n              </Text>\r\n            )}\r\n            <Message message={help} {...formFieldTheme.help} />\r\n          </>\r\n        ) : (\r\n          undefined\r\n        )}\r\n        {contents}\r\n        <Message type=\"error\" message={error} {...formFieldTheme.error} />\r\n        <Message type=\"info\" message={info} {...formFieldTheme.info} />\r\n      </FormFieldBox>\r\n    );\r\n  },\r\n);\r\n\r\nFormField.displayName = 'FormField';\r\n\r\nlet FormFieldDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  FormFieldDoc = require('./doc').doc(FormField);\r\n}\r\nconst FormFieldWrapper = FormFieldDoc || FormField;\r\n\r\nexport { FormFieldWrapper as FormField };\r\n","import React, {\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { ThemeContext } from 'styled-components';\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { defaultProps } from '../../default-props';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Box } from '../Box';\r\nimport { RadioButton } from '../RadioButton';\r\n\r\nconst RadioButtonGroup = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      disabled,\r\n      name,\r\n      onChange,\r\n      options: optionsProp,\r\n      value: valueProp,\r\n      gap,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const formContext = useContext(FormContext);\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n\r\n    // normalize options to always use an object\r\n    const options = useMemo(\r\n      () =>\r\n        optionsProp.map(o =>\r\n          typeof o !== 'object'\r\n            ? {\r\n                disabled,\r\n                id: rest.id ? `${rest.id}-${o}` : `${o}`, // force string\r\n                label: typeof o !== 'string' ? JSON.stringify(o) : o,\r\n                value: o,\r\n              }\r\n            : { disabled, ...o },\r\n        ),\r\n      [disabled, optionsProp, rest.id],\r\n    );\r\n\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp, '');\r\n\r\n    const [focus, setFocus] = useState();\r\n\r\n    const optionRefs = useRef([]);\r\n\r\n    const valueIndex = React.useMemo(() => {\r\n      let result;\r\n      options.some((option, index) => {\r\n        if (option.value === value) {\r\n          result = index;\r\n          return true;\r\n        }\r\n        return false;\r\n      });\r\n      return result;\r\n    }, [options, value]);\r\n\r\n    useEffect(() => {\r\n      if (focus && valueIndex >= 0) optionRefs.current[valueIndex].focus();\r\n    }, [focus, valueIndex]);\r\n\r\n    const onNext = () => {\r\n      if (valueIndex !== undefined && valueIndex < options.length - 1) {\r\n        const nextIndex = valueIndex + 1;\r\n        const nextValue = options[nextIndex].value;\r\n        setValue(nextValue);\r\n        if (onChange) onChange({ target: { value: nextValue } });\r\n      }\r\n    };\r\n\r\n    const onPrevious = () => {\r\n      if (valueIndex > 0) {\r\n        const nextIndex = valueIndex - 1;\r\n        const nextValue = options[nextIndex].value;\r\n        setValue(nextValue);\r\n        if (onChange) onChange({ target: { value: nextValue } });\r\n      }\r\n    };\r\n\r\n    const onFocus = () => {\r\n      // Delay just a wee bit so Chrome doesn't missing turning the button on.\r\n      // Chrome behaves differently in that focus is given to radio buttons\r\n      // when the user selects one, unlike Safari and Firefox.\r\n      setTimeout(() => !focus && setFocus(true), 1);\r\n    };\r\n\r\n    const onBlur = () => focus && setFocus(false);\r\n    return (\r\n      <Keyboard\r\n        target=\"document\"\r\n        onUp={focus ? onPrevious : undefined}\r\n        onDown={focus ? onNext : undefined}\r\n        onLeft={focus ? onPrevious : undefined}\r\n        onRight={focus ? onNext : undefined}\r\n      >\r\n        <Box\r\n          ref={ref}\r\n          {...theme.radioButtonGroup.container}\r\n          gap={\r\n            gap ||\r\n            (theme.radioButtonGroup.container &&\r\n            theme.radioButtonGroup.container.gap\r\n              ? theme.radioButtonGroup.container.gap\r\n              : 'small')\r\n          }\r\n          {...rest}\r\n        >\r\n          {options.map(\r\n            (\r\n              {\r\n                disabled: optionDisabled,\r\n                id,\r\n                label,\r\n                value: optionValue,\r\n                ...optionRest\r\n              },\r\n              index,\r\n            ) => (\r\n              <RadioButton\r\n                ref={aRef => {\r\n                  optionRefs.current[index] = aRef;\r\n                }}\r\n                key={optionValue}\r\n                name={name}\r\n                label={!children ? label : undefined}\r\n                disabled={optionDisabled}\r\n                checked={optionValue === value}\r\n                focus={\r\n                  focus &&\r\n                  (optionValue === value || (value === undefined && !index))\r\n                }\r\n                id={id}\r\n                value={optionValue}\r\n                onFocus={onFocus}\r\n                onBlur={onBlur}\r\n                onChange={event => {\r\n                  setValue(optionValue);\r\n                  if (onChange) onChange(event);\r\n                }}\r\n                {...optionRest}\r\n              >\r\n                {children ? state => children(optionsProp[index], state) : null}\r\n              </RadioButton>\r\n            ),\r\n          )}\r\n        </Box>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nRadioButtonGroup.displayName = 'RadioButtonGroup';\r\n\r\nlet RadioButtonGroupDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RadioButtonGroupDoc = require('./doc').doc(RadioButtonGroup);\r\n}\r\nconst RadioButtonGroupWrapper = RadioButtonGroupDoc || RadioButtonGroup;\r\n\r\nexport { RadioButtonGroupWrapper as RadioButtonGroup };\r\n","import React, { forwardRef, useContext, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { Box } from '../Box';\r\nimport { defaultProps } from '../../default-props';\r\nimport { normalizeColor, removeUndefined } from '../../utils';\r\n\r\nimport {\r\n  StyledRadioButton,\r\n  StyledRadioButtonContainer,\r\n  StyledRadioButtonIcon,\r\n  StyledRadioButtonInput,\r\n  StyledRadioButtonLabel,\r\n  StyledRadioButtonBox,\r\n} from './StyledRadioButton';\r\n\r\nconst RadioButton = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      checked,\r\n      children,\r\n      disabled,\r\n      focus,\r\n      id,\r\n      label,\r\n      name,\r\n      onChange,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [hover, setHover] = useState();\r\n    const normalizedLabel =\r\n      typeof label === 'string' ? (\r\n        <StyledRadioButtonLabel>{label}</StyledRadioButtonLabel>\r\n      ) : (\r\n        label\r\n      );\r\n\r\n    const Icon = theme.radioButton.icons.circle;\r\n    let borderColor = normalizeColor(theme.radioButton.border.color, theme);\r\n    if (checked) {\r\n      borderColor = normalizeColor(theme.radioButton.color || 'control', theme);\r\n    }\r\n\r\n    return (\r\n      <StyledRadioButtonContainer\r\n        {...removeUndefined({ htmlFor: id, disabled })}\r\n        onClick={event => {\r\n          // prevents clicking on the label trigging the event twice\r\n          // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element\r\n          if (event.target.type !== 'radio') {\r\n            event.stopPropagation();\r\n          }\r\n        }}\r\n        onMouseEnter={() => setHover(true)}\r\n        onMouseLeave={() => setHover(false)}\r\n      >\r\n        <StyledRadioButton\r\n          as={Box}\r\n          flex={false}\r\n          margin={\r\n            label ? { right: theme.radioButton.gap || 'small' } : undefined\r\n          }\r\n        >\r\n          <StyledRadioButtonInput\r\n            aria-label={a11yTitle}\r\n            {...rest}\r\n            ref={ref}\r\n            type=\"radio\"\r\n            {...removeUndefined({\r\n              id,\r\n              name,\r\n              checked,\r\n              disabled,\r\n              onChange,\r\n            })}\r\n          />\r\n          {children ? (\r\n            children({ checked, hover })\r\n          ) : (\r\n            <StyledRadioButtonBox\r\n              focus={focus}\r\n              as={Box}\r\n              align=\"center\"\r\n              justify=\"center\"\r\n              width={theme.radioButton.size}\r\n              height={theme.radioButton.size}\r\n              border={{\r\n                size: theme.radioButton.border.width,\r\n                color: borderColor,\r\n              }}\r\n              round={theme.radioButton.check.radius}\r\n            >\r\n              {checked &&\r\n                (Icon ? (\r\n                  <Icon as={StyledRadioButtonIcon} />\r\n                ) : (\r\n                  <StyledRadioButtonIcon\r\n                    viewBox=\"0 0 24 24\"\r\n                    preserveAspectRatio=\"xMidYMid meet\"\r\n                  >\r\n                    <circle cx={12} cy={12} r={6} />\r\n                  </StyledRadioButtonIcon>\r\n                ))}\r\n            </StyledRadioButtonBox>\r\n          )}\r\n        </StyledRadioButton>\r\n        {normalizedLabel}\r\n      </StyledRadioButtonContainer>\r\n    );\r\n  },\r\n);\r\n\r\nRadioButton.displayName = 'RadioButton';\r\n\r\nlet RadioButtonDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RadioButtonDoc = require('./doc').doc(RadioButton);\r\n}\r\nconst RadioButtonWrapper = RadioButtonDoc || RadioButton;\r\n\r\nexport { RadioButtonWrapper as RadioButton };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { focusStyle, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst disabledStyle = `\r\n  opacity: 0.5;\r\n  cursor: default;\r\n`;\r\n\r\nconst StyledRadioButtonContainer = styled.label`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  user-select: none;\r\n  width: fit-content;\r\n  ${props => props.disabled && disabledStyle} ${props =>\r\n    !props.disabled &&\r\n    'cursor: pointer;'}\r\n\r\n  :hover input:not([disabled]) + div,\r\n  :hover input:not([disabled]) + span {\r\n    border-color: ${props =>\r\n      normalizeColor(props.theme.radioButton.hover.border.color, props.theme)};\r\n  }\r\n  :hover {\r\n    background-color: ${props =>\r\n      normalizeColor(\r\n        !props.disabled &&\r\n          props.theme.radioButton.hover &&\r\n          props.theme.radioButton.hover.background &&\r\n          props.theme.radioButton.hover.background.color,\r\n        props.theme,\r\n      )};\r\n  }\r\n  ${props => props.theme.radioButton.container.extend};\r\n`;\r\n\r\nStyledRadioButtonContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButtonContainer.defaultProps, defaultProps);\r\n\r\nconst StyledRadioButtonInput = styled.input`\r\n  opacity: 0;\r\n  -moz-appearance: none;\r\n  width: 0;\r\n  height: 0;\r\n  margin: 0;\r\n  ${props => !props.disabled && 'cursor: pointer;'};\r\n`;\r\n\r\nStyledRadioButtonInput.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButtonInput.defaultProps, defaultProps);\r\n\r\nconst StyledRadioButtonLabel = styled.span`\r\n  ${props =>\r\n    props.theme.radioButton.font.weight &&\r\n    css`\r\n      font-weight: ${props.theme.radioButton.font.weight};\r\n    `}\r\n`;\r\n\r\nStyledRadioButtonLabel.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButtonLabel.defaultProps, defaultProps);\r\n\r\nconst StyledRadioButtonIcon = styled.svg`\r\n  box-sizing: border-box;\r\n  width: ${props =>\r\n    props.theme.radioButton.icon.size || props.theme.radioButton.size};\r\n  height: ${props =>\r\n    props.theme.radioButton.icon.size || props.theme.radioButton.size};\r\n  fill: ${props =>\r\n    normalizeColor(\r\n      props.theme.radioButton.check.color || 'control',\r\n      props.theme,\r\n    )};\r\n  ${props => props.theme.radioButton.icon.extend};\r\n`;\r\n\r\nStyledRadioButtonIcon.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButtonIcon.defaultProps, defaultProps);\r\n\r\nconst StyledRadioButtonBox = styled.div`\r\n  background-color: ${props =>\r\n    props.theme.radioButton.check.background &&\r\n    props.theme.radioButton.check.background.color};\r\n  ${props => props.focus && focusStyle()};\r\n  ${props => props.theme.radioButton.check.extend};\r\n`;\r\n\r\nStyledRadioButtonBox.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButtonBox.defaultProps, defaultProps);\r\n\r\nconst StyledRadioButton = styled.div`\r\n  ${props => props.theme.radioButton && props.theme.radioButton.extend};\r\n`;\r\n\r\nStyledRadioButton.defaultProps = {};\r\nObject.setPrototypeOf(StyledRadioButton.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledRadioButtonContainer,\r\n  StyledRadioButtonInput,\r\n  StyledRadioButtonLabel,\r\n  StyledRadioButtonIcon,\r\n  StyledRadioButtonBox,\r\n  StyledRadioButton,\r\n};\r\n","export { Grommet } from './Grommet';\r\n","import React, { Component } from 'react';\r\nimport { createGlobalStyle } from 'styled-components';\r\n\r\nimport {\r\n  ResponsiveContext,\r\n  ThemeContext,\r\n  ContainerTargetContext,\r\n} from '../../contexts';\r\n\r\nimport {\r\n  backgroundIsDark,\r\n  deepMerge,\r\n  getBreakpoint,\r\n  getDeviceBreakpoint,\r\n  normalizeColor,\r\n} from '../../utils';\r\nimport { base as baseTheme } from '../../themes';\r\nimport { StyledGrommet } from './StyledGrommet';\r\n\r\nconst FullGlobalStyle = createGlobalStyle`\r\n  body { margin: 0; }\r\n`;\r\n\r\nclass Grommet extends Component {\r\n  static displayName = 'Grommet';\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const {\r\n      background: backgroundProp,\r\n      dir,\r\n      theme = {},\r\n      themeMode,\r\n    } = nextProps;\r\n    const { theme: stateTheme, themeProp, themeModeProp } = prevState;\r\n\r\n    const nextTheme = deepMerge(baseTheme, theme);\r\n    if (!stateTheme || theme !== themeProp || themeMode !== themeModeProp) {\r\n      const {\r\n        colors: { background: themeBackground },\r\n      } = nextTheme.global;\r\n\r\n      // get initial value for dark so we can normalize background color\r\n      nextTheme.dark = (themeMode || theme.defaultMode) === 'dark';\r\n      const color = normalizeColor(\r\n        backgroundProp || themeBackground,\r\n        nextTheme,\r\n      );\r\n\r\n      // After normalizing, we set nextTheme.dark once more.\r\n      // It is necessary that we set it twice. We have to handle two cases:\r\n      // 1. Caller passes in a color object or a color name that resolves an\r\n      //    object. In this case, we want to set dark as line 38 shows. The\r\n      //    second set, in line 46, is a no-op.\r\n      // 2. Caller passes a specific color value or a color name that resolves\r\n      //    to a specific color value. In this case, we want dark to be set\r\n      //    based on that color, which line 46 will do.\r\n      // The double set of nextTheme.dark allows us to handle both cases here\r\n      // without having to duplicate color object + name + dark mode detection\r\n      // code here that is already in normalizeColor and backgroundIsDark.\r\n      nextTheme.dark = backgroundIsDark(color, nextTheme);\r\n      nextTheme.baseBackground = backgroundProp || themeBackground;\r\n\r\n      if (dir) {\r\n        nextTheme.dir = dir;\r\n      }\r\n      return {\r\n        theme: nextTheme,\r\n        themeProp: theme,\r\n        themeModeProp: themeMode,\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('resize', this.onResize);\r\n    this.onResize();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', this.onResize);\r\n  }\r\n\r\n  onResize = () => {\r\n    const { theme, responsive } = this.state;\r\n\r\n    let breakpoint;\r\n    // responsive would be undefined in the case of SSR or initial page load\r\n    if (!responsive) {\r\n      // In the case of SSR we'll need to use the user agent breakpoint\r\n      breakpoint = this.deviceResponsive();\r\n    }\r\n    // Initial page load where both responsive and breakpoint are undefined\r\n    if (!breakpoint) breakpoint = getBreakpoint(window.innerWidth, theme);\r\n\r\n    if (breakpoint !== responsive) {\r\n      this.setState({ responsive: breakpoint });\r\n    }\r\n  };\r\n\r\n  deviceResponsive() {\r\n    const { userAgent } = this.props;\r\n    const { theme } = this.state;\r\n\r\n    /*\r\n     * Regexes provided for mobile and tablet detection are meant to replace\r\n     * a full-featured specific library due to contributing a considerable size\r\n     * into the bundle.\r\n     *\r\n     * User agents found https://deviceatlas.com/blog/list-of-user-agent-strings\r\n     */\r\n    if (userAgent) {\r\n      if (\r\n        /(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(userAgent)\r\n      ) {\r\n        return getDeviceBreakpoint('tablet', theme);\r\n      }\r\n      if (/Mobile|iPhone|Android/.test(userAgent)) {\r\n        return getDeviceBreakpoint('phone', theme);\r\n      }\r\n      return getDeviceBreakpoint('computer', theme);\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      full,\r\n      containerTarget = typeof document === 'object'\r\n        ? document.body\r\n        : undefined,\r\n      ...rest\r\n    } = this.props;\r\n    delete rest.theme;\r\n    const { theme, responsive: stateResponsive } = this.state;\r\n\r\n    // Value from state should be correct once we resize\r\n    // On first render we try to guess otherwise set the default as a tablet\r\n    const responsive =\r\n      stateResponsive ||\r\n      this.deviceResponsive() ||\r\n      theme.global.deviceBreakpoints.tablet;\r\n\r\n    return (\r\n      <ThemeContext.Provider value={theme}>\r\n        <ResponsiveContext.Provider value={responsive}>\r\n          <ContainerTargetContext.Provider value={containerTarget}>\r\n            <StyledGrommet full={full} {...rest}>\r\n              {children}\r\n            </StyledGrommet>\r\n            {full && <FullGlobalStyle />}\r\n          </ContainerTargetContext.Provider>\r\n        </ResponsiveContext.Provider>\r\n      </ThemeContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nlet GrommetDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  GrommetDoc = require('./doc').doc(Grommet);\r\n}\r\nconst GrommetWrapper = GrommetDoc || Grommet;\r\n\r\nexport { GrommetWrapper as Grommet };\r\n","import { css } from 'styled-components';\r\n\r\nimport { deepFreeze } from '../utils/object';\r\n\r\nexport const grommet = deepFreeze({\r\n  global: {\r\n    colors: {\r\n      background: {\r\n        light: '#ffffff',\r\n        dark: '#000000',\r\n      },\r\n    },\r\n    font: {\r\n      family: `-apple-system,\r\n         BlinkMacSystemFont, \r\n         \"Segoe UI\", \r\n         Roboto, \r\n         Oxygen, \r\n         Ubuntu, \r\n         Cantarell, \r\n         \"Fira Sans\", \r\n         \"Droid Sans\",  \r\n         \"Helvetica Neue\", \r\n         Arial, sans-serif,  \r\n         \"Apple Color Emoji\", \r\n         \"Segoe UI Emoji\", \r\n         \"Segoe UI Symbol\"`,\r\n    },\r\n  },\r\n  button: {\r\n    extend: css`\r\n      ${props => !props.plain && 'font-weight: bold;'}\r\n    `,\r\n  },\r\n});\r\n","import { rgba } from 'polished';\r\nimport { css } from 'styled-components';\r\n\r\nimport { deepFreeze } from '../utils/object';\r\nimport { normalizeColor } from '../utils/colors';\r\n\r\nconst accentColors = ['#FD6FFF', '#60EB9F', '#60EBE1', '#FFCA58'];\r\nconst neutralColors = ['#EB6060', '#01C781', '#6095EB', '#FFB200'];\r\nconst statusColors = {\r\n  critical: '#FF3333',\r\n  error: '#FF3333',\r\n  warning: '#F7E464',\r\n  ok: '#7DD892',\r\n  unknown: '#a8a8a8',\r\n  disabled: '#a8a8a8',\r\n};\r\nconst backgroundColor = '#111111';\r\n\r\nconst colors = {\r\n  active: rgba(102, 102, 102, 0.5),\r\n  background: backgroundColor,\r\n  black: '#000000',\r\n  brand: '#FD6FFF',\r\n  control: {\r\n    dark: '#FFCA58',\r\n    light: '#403216',\r\n  },\r\n  focus: '#FFCA58',\r\n  icon: {\r\n    dark: '#f8f8f8',\r\n    light: '#666666',\r\n  },\r\n  placeholder: '#AAAAAA',\r\n  text: {\r\n    dark: '#eeeeee',\r\n    light: '#444444',\r\n  },\r\n  white: '#FFFFFF',\r\n};\r\n\r\nconst colorArray = (array, prefix) =>\r\n  array.forEach((color, index) => {\r\n    colors[`${prefix}-${index + 1}`] = color;\r\n  });\r\n\r\ncolorArray(accentColors, 'accent');\r\ncolorArray(neutralColors, 'neutral');\r\nObject.keys(statusColors).forEach(color => {\r\n  colors[`status-${color}`] = statusColors[color];\r\n});\r\n\r\nexport const dark = deepFreeze({\r\n  global: {\r\n    colors,\r\n    drop: {\r\n      background: '#333333',\r\n    },\r\n    focus: {\r\n      border: {\r\n        color: css`\r\n          ${props => normalizeColor('focus', props.theme)};\r\n        `,\r\n        width: '2px',\r\n      },\r\n    },\r\n    font: {\r\n      family: 'Arial',\r\n    },\r\n    input: {\r\n      weight: 700,\r\n    },\r\n  },\r\n  anchor: {\r\n    color: 'control',\r\n  },\r\n  layer: {\r\n    background: backgroundColor,\r\n    overlay: {\r\n      background: rgba(48, 48, 48, 0.5),\r\n    },\r\n  },\r\n});\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { baseStyle } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst fullStyle = css`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: auto;\r\n`;\r\n\r\nconst StyledGrommet = styled.div`\r\n  ${props => !props.plain && baseStyle}\r\n  ${props => props.full && fullStyle}\r\n  ${props => props.theme.global.font.face}\r\n  ${props => props.theme.grommet.extend}\r\n  ${props =>\r\n    props.cssVars &&\r\n    Object.keys(props.theme.global.colors)\r\n      .filter(k => typeof props.theme.global.colors[k] === 'string')\r\n      .map(k => `--${k}: ${props.theme.global.colors[k]};`)\r\n      .join('\\n')}\r\n`;\r\n\r\nStyledGrommet.defaultProps = {};\r\nObject.setPrototypeOf(StyledGrommet.defaultProps, defaultProps);\r\n\r\nexport { StyledGrommet };\r\n","import React, { forwardRef, useState } from 'react';\r\nimport { StyledImage } from './StyledImage';\r\n\r\nconst Image = forwardRef(\r\n  ({ a11yTitle, fallback, onError, opacity, fill, src, ...rest }, ref) => {\r\n    const [imageMissing, setImageMissing] = useState(false);\r\n    const handleError = event => {\r\n      if (onError) {\r\n        onError(event);\r\n      }\r\n      setImageMissing(true);\r\n    };\r\n    const extraProps = {\r\n      onError: (onError || fallback) && handleError,\r\n    };\r\n    return (\r\n      <StyledImage\r\n        aria-label={a11yTitle}\r\n        {...rest}\r\n        {...extraProps}\r\n        ref={ref}\r\n        opacityProp={opacity}\r\n        fillProp={fill}\r\n        src={!imageMissing ? src : fallback}\r\n      />\r\n    );\r\n  },\r\n);\r\n\r\nImage.displayName = 'Image';\r\n\r\nlet ImageDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ImageDoc = require('./doc').doc(Image); // eslint-disable-line global-require\r\n}\r\n\r\nconst ImageWrapper = ImageDoc || Image;\r\n\r\nexport { ImageWrapper as Image };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { fillStyle, genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst FIT_MAP = {\r\n  cover: 'cover',\r\n  contain: 'contain',\r\n};\r\n\r\nconst fitStyle = css`\r\n  flex: 1 1;\r\n  overflow: hidden;\r\n  object-fit: ${props => FIT_MAP[props.fit]};\r\n`;\r\n\r\nconst StyledImage = styled.img`\r\n  ${genericStyles}\r\n  ${props => props.fit && fitStyle}\r\n  ${props => props.fillProp && fillStyle(props.fillProp)}\r\n  ${props => props.theme.image && props.theme.image.extend}\r\n  ${props =>\r\n    props.opacityProp &&\r\n    `opacity: ${\r\n      props.opacityProp === true\r\n        ? props.theme.global.opacity.medium\r\n        : props.theme.global.opacity[props.opacityProp] || props.opacityProp\r\n    };\r\n  `}\r\n    `;\r\n\r\nStyledImage.defaultProps = {};\r\nObject.setPrototypeOf(StyledImage.defaultProps, defaultProps);\r\n\r\nexport { StyledImage };\r\n","import React, { forwardRef, useContext, useEffect, useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport { getNewContainer } from '../../utils';\r\n\r\nimport { LayerContainer } from './LayerContainer';\r\nimport { animationDuration } from './StyledLayer';\r\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\r\n\r\nconst Layer = forwardRef((props, ref) => {\r\n  const { animate, animation, targetChildPosition } = props;\r\n  const [originalFocusedElement, setOriginalFocusedElement] = useState();\r\n  useEffect(() => setOriginalFocusedElement(document.activeElement), []);\r\n  const [layerContainer, setLayerContainer] = useState();\r\n  const containerTarget = useContext(ContainerTargetContext);\r\n  useEffect(\r\n    () =>\r\n      setLayerContainer(getNewContainer(containerTarget, targetChildPosition)),\r\n    [containerTarget, targetChildPosition],\r\n  );\r\n\r\n  // just a few things to clean up when the Layer is unmounted\r\n  useEffect(\r\n    () => () => {\r\n      if (originalFocusedElement) {\r\n        if (originalFocusedElement.focus) {\r\n          // wait for the fixed positioning to come back to normal\r\n          // see layer styling for reference\r\n          setTimeout(() => originalFocusedElement.focus(), 0);\r\n        } else if (\r\n          originalFocusedElement.parentNode &&\r\n          originalFocusedElement.parentNode.focus\r\n        ) {\r\n          // required for IE11 and Edge\r\n          originalFocusedElement.parentNode.focus();\r\n        }\r\n      }\r\n\r\n      if (layerContainer) {\r\n        const activeAnimation = animation !== undefined ? animation : animate;\r\n        if (activeAnimation !== false) {\r\n          // undefined uses 'slide' as the default\r\n          // animate out and remove later\r\n          const layerClone = layerContainer.cloneNode(true);\r\n          layerClone.id = 'layerClone';\r\n          containerTarget.appendChild(layerClone);\r\n          const clonedContainer = layerClone.querySelector(\r\n            '[class*=\"StyledLayer__StyledContainer\"]',\r\n          );\r\n          if (clonedContainer && clonedContainer.style) {\r\n            clonedContainer.style.animationDirection = 'reverse';\r\n          }\r\n          setTimeout(() => {\r\n            // we add the id and query here so the unit tests work\r\n            const clone = document.getElementById('layerClone');\r\n            if (clone) {\r\n              containerTarget.removeChild(clone);\r\n              layerContainer.remove();\r\n            }\r\n          }, animationDuration);\r\n        } else {\r\n          containerTarget.removeChild(layerContainer);\r\n        }\r\n      }\r\n    },\r\n    [\r\n      animate,\r\n      animation,\r\n      containerTarget,\r\n      layerContainer,\r\n      originalFocusedElement,\r\n    ],\r\n  );\r\n\r\n  return layerContainer\r\n    ? createPortal(<LayerContainer ref={ref} {...props} />, layerContainer)\r\n    : null;\r\n});\r\n\r\nLayer.displayName = 'Layer';\r\n\r\nlet LayerDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  LayerDoc = require('./doc').doc(Layer); // eslint-disable-line global-require\r\n}\r\nconst LayerWrapper = LayerDoc || Layer;\r\n\r\nexport { LayerWrapper as Layer };\r\n","import React, {\r\n  forwardRef,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { FocusedContainer } from '../FocusedContainer';\r\nimport { Keyboard } from '../Keyboard';\r\nimport {\r\n  backgroundIsDark,\r\n  findVisibleParent,\r\n  PortalContext,\r\n} from '../../utils';\r\n\r\nimport { StyledLayer, StyledContainer, StyledOverlay } from './StyledLayer';\r\n\r\nconst HiddenAnchor = styled.a`\r\n  width: 0;\r\n  height: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n`;\r\n\r\nconst defaultPortalContext = [];\r\nconst fullBounds = { left: 0, right: 0, top: 0, bottom: 0 };\r\n\r\nconst LayerContainer = forwardRef(\r\n  (\r\n    {\r\n      children,\r\n      full = false,\r\n      id,\r\n      margin = 'none',\r\n      modal = true,\r\n      onClickOutside,\r\n      onEsc,\r\n      plain,\r\n      position = 'center',\r\n      responsive = true,\r\n      target: layerTarget,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [targetBounds, setTargetBounds] = useState(fullBounds);\r\n    const anchorRef = useRef();\r\n    const containerRef = useRef();\r\n    const layerRef = useRef();\r\n    const portalContext = useContext(PortalContext) || defaultPortalContext;\r\n    const portalId = useMemo(() => portalContext.length, [portalContext]);\r\n    const nextPortalContext = useMemo(() => [...portalContext, portalId], [\r\n      portalContext,\r\n      portalId,\r\n    ]);\r\n\r\n    useEffect(() => {\r\n      if (position !== 'hidden') {\r\n        const node = layerRef.current || containerRef.current || ref.current;\r\n        if (node && node.scrollIntoView) node.scrollIntoView();\r\n        // Once layer is open we make sure it has focus so that you\r\n        // can start tabbing inside the layer. If the caller put focus\r\n        // on an element already, we honor that. Otherwise, we put\r\n        // the focus in the hidden anchor.\r\n        let element = document.activeElement;\r\n        while (element) {\r\n          if (element === containerRef.current) {\r\n            // already have focus inside the container\r\n            break;\r\n          }\r\n          element = element.parentElement;\r\n        }\r\n        if (modal && !element && anchorRef.current) {\r\n          anchorRef.current.focus();\r\n        }\r\n      }\r\n    }, [modal, position, ref]);\r\n\r\n    useEffect(() => {\r\n      if (position !== 'hidden') {\r\n        const node = layerRef.current || containerRef.current || ref.current;\r\n        if (node && node.scrollIntoView) node.scrollIntoView();\r\n      }\r\n    }, [position, ref]);\r\n\r\n    useEffect(() => {\r\n      const onClickDocument = event => {\r\n        // determine which portal id the target is in, if any\r\n        let clickedPortalId = null;\r\n        let node = event.target;\r\n        while (clickedPortalId === null && node !== document && node !== null) {\r\n          // check if user click occurred within the layer\r\n          const attr = node.getAttribute('data-g-portal-id');\r\n          if (attr !== null && attr !== '')\r\n            clickedPortalId = parseInt(attr, 10);\r\n          // loop upward through parents to see if clicked element is a child\r\n          // of the Layer. if so, click was inside Layer\r\n          else node = node.parentNode;\r\n        }\r\n        if (\r\n          (clickedPortalId === null ||\r\n            portalContext.indexOf(clickedPortalId) !== -1) &&\r\n          node !== null\r\n        ) {\r\n          // if the click occurred outside of the Layer portal, call\r\n          // the user's onClickOutside function\r\n          onClickOutside(event);\r\n        }\r\n      };\r\n\r\n      // if user provides an onClickOutside function, listen for mousedown event\r\n      if (onClickOutside) {\r\n        document.addEventListener('mousedown', onClickDocument);\r\n      }\r\n\r\n      if (layerTarget) {\r\n        const updateBounds = () => {\r\n          const rect = findVisibleParent(layerTarget).getBoundingClientRect();\r\n          setTargetBounds({\r\n            left: rect.left,\r\n            right: window.innerWidth - rect.right,\r\n            top: rect.top,\r\n            bottom: window.innerHeight - rect.bottom,\r\n          });\r\n        };\r\n\r\n        updateBounds();\r\n        window.addEventListener('resize', updateBounds);\r\n        window.addEventListener('scroll', updateBounds, true);\r\n\r\n        return () => {\r\n          window.removeEventListener('resize', updateBounds);\r\n          window.removeEventListener('scroll', updateBounds, true);\r\n          if (onClickOutside) {\r\n            document.removeEventListener('mousedown', onClickDocument);\r\n          }\r\n        };\r\n      }\r\n      setTargetBounds(fullBounds);\r\n      return () => {\r\n        if (onClickOutside) {\r\n          document.removeEventListener('mousedown', onClickDocument);\r\n        }\r\n      };\r\n    }, [layerTarget, onClickOutside, portalContext, portalId]);\r\n\r\n    let content = (\r\n      <StyledContainer\r\n        ref={ref || containerRef}\r\n        id={id}\r\n        full={full}\r\n        margin={margin}\r\n        modal={modal}\r\n        targetBounds={!modal ? targetBounds : fullBounds}\r\n        {...rest}\r\n        position={position}\r\n        plain={plain}\r\n        responsive={responsive}\r\n        dir={theme.dir}\r\n        // portalId is used to determine if click occurred inside\r\n        // or outside of the layer\r\n        data-g-portal-id={portalId}\r\n      >\r\n        {/* eslint-disable max-len */}\r\n        {/* eslint-disable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */}\r\n        <HiddenAnchor ref={anchorRef} tabIndex=\"-1\" aria-hidden=\"true\" />\r\n        {/* eslint-enable jsx-a11y/anchor-is-valid, jsx-a11y/anchor-has-content */}\r\n        {/* eslint-enable max-len */}\r\n        {children}\r\n      </StyledContainer>\r\n    );\r\n    if (modal) {\r\n      content = (\r\n        <StyledLayer\r\n          ref={layerRef}\r\n          id={id}\r\n          targetBounds={targetBounds}\r\n          plain={plain}\r\n          position={position}\r\n          responsive={responsive}\r\n          tabIndex=\"-1\"\r\n          dir={theme.dir}\r\n        >\r\n          <StyledOverlay\r\n            plain={plain}\r\n            responsive={responsive}\r\n            onMouseDown={onClickOutside}\r\n          />\r\n          {content}\r\n        </StyledLayer>\r\n      );\r\n    }\r\n\r\n    if (onEsc) {\r\n      content = <Keyboard onEsc={onEsc}>{content}</Keyboard>;\r\n    }\r\n\r\n    if (theme.layer.background) {\r\n      const dark = backgroundIsDark(theme.layer.background, theme);\r\n      if (dark !== undefined && dark !== theme.dark) {\r\n        content = (\r\n          <ThemeContext.Provider value={{ ...theme, dark }}>\r\n            {content}\r\n          </ThemeContext.Provider>\r\n        );\r\n      }\r\n    }\r\n\r\n    content = (\r\n      <PortalContext.Provider value={nextPortalContext}>\r\n        {content}\r\n      </PortalContext.Provider>\r\n    );\r\n\r\n    if (modal) {\r\n      content = (\r\n        <FocusedContainer\r\n          hidden={position === 'hidden'}\r\n          // if layer has a target, do not restrict scroll.\r\n          // restricting scroll could inhibit the user's\r\n          // ability to scroll the page while the layer is open.\r\n          restrictScroll={!layerTarget ? true : undefined}\r\n          trapFocus\r\n        >\r\n          {content}\r\n        </FocusedContainer>\r\n      );\r\n    }\r\n\r\n    return content;\r\n  },\r\n);\r\n\r\nexport { LayerContainer };\r\n","export { List } from './List';\r\n","import React, { useContext, useState } from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { Box } from '../Box';\r\nimport { InfiniteScroll } from '../InfiniteScroll';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Text } from '../Text';\r\nimport {\r\n  focusStyle,\r\n  genericStyles,\r\n  unfocusStyle,\r\n  useForwardedRef,\r\n} from '../../utils';\r\n\r\nconst StyledList = styled.ul`\r\n  list-style: none;\r\n  ${props => !props.margin && 'margin: 0;'}\r\n  padding: 0;\r\n  ${genericStyles}\r\n\r\n  &:focus {\r\n    ${props =>\r\n      props.tabIndex >= 0 &&\r\n      focusStyle({ forceOutline: true, skipSvgChildren: true })}\r\n  }\r\n  // during the interim state when a user is holding down a click,\r\n  // the individual list item has focus in the DOM until the click\r\n  // completes and focus is placed back on the list container.\r\n  // for visual consistency, we want to keep the focus indicator on the\r\n  // list container the whole time.\r\n  ${props =>\r\n    props.itemFocus &&\r\n    focusStyle({ forceOutline: true, skipSvgChildren: true })}}\r\n  ${props => props.theme.list && props.theme.list.extend}}\r\n`;\r\n\r\nconst StyledItem = styled(Box)`\r\n  ${props => props.onClick && `cursor: pointer;`}\r\n  // during the interim state when a user is holding down a click,\r\n  // the individual list item has focus in the DOM until the click\r\n  // completes and focus is placed back on the list container.\r\n  // for visual consistency, we are showing focus on the list container\r\n  // as opposed to the item itself.\r\n  &:focus {\r\n    ${unfocusStyle({ forceOutline: true, skipSvgChildren: true })}\r\n  }\r\n  ${props =>\r\n    props.theme.list && props.theme.list.item && props.theme.list.item.extend}\r\n`;\r\n\r\nconst normalize = (item, index, property) => {\r\n  if (typeof property === 'function') {\r\n    return property(item, index);\r\n  }\r\n  return item[property];\r\n};\r\n\r\nconst List = React.forwardRef(\r\n  (\r\n    {\r\n      action,\r\n      as,\r\n      background,\r\n      border,\r\n      children,\r\n      data,\r\n      focus,\r\n      itemProps,\r\n      pad,\r\n      primaryKey,\r\n      secondaryKey,\r\n      step,\r\n      onClickItem,\r\n      onMore,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const listRef = useForwardedRef(ref);\r\n    const theme = useContext(ThemeContext);\r\n    const [active, setActive] = useState();\r\n    const [itemFocus, setItemFocus] = useState();\r\n\r\n    return (\r\n      <Keyboard\r\n        onEnter={\r\n          onClickItem && active >= 0\r\n            ? event => {\r\n                event.persist();\r\n                const adjustedEvent = event;\r\n                adjustedEvent.item = data[active];\r\n                adjustedEvent.index = active;\r\n                onClickItem(adjustedEvent);\r\n              }\r\n            : undefined\r\n        }\r\n        onUp={\r\n          onClickItem && active\r\n            ? () => {\r\n                setActive(active - 1);\r\n              }\r\n            : undefined\r\n        }\r\n        onDown={\r\n          onClickItem && data && data.length\r\n            ? () => {\r\n                setActive(\r\n                  active >= 0 ? Math.min(active + 1, data.length - 1) : 0,\r\n                );\r\n              }\r\n            : undefined\r\n        }\r\n      >\r\n        <StyledList\r\n          ref={listRef}\r\n          as={as || 'ul'}\r\n          itemFocus={itemFocus}\r\n          tabIndex={onClickItem ? 0 : undefined}\r\n          {...rest}\r\n        >\r\n          <InfiniteScroll\r\n            items={data}\r\n            onMore={onMore}\r\n            scrollableAncestor=\"window\"\r\n            step={step}\r\n            renderMarker={marker => (\r\n              <Box as=\"li\" flex={false}>\r\n                {marker}\r\n              </Box>\r\n            )}\r\n          >\r\n            {(item, index) => {\r\n              let content;\r\n              let boxProps = {};\r\n\r\n              if (children) {\r\n                content = children(\r\n                  item,\r\n                  index,\r\n                  onClickItem ? { active: active === index } : undefined,\r\n                );\r\n              } else if (primaryKey) {\r\n                if (typeof primaryKey === 'function') {\r\n                  content = primaryKey(item, index);\r\n                } else {\r\n                  content = (\r\n                    <Text key=\"p\" weight=\"bold\">\r\n                      {normalize(item, index, primaryKey)}\r\n                    </Text>\r\n                  );\r\n                }\r\n                if (secondaryKey) {\r\n                  if (typeof secondaryKey === 'function') {\r\n                    content = [content, secondaryKey(item, index)];\r\n                  } else {\r\n                    content = [\r\n                      content,\r\n                      <Text key=\"s\">\r\n                        {normalize(item, index, secondaryKey)}\r\n                      </Text>,\r\n                    ];\r\n                  }\r\n                  boxProps = {\r\n                    direction: 'row',\r\n                    align: 'center',\r\n                    justify: 'between',\r\n                    gap: 'medium',\r\n                  };\r\n                }\r\n              } else if (typeof item === 'object') {\r\n                content = item[Object.keys(item)[0]];\r\n              } else {\r\n                content = item;\r\n              }\r\n\r\n              if (action) {\r\n                content = [\r\n                  <Box align=\"start\" key={`actionContainer${index}`}>\r\n                    {content}\r\n                  </Box>,\r\n                  action(item, index),\r\n                ];\r\n                boxProps = {\r\n                  direction: 'row',\r\n                  align: secondaryKey ? 'start' : 'center',\r\n                  justify: 'between',\r\n                  gap: 'medium',\r\n                };\r\n              }\r\n\r\n              let adjustedBackground = background || theme.list.item.background;\r\n              if (active === index) {\r\n                adjustedBackground = theme.global.hover.background;\r\n              } else if (Array.isArray(adjustedBackground)) {\r\n                adjustedBackground =\r\n                  adjustedBackground[index % adjustedBackground.length];\r\n              }\r\n\r\n              let adjustedBorder =\r\n                border !== undefined ? border : theme.list.item.border;\r\n              if (adjustedBorder === 'horizontal' && index) {\r\n                adjustedBorder = 'bottom';\r\n              }\r\n\r\n              if (itemProps && itemProps[index]) {\r\n                boxProps = { ...boxProps, ...itemProps[index] };\r\n              }\r\n\r\n              let clickProps;\r\n              if (onClickItem) {\r\n                clickProps = {\r\n                  tabIndex: -1,\r\n                  active: active === index,\r\n                  onClick: event => {\r\n                    // extract from React's synthetic event pool\r\n                    event.persist();\r\n                    const adjustedEvent = event;\r\n                    adjustedEvent.item = item;\r\n                    adjustedEvent.index = index;\r\n                    onClickItem(adjustedEvent);\r\n                    // put focus on the List container to meet WCAG\r\n                    // accessibility guidelines that focus remains on `ul`\r\n                    listRef.current.focus();\r\n                  },\r\n                  onMouseOver: () => setActive(index),\r\n                  onMouseOut: () => setActive(undefined),\r\n                  onFocus: () => {\r\n                    setActive(index);\r\n                    setItemFocus(true);\r\n                  },\r\n                  onBlur: () => {\r\n                    setActive(undefined);\r\n                    setItemFocus(false);\r\n                  },\r\n                };\r\n              }\r\n\r\n              return (\r\n                <StyledItem\r\n                  key={index}\r\n                  tag=\"li\"\r\n                  flex={false}\r\n                  pad={pad || theme.list.item.pad}\r\n                  background={adjustedBackground}\r\n                  border={adjustedBorder}\r\n                  {...boxProps}\r\n                  {...clickProps}\r\n                >\r\n                  {content}\r\n                </StyledItem>\r\n              );\r\n            }}\r\n          </InfiniteScroll>\r\n        </StyledList>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nList.displayName = 'List';\r\n\r\nlet ListDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ListDoc = require('./doc').doc(List); // eslint-disable-line global-require\r\n}\r\nconst ListWrapper = ListDoc || List;\r\n\r\nexport { ListWrapper as List };\r\n","export { Main } from './Main';\r\n","import React from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nconst Main = ({ ...rest }) => (\r\n  <Box as=\"main\" fill=\"vertical\" flex=\"grow\" overflow=\"auto\" {...rest} />\r\n);\r\n\r\nlet MainDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  MainDoc = require('./doc').doc(Main);\r\n}\r\nconst MainWrapper = MainDoc || Main;\r\n\r\nexport { MainWrapper as Main };\r\n","export { Markdown } from './Markdown';\r\n","import React from 'react';\r\nimport Markdown from 'markdown-to-jsx';\r\n\r\nimport { deepMerge } from '../../utils';\r\n\r\nimport { Heading } from '../Heading';\r\nimport { Paragraph } from '../Paragraph';\r\nimport { Anchor } from '../Anchor';\r\nimport { Image } from '../Image';\r\nimport { Table } from '../Table';\r\nimport { TableBody } from '../TableBody';\r\nimport { TableCell } from '../TableCell';\r\nimport { TableFooter } from '../TableFooter';\r\nimport { TableHeader } from '../TableHeader';\r\nimport { TableRow } from '../TableRow';\r\n\r\nconst GrommetMarkdown = ({ components, options, theme, ...rest }) => {\r\n  const heading = [1, 2, 3, 4].reduce((obj, level) => {\r\n    const result = { ...obj };\r\n    result[`h${level}`] = {\r\n      component: Heading,\r\n      props: { level },\r\n    };\r\n    return result;\r\n  }, {});\r\n\r\n  const overrides = deepMerge(\r\n    {\r\n      a: { component: Anchor },\r\n      img: { component: Image },\r\n      p: { component: Paragraph },\r\n      table: { component: Table },\r\n      td: { component: TableCell },\r\n      tbody: { component: TableBody },\r\n      tfoot: { component: TableFooter },\r\n      th: { component: TableCell },\r\n      thead: { component: TableHeader },\r\n      tr: { component: TableRow },\r\n    },\r\n    heading,\r\n    components,\r\n    options && options.overrides,\r\n  );\r\n\r\n  return <Markdown options={{ ...options, overrides }} {...rest} />;\r\n};\r\n\r\nlet GrommetMarkdownDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  GrommetMarkdownDoc = require('./doc').doc(GrommetMarkdown);\r\n}\r\nconst GrommetMarkdownWrapper = GrommetMarkdownDoc || GrommetMarkdown;\r\n\r\nexport { GrommetMarkdownWrapper as Markdown };\r\n","var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_typeof=typeof Symbol=='function'&&typeof Symbol.iterator=='symbol'?function(a){return typeof a}:function(a){return a&&typeof Symbol=='function'&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};function _objectWithoutProperties(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}import React from'react';import unquote from'unquote';var ATTRIBUTE_TO_JSX_PROP_MAP={accesskey:'accessKey',allowfullscreen:'allowFullScreen',allowtransparency:'allowTransparency',autocomplete:'autoComplete',autofocus:'autoFocus',autoplay:'autoPlay',cellpadding:'cellPadding',cellspacing:'cellSpacing',charset:'charSet',class:'className',classid:'classId',colspan:'colSpan',contenteditable:'contentEditable',contextmenu:'contextMenu',crossorigin:'crossOrigin',enctype:'encType',for:'htmlFor',formaction:'formAction',formenctype:'formEncType',formmethod:'formMethod',formnovalidate:'formNoValidate',formtarget:'formTarget',frameborder:'frameBorder',hreflang:'hrefLang',inputmode:'inputMode',keyparams:'keyParams',keytype:'keyType',marginheight:'marginHeight',marginwidth:'marginWidth',maxlength:'maxLength',mediagroup:'mediaGroup',minlength:'minLength',novalidate:'noValidate',radiogroup:'radioGroup',readonly:'readOnly',rowspan:'rowSpan',spellcheck:'spellCheck',srcdoc:'srcDoc',srclang:'srcLang',srcset:'srcSet',tabindex:'tabIndex',usemap:'useMap'},namedCodesToUnicode={amp:'&',apos:'\\'',gt:'>',lt:'<',nbsp:'\\xA0',quot:'\\u201C'},DO_NOT_PROCESS_HTML_ELEMENTS=['style','script'],ATTR_EXTRACTOR_R=/([-A-Z0-9_:]+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|(?:\\{((?:\\\\.|{[^}]*?}|[^}])*)\\})))?/gi,AUTOLINK_MAILTO_CHECK_R=/mailto:/i,BLOCK_END_R=/\\n{2,}$/,BLOCKQUOTE_R=/^( *>[^\\n]+(\\n[^\\n]+)*\\n*)+\\n{2,}/,BLOCKQUOTE_TRIM_LEFT_MULTILINE_R=/^ *> ?/gm,BREAK_LINE_R=/^ {2,}\\n/,BREAK_THEMATIC_R=/^(?:( *[-*_]) *){3,}(?:\\n *)+\\n/,CODE_BLOCK_FENCED_R=/^\\s*(`{3,}|~{3,}) *(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n *)+\\n?/,CODE_BLOCK_R=/^(?: {4}[^\\n]+\\n*)+(?:\\n *)+\\n?/,CODE_INLINE_R=/^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,CONSECUTIVE_NEWLINE_R=/^(?:\\n *)*\\n/,CR_NEWLINE_R=/\\r\\n?/g,FOOTNOTE_R=/^\\[\\^([^\\]]+)](:.*)\\n/,FOOTNOTE_REFERENCE_R=/^\\[\\^([^\\]]+)]/,FORMFEED_R=/\\f/g,GFM_TASK_R=/^\\s*?\\[(x|\\s)\\]/,HEADING_R=/^ *(#{1,6}) *([^\\n]+)\\n{0,2}/,HEADING_SETEXT_R=/^([^\\n]+)\\n *(=|-){3,} *(?:\\n *)+\\n/,HTML_BLOCK_ELEMENT_R=/^ *(?!<[a-z][^ >/]* ?\\/>)<([a-z][^ >/]*) ?([^>]*)\\/{0}>\\n?(\\s*(?:<\\1[^>]*?>[\\s\\S]*?<\\/\\1>|(?!<\\1)[\\s\\S])*?)<\\/\\1>\\n*/i,HTML_CHAR_CODE_R=/&([a-z]+);/g,HTML_COMMENT_R=/^<!--.*?-->/,HTML_CUSTOM_ATTR_R=/^(data|aria|x)-[a-z_][a-z\\d_.-]*$/,HTML_SELF_CLOSING_ELEMENT_R=/^ *<([a-z][a-z0-9:]*)(?:\\s+((?:<.*?>|[^>])*))?\\/?>(?!<\\/\\1>)(\\s*\\n)?/i,INTERPOLATION_R=/^\\{.*\\}$/,LINK_AUTOLINK_BARE_URL_R=/^(https?:\\/\\/[^\\s<]+[^<.,:;\"')\\]\\s])/,LINK_AUTOLINK_MAILTO_R=/^<([^ >]+@[^ >]+)>/,LINK_AUTOLINK_R=/^<([^ >]+:\\/[^ >]+)>/,LIST_ITEM_END_R=/ *\\n+$/,LIST_LOOKBEHIND_R=/(?:^|\\n)( *)$/,CAPTURE_LETTER_AFTER_HYPHEN=/-([a-z])?/gi,NP_TABLE_R=/^(.*\\|?.*)\\n *(\\|? *[-:]+ *\\|[-| :]*)\\n((?:.*\\|.*\\n)*)\\n?/,PARAGRAPH_R=/^((?:[^\\n]|\\n(?! *\\n))+)(?:\\n *)+\\n/,REFERENCE_IMAGE_OR_LINK=/^\\[([^\\]]*)\\]:\\s*(\\S+)\\s*(\"([^\"]*)\")?/,REFERENCE_IMAGE_R=/^!\\[([^\\]]*)\\] ?\\[([^\\]]*)\\]/,REFERENCE_LINK_R=/^\\[([^\\]]*)\\] ?\\[([^\\]]*)\\]/,SQUARE_BRACKETS_R=/(\\[|\\])/g,SHOULD_RENDER_AS_BLOCK_R=/(\\n|^[-*]\\s|^#|^ {2,}|^-{2,}|^>\\s)/,TAB_R=/\\t/g,TABLE_SEPARATOR_R=/^ *\\| */,TABLE_TRIM_PIPES=/(^ *\\||\\| *$)/g,TABLE_CELL_END_TRIM=/ *$/,TABLE_CENTER_ALIGN=/^ *:-+: *$/,TABLE_LEFT_ALIGN=/^ *:-+ *$/,TABLE_RIGHT_ALIGN=/^ *-+: *$/,TEXT_BOLD_R=/^([*_])\\1((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\\1\\1(?!\\1)/,TEXT_EMPHASIZED_R=/^([*_])((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\\1(?!\\1)/,TEXT_STRIKETHROUGHED_R=/^~~((?:\\[.*?\\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,TEXT_ESCAPED_R=/^\\\\([^0-9A-Za-z\\s])/,TEXT_PLAIN_R=/^[\\s\\S]+?(?=[^0-9A-Z\\s\\u00c0-\\uffff&;.()'\"]|\\d+\\.|\\n\\n| {2,}\\n|\\w+:\\S|$)/i,TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R=/(^\\n+|\\n+$|\\s+$)/g,HTML_LEFT_TRIM_AMOUNT_R=/^([ \\t]*)/,UNESCAPE_URL_R=/\\\\([^0-9A-Z\\s])/gi,LIST_BULLET='(?:[*+-]|\\\\d+\\\\.)',LIST_ITEM_PREFIX='( *)((?:[*+-]|\\\\d+\\\\.)) +',LIST_ITEM_PREFIX_R=/^( *)((?:[*+-]|\\d+\\.)) +/,LIST_ITEM_R=/( *)((?:[*+-]|\\d+\\.)) +[^\\n]*(?:\\n(?!\\1(?:[*+-]|\\d+\\.) )[^\\n]*)*(\\n|$)/gm,LIST_R=/^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) (?!(?:[*+-]|\\d+\\.) ))\\n*|\\s*\\n*$)/,LINK_INSIDE='(?:\\\\[[^\\\\]]*\\\\]|[^\\\\[\\\\]]|\\\\](?=[^\\\\[]*\\\\]))*',LINK_HREF_AND_TITLE='\\\\s*<?((?:[^\\\\s\\\\\\\\]|\\\\\\\\.)*?)>?(?:\\\\s+[\\'\"]([\\\\s\\\\S]*?)[\\'\"])?\\\\s*',LINK_R=/^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)/,IMAGE_R=/^!\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)/,BLOCK_SYNTAXES=[BLOCKQUOTE_R,CODE_BLOCK_R,CODE_BLOCK_FENCED_R,HEADING_R,HEADING_SETEXT_R,HTML_BLOCK_ELEMENT_R,HTML_COMMENT_R,HTML_SELF_CLOSING_ELEMENT_R,LIST_ITEM_R,LIST_R,NP_TABLE_R,PARAGRAPH_R];function containsBlockSyntax(a){return BLOCK_SYNTAXES.some(function(b){return b.test(a)})}function slugify(a){return a.replace(/[]/g,'a').replace(/[]/g,'c').replace(/[]/g,'d').replace(/[]/g,'e').replace(/[]/g,'i').replace(/[]/g,'n').replace(/[]/g,'o').replace(/[]/g,'u').replace(/[]/g,'y').replace(/[^a-z0-9- ]/gi,'').replace(/ /gi,'-').toLowerCase()}function parseTableAlignCapture(a){if(TABLE_RIGHT_ALIGN.test(a))return'right';return TABLE_CENTER_ALIGN.test(a)?'center':TABLE_LEFT_ALIGN.test(a)?'left':null}function parseTableRow(a,b,c){var d=c.inTable;c.inTable=!0;var e=b(a.trim(),c);c.inTable=d;var f=[[]];return e.forEach(function(a,b){a.type==='tableSeparator'?b!==0&&b!==e.length-1&&f.push([]):(a.type==='text'&&(e[b+1]==null||e[b+1].type==='tableSeparator')&&(a.content=a.content.replace(TABLE_CELL_END_TRIM,'')),f[f.length-1].push(a))}),f}function parseTableAlign(a){var b=a.replace(TABLE_TRIM_PIPES,'').split('|');return b.map(parseTableAlignCapture)}function parseTableCells(a,b,c){var d=a.trim().split('\\n');return d.map(function(a){return parseTableRow(a,b,c)})}function parseTable(a,b,c){c.inline=!0;var d=parseTableRow(a[1],b,c),e=parseTableAlign(a[2],b,c),f=parseTableCells(a[3],b,c);return c.inline=!1,{align:e,cells:f,header:d,type:'table'}}function getTableStyle(a,b){return a.align[b]==null?{}:{textAlign:a.align[b]}}function normalizeAttributeKey(a){var b=a.indexOf('-');return b!==-1&&a.match(HTML_CUSTOM_ATTR_R)===null&&(a=a.replace(CAPTURE_LETTER_AFTER_HYPHEN,function(a,b){return b.toUpperCase()})),a}function attributeValueToJSXPropValue(a,b){return a==='style'?b.split(/;\\s?/).reduce(function(a,b){var c=b.slice(0,b.indexOf(':')),d=c.replace(/(-[a-z])/g,function(a){return a[1].toUpperCase()});return a[d]=b.slice(c.length+1).trim(),a},{}):a==='href'?sanitizeUrl(b):(b.match(INTERPOLATION_R)&&(b=b.slice(1,b.length-1)),b==='true'||b!=='false'&&b)}function normalizeWhitespace(a){return a.replace(CR_NEWLINE_R,'\\n').replace(FORMFEED_R,'').replace(TAB_R,'    ')}function parserFor(a){function b(d,e){for(var f=[],g='';d;)for(var l=0;l<c.length;){var h=c[l],j=a[h],k=j.match(d,e,g);if(k){var i=k[0];d=d.substring(i.length);var m=j.parse(k,b,e);m.type==null&&(m.type=h),f.push(m),g=i;break}l++}return f}var c=Object.keys(a);return process.env.NODE_ENV!=='production'&&c.forEach(function(b){var c=a[b].order;process.env.NODE_ENV==='production'||typeof c=='number'&&isFinite(c)||console.warn('markdown-to-jsx: Invalid order for rule `'+b+'`: '+c)}),c.sort(function(b,c){var d=a[b].order,e=a[c].order;return d===e?b<c?-1:1:d-e}),function(a,c){return b(normalizeWhitespace(a),c)}}function inlineRegex(a){return function(b,c){return c.inline?a.exec(b):null}}function simpleInlineRegex(a){return function(b,c){return c.inline||c.simple?a.exec(b):null}}function blockRegex(a){return function(b,c){return c.inline||c.simple?null:a.exec(b)}}function anyScopeRegex(a){return function(b){return a.exec(b)}}function reactFor(a){return function b(c,d){if(d=d||{},Array.isArray(c)){for(var e=d.key,f=[],g=!1,h=0;h<c.length;h++){d.key=h;var j=b(c[h],d),k=typeof j=='string';k&&g?f[f.length-1]+=j:f.push(j),g=k}return d.key=e,f}return a(c,b,d)}}function sanitizeUrl(a){try{var b=decodeURIComponent(a).replace(/[^A-Za-z0-9/:]/g,'');if(b.match(/^\\s*(javascript|vbscript|data):/i))return process.env.NODE_ENV!=='production'&&console.warn('Anchor URL contains an unsafe JavaScript/VBScript/data expression, it will not be rendered.',b),null}catch(b){return process.env.NODE_ENV!=='production'&&console.warn('Anchor URL could not be decoded due to malformed syntax or characters, it will not be rendered.',a),null}return a}function unescapeUrl(a){return a.replace(UNESCAPE_URL_R,'$1')}function parseInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!0,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseSimpleInline(a,b,c){var d=c.inline||!1,e=c.simple||!1;c.inline=!1,c.simple=!0;var f=a(b,c);return c.inline=d,c.simple=e,f}function parseBlock(a,b,c){return c.inline=!1,a(b+'\\n\\n',c)}function parseCaptureInline(a,b,c){return{content:parseInline(b,a[1],c)}}function captureNothing(){return{}}function renderNothing(){return null}function ruleOutput(a){return function(b,c,d){return a[b.type].react(b,c,d)}}function cx(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(' ')}function get(a,b,c){for(var d=a,e=b.split('.');e.length&&(d=d[e[0]],d!==void 0);)e.shift();return d||c}function getTag(a,b){var c=get(b,a);return c?typeof c=='function'||(typeof c=='undefined'?'undefined':_typeof(c))==='object'&&'render'in c?c:get(b,a+'.component',a):a}var PARSE_PRIORITY_MAX=1,PARSE_PRIORITY_HIGH=2,PARSE_PRIORITY_MED=3,PARSE_PRIORITY_LOW=4,PARSE_PRIORITY_MIN=5;export function compiler(a,b){function d(a,c){for(var d=get(b.overrides,a+'.props',{}),e=arguments.length,g=Array(e>2?e-2:0),h=2;h<e;h++)g[h-2]=arguments[h];return f.apply(void 0,[getTag(a,b.overrides),_extends({},c,d,{className:cx(c&&c.className,d.className)||void 0})].concat(g))}function c(a){var c=!1;b.forceInline?c=!0:!b.forceBlock&&(c=SHOULD_RENDER_AS_BLOCK_R.test(a)===!1);var e=k(j(c?a:a.replace(TRIM_NEWLINES_AND_TRAILING_WHITESPACE_R,'')+'\\n\\n',{inline:c})),f=void 0;return e.length>1?f=c?d('span',{key:'outer'},e):d('div',{key:'outer'},e):e.length===1?(f=e[0],typeof f=='string'&&(f=d('span',{key:'outer'},f))):f=d('span',{key:'outer'}),f}function e(a){var b=a.match(ATTR_EXTRACTOR_R);return b?b.reduce(function(a,b,d){var e=b.indexOf('=');if(e!==-1){var f=normalizeAttributeKey(b.slice(0,e)).trim(),g=unquote(b.slice(e+1).trim()),h=ATTRIBUTE_TO_JSX_PROP_MAP[f]||f,i=a[h]=attributeValueToJSXPropValue(f,g);(HTML_BLOCK_ELEMENT_R.test(i)||HTML_SELF_CLOSING_ELEMENT_R.test(i))&&(a[h]=React.cloneElement(c(i.trim()),{key:d}))}else b!=='style'&&(a[ATTRIBUTE_TO_JSX_PROP_MAP[b]||b]=!0);return a},{}):void 0}b=b||{},b.overrides=b.overrides||{},b.slugify=b.slugify||slugify,b.namedCodesToUnicode=b.namedCodesToUnicode?_extends({},namedCodesToUnicode,b.namedCodesToUnicode):namedCodesToUnicode;var f=b.createElement||React.createElement;if(process.env.NODE_ENV!=='production'){if(typeof a!='string')throw new Error('markdown-to-jsx: the first argument must be\\n                             a string');if(Object.prototype.toString.call(b.overrides)!=='[object Object]')throw new Error('markdown-to-jsx: options.overrides (second argument property) must be\\n                             undefined or an object literal with shape:\\n                             {\\n                                htmltagname: {\\n                                    component: string|ReactComponent(optional),\\n                                    props: object(optional)\\n                                }\\n                             }')}var g=[],h={},i={blockQuote:{match:blockRegex(BLOCKQUOTE_R),order:PARSE_PRIORITY_HIGH,parse:function d(a,b,c){return{content:b(a[0].replace(BLOCKQUOTE_TRIM_LEFT_MULTILINE_R,''),c)}},react:function e(a,b,c){return d('blockquote',{key:c.key},b(a.content,c))}},breakLine:{match:anyScopeRegex(BREAK_LINE_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('br',{key:c.key})}},breakThematic:{match:blockRegex(BREAK_THEMATIC_R),order:PARSE_PRIORITY_HIGH,parse:captureNothing,react:function e(a,b,c){return d('hr',{key:c.key})}},codeBlock:{match:blockRegex(CODE_BLOCK_R),order:PARSE_PRIORITY_MAX,parse:function c(a){var b=a[0].replace(/^ {4}/gm,'').replace(/\\n+$/,'');return{content:b,lang:void 0}},react:function e(a,b,c){return d('pre',{key:c.key},d('code',{className:a.lang?'lang-'+a.lang:''},a.content))}},codeFenced:{match:blockRegex(CODE_BLOCK_FENCED_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:a[3],lang:a[2]||void 0,type:'codeBlock'}}},codeInline:{match:simpleInlineRegex(CODE_INLINE_R),order:PARSE_PRIORITY_LOW,parse:function b(a){return{content:a[2]}},react:function e(a,b,c){return d('code',{key:c.key},a.content)}},footnote:{match:blockRegex(FOOTNOTE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return g.push({footnote:a[2],identifier:a[1]}),{}},react:renderNothing},footnoteReference:{match:inlineRegex(FOOTNOTE_REFERENCE_R),order:PARSE_PRIORITY_HIGH,parse:function c(a){return{content:a[1],target:'#'+b.slugify(a[1])}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target)},d('sup',{key:c.key},a.content))}},gfmTask:{match:inlineRegex(GFM_TASK_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{completed:a[1].toLowerCase()==='x'}},react:function e(a,b,c){return d('input',{checked:a.completed,key:c.key,readOnly:!0,type:'checkbox'})}},heading:{match:blockRegex(HEADING_R),order:PARSE_PRIORITY_HIGH,parse:function e(a,c,d){return{content:parseInline(c,a[2],d),id:b.slugify(a[2]),level:a[1].length}},react:function f(a,b,c){var e='h'+a.level;return d(e,{id:a.id,key:c.key},b(a.content,c))}},headingSetext:{match:blockRegex(HEADING_SETEXT_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:parseInline(b,a[1],c),level:a[2]==='='?1:2,type:'heading'}}},htmlComment:{match:anyScopeRegex(HTML_COMMENT_R),order:PARSE_PRIORITY_HIGH,parse:function a(){return{}},react:renderNothing},image:{match:simpleInlineRegex(IMAGE_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{alt:a[1],target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt||void 0,title:a.title||void 0,src:sanitizeUrl(a.target)})}},link:{match:inlineRegex(LINK_R,!1),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:parseSimpleInline(b,a[1],c),target:unescapeUrl(a[2]),title:a[3]}},react:function e(a,b,c){return d('a',{key:c.key,href:sanitizeUrl(a.target),title:a.title},b(a.content,c))}},linkAngleBraceStyleDetector:{match:inlineRegex(LINK_AUTOLINK_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],type:'link'}}},linkBareUrlDetector:{match:inlineRegex(LINK_AUTOLINK_BARE_URL_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{content:[{content:a[1],type:'text'}],target:a[1],title:void 0,type:'link'}}},linkMailtoDetector:{match:inlineRegex(LINK_AUTOLINK_MAILTO_R),order:PARSE_PRIORITY_MAX,parse:function d(a){var b=a[1],c=a[1];return AUTOLINK_MAILTO_CHECK_R.test(c)||(c='mailto:'+c),{content:[{content:b.replace('mailto:',''),type:'text'}],target:c,type:'link'}}},list:{match:function f(a,b,c){var d=LIST_LOOKBEHIND_R.exec(c),e=b._list||!b.inline;return d&&e?(a=d[1]+a,LIST_R.exec(a)):null},order:PARSE_PRIORITY_HIGH,parse:function j(a,b,c){var d=a[2],e=d.length>1,f=e?+d:void 0,g=a[0].replace(BLOCK_END_R,'\\n').match(LIST_ITEM_R),h=!1,i=g.map(function(a,d){var e=LIST_ITEM_PREFIX_R.exec(a)[0].length,f=new RegExp('^ {1,'+e+'}','gm'),i=a.replace(f,'').replace(LIST_ITEM_PREFIX_R,''),j=d===g.length-1,k=i.indexOf('\\n\\n')!==-1,l=k||j&&h;h=l;var m=c.inline,n=c._list;c._list=!0;var o;l?(c.inline=!1,o=i.replace(LIST_ITEM_END_R,'\\n\\n')):(c.inline=!0,o=i.replace(LIST_ITEM_END_R,''));var p=b(o,c);return c.inline=m,c._list=n,p});return{items:i,ordered:e,start:f}},react:function f(a,b,c){var e=a.ordered?'ol':'ul';return d(e,{key:c.key,start:a.start},a.items.map(function(a,e){return d('li',{key:e},b(a,c))}))}},newlineCoalescer:{match:blockRegex(CONSECUTIVE_NEWLINE_R),order:PARSE_PRIORITY_LOW,parse:captureNothing,react:function a(){return'\\n'}},paragraph:{match:blockRegex(PARAGRAPH_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('p',{key:c.key},b(a.content,c))}},ref:{match:inlineRegex(REFERENCE_IMAGE_OR_LINK),order:PARSE_PRIORITY_MAX,parse:function b(a){return h[a[1]]={target:a[2],title:a[4]},{}},react:renderNothing},refImage:{match:simpleInlineRegex(REFERENCE_IMAGE_R),order:PARSE_PRIORITY_MAX,parse:function b(a){return{alt:a[1]||void 0,ref:a[2]}},react:function e(a,b,c){return d('img',{key:c.key,alt:a.alt,src:sanitizeUrl(h[a.ref].target),title:h[a.ref].title})}},refLink:{match:inlineRegex(REFERENCE_LINK_R),order:PARSE_PRIORITY_MAX,parse:function d(a,b,c){return{content:b(a[1],c),fallbackContent:b(a[0].replace(SQUARE_BRACKETS_R,'\\\\$1'),c),ref:a[2]}},react:function e(a,b,c){return h[a.ref]?d('a',{key:c.key,href:sanitizeUrl(h[a.ref].target),title:h[a.ref].title},b(a.content,c)):d('span',{key:c.key},b(a.fallbackContent,c))}},table:{match:blockRegex(NP_TABLE_R),order:PARSE_PRIORITY_HIGH,parse:parseTable,react:function f(a,b,e){return d('table',{key:e.key},d('thead',null,d('tr',null,a.header.map(function(c,f){return d('th',{key:f,style:getTableStyle(a,f)},b(c,e))}))),d('tbody',null,a.cells.map(function(c,f){return d('tr',{key:f},c.map(function(f,g){return d('td',{key:g,style:getTableStyle(a,g)},b(f,e))}))})))}},tableSeparator:{match:function c(a,b){return b.inTable?TABLE_SEPARATOR_R.exec(a):null},order:PARSE_PRIORITY_HIGH,parse:function a(){return{type:'tableSeparator'}},react:function a(){return' | '}},text:{match:anyScopeRegex(TEXT_PLAIN_R),order:PARSE_PRIORITY_MIN,parse:function c(a){return{content:a[0].replace(HTML_CHAR_CODE_R,function(a,c){return b.namedCodesToUnicode[c]?b.namedCodesToUnicode[c]:a})}},react:function b(a){return a.content}},textBolded:{match:simpleInlineRegex(TEXT_BOLD_R),order:PARSE_PRIORITY_MED,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('strong',{key:c.key},b(a.content,c))}},textEmphasized:{match:simpleInlineRegex(TEXT_EMPHASIZED_R),order:PARSE_PRIORITY_LOW,parse:function d(a,b,c){return{content:b(a[2],c)}},react:function e(a,b,c){return d('em',{key:c.key},b(a.content,c))}},textEscaped:{match:simpleInlineRegex(TEXT_ESCAPED_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{content:a[1],type:'text'}}},textStrikethroughed:{match:simpleInlineRegex(TEXT_STRIKETHROUGHED_R),order:PARSE_PRIORITY_LOW,parse:parseCaptureInline,react:function e(a,b,c){return d('del',{key:c.key},b(a.content,c))}}};b.disableParsingRawHTML!==!0&&(i.htmlBlock={match:anyScopeRegex(HTML_BLOCK_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function l(a,b,c){var d=a[3].match(HTML_LEFT_TRIM_AMOUNT_R),f=d[1],g=new RegExp('^'+f,'gm'),h=a[3].replace(g,''),i=containsBlockSyntax(h)?parseBlock:parseInline,j=a[1].toLowerCase(),k=DO_NOT_PROCESS_HTML_ELEMENTS.indexOf(j)!==-1;return{attrs:e(a[2]),content:k?a[3]:i(b,h,c),noInnerParse:k,tag:k?j:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({key:c.key},a.attrs),a.noInnerParse?a.content:b(a.content,c))}},i.htmlSelfClosing={match:anyScopeRegex(HTML_SELF_CLOSING_ELEMENT_R),order:PARSE_PRIORITY_HIGH,parse:function b(a){return{attrs:e(a[2]||''),tag:a[1]}},react:function e(a,b,c){return d(a.tag,_extends({},a.attrs,{key:c.key}))}});var j=parserFor(i),k=reactFor(ruleOutput(i)),l=c(function(a){return a.replace(/<!--[\\s\\S]*?(?:-->)/g,'')}(a));return g.length&&l.props.children.push(d('footer',{key:'footer'},g.map(function(a){return d('div',{id:b.slugify(a.identifier),key:a.identifier},a.identifier,k(j(a.footnote,{inline:!0})))}))),l}export default function Markdown(a){var b=a.children,c=a.options,d=_objectWithoutProperties(a,['children','options']);return React.cloneElement(compiler(b,c),d)}if(process.env.NODE_ENV!=='production'){var PropTypes=require('prop-types');Markdown.propTypes={children:PropTypes.string.isRequired,options:PropTypes.object}}\n\n//# sourceMappingURL=esm.js.map","import React, { forwardRef } from 'react';\r\n\r\nimport { StyledParagraph } from './StyledParagraph';\r\n\r\nconst Paragraph = forwardRef(({ color, fill, ...rest }, ref) => (\r\n  <StyledParagraph ref={ref} colorProp={color} fillProp={fill} {...rest} />\r\n));\r\n\r\nParagraph.displayName = 'Paragraph';\r\n\r\nlet ParagraphDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  ParagraphDoc = require('./doc').doc(Paragraph);\r\n}\r\nconst ParagraphWrapper = ParagraphDoc || Paragraph;\r\n\r\nexport { ParagraphWrapper as Paragraph };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles, normalizeColor, textAlignStyle } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst colorStyle = css`\r\n  color: ${props => normalizeColor(props.colorProp, props.theme)};\r\n`;\r\n\r\nconst sizeStyle = props => {\r\n  const size = props.size || 'medium';\r\n  const data = props.theme.paragraph[size];\r\n  return css`\r\n    font-size: ${data.size};\r\n    line-height: ${data.height};\r\n    max-width: ${props.fillProp ? 'none' : data.maxWidth};\r\n  `;\r\n};\r\n\r\nconst fontFamily = css`\r\n  font-family: ${props => props.theme.paragraph.font.family};\r\n`;\r\n\r\nconst StyledParagraph = styled.p`\r\n  ${genericStyles}\r\n  ${props => sizeStyle(props)}\r\n  ${props => props.textAlign && textAlignStyle}\r\n  ${props => props.colorProp && colorStyle}\r\n  ${props =>\r\n    props.theme.paragraph.font &&\r\n    props.theme.paragraph.font.family &&\r\n    fontFamily}\r\n\r\n  ${props => props.theme.paragraph && props.theme.paragraph.extend}\r\n`;\r\n\r\nStyledParagraph.defaultProps = {};\r\nObject.setPrototypeOf(StyledParagraph.defaultProps, defaultProps);\r\n\r\nexport { StyledParagraph };\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { DropButton } from '../DropButton';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Text } from '../Text';\r\nimport { normalizeColor } from '../../utils';\r\n\r\nconst ContainerBox = styled(Box)`\r\n  max-height: inherit;\r\n\r\n  /* IE11 hack to get drop contents to not overflow */\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    width: 100%;\r\n  }\r\n\r\n  ${props => props.theme.menu.extend};\r\n`;\r\n\r\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\r\n\r\nTo open menu when menu button is focused:\r\n- Space/Enter/Up arrow/Down arrow will open menu\r\n\r\nTo navigate within menu:\r\n- Up/down arrow keys can be used and will loop through options\r\n(keeping focus within the Menu)\r\n- Tab can be used, but once the last menu item is reached, Tab will close the\r\nMenu and continue through page content.\r\n\r\nTo close the menu:\r\n- Tabbing beyond the first or last menu item.\r\n- Esc will close the menu\r\n- Select a menu item\r\n\r\nTo make a selection:\r\n- Enter key is pressed.\r\n- Space is pressed.\r\n*/\r\n\r\nconst Menu = forwardRef((props, ref) => {\r\n  const {\r\n    a11yTitle,\r\n    children,\r\n    disabled,\r\n    dropAlign,\r\n    dropBackground,\r\n    dropProps,\r\n    dropTarget,\r\n    justifyContent,\r\n    icon,\r\n    items,\r\n    label,\r\n    messages,\r\n    onKeyDown,\r\n    open,\r\n    plain,\r\n    size,\r\n    ...rest\r\n  } = props;\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const iconColor = normalizeColor(theme.menu.icons.color || 'control', theme);\r\n  const align = dropProps.align || dropAlign;\r\n  const controlButtonIndex = useMemo(() => {\r\n    if (align.top === 'top') return -1;\r\n    if (align.bottom === 'bottom') return items.length;\r\n    return undefined;\r\n  }, [align, items]);\r\n\r\n  const buttonRefs = {};\r\n  const constants = useMemo(() => {\r\n    return {\r\n      none: 'none',\r\n      tab: 9,\r\n      // Menu control button included on top of menu items\r\n      controlTop: align.top === 'top' || undefined,\r\n      // Menu control button included on the bottom of menu items\r\n      controlBottom: align.bottom === 'bottom' || undefined,\r\n      controlButtonIndex,\r\n    };\r\n  }, [align, controlButtonIndex]);\r\n\r\n  const [activeItemIndex, setActiveItemIndex] = useState(constants.none);\r\n  const [isOpen, setOpen] = useState(open || false);\r\n\r\n  const MenuIcon =\r\n    isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\r\n\r\n  const onDropClose = useCallback(() => {\r\n    setActiveItemIndex(constants.none);\r\n    setOpen(false);\r\n  }, [constants.none]);\r\n\r\n  const onDropOpen = useCallback(() => {\r\n    setOpen(true);\r\n  }, []);\r\n\r\n  const onSelectMenuItem = event => {\r\n    if (isOpen) {\r\n      if (activeItemIndex >= 0) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        buttonRefs[activeItemIndex].click();\r\n      }\r\n    } else {\r\n      onDropOpen();\r\n    }\r\n  };\r\n\r\n  const isTab = event =>\r\n    event.keyCode === constants.tab || event.which === constants.tab;\r\n\r\n  const onNextMenuItem = event => {\r\n    event.preventDefault();\r\n    if (!isOpen) {\r\n      onDropOpen();\r\n    } else if (\r\n      isTab(event) &&\r\n      ((!constants.controlBottom && activeItemIndex === items.length - 1) ||\r\n        (constants.controlBottom && activeItemIndex === controlButtonIndex))\r\n    ) {\r\n      // User has reached end of the menu, this tab will close\r\n      // the menu drop because there are no more \"next items\" to access\r\n      onDropClose();\r\n    } else {\r\n      let index;\r\n      if (\r\n        // This checks if the user has reached the end of the menu.\r\n        // In the case the the menu control button is located at the\r\n        // bottom of the menu, it checks if the user has reached the button.\r\n        // Otherwise, it checks if the user is at the last menu item.\r\n        (constants.controlBottom && activeItemIndex === controlButtonIndex) ||\r\n        (!constants.controlBottom && activeItemIndex === items.length - 1) ||\r\n        activeItemIndex === constants.none\r\n      ) {\r\n        // place focus on the first menu item\r\n        index = 0;\r\n      } else {\r\n        index = activeItemIndex + 1;\r\n      }\r\n      setActiveItemIndex(index);\r\n      buttonRefs[index].focus();\r\n    }\r\n  };\r\n\r\n  const onPreviousMenuItem = event => {\r\n    event.preventDefault();\r\n    if (!isOpen) {\r\n      onDropOpen();\r\n    } else if (\r\n      isTab(event) &&\r\n      ((constants.controlTop && activeItemIndex === controlButtonIndex) ||\r\n        (!constants.controlTop && activeItemIndex - 1 < 0))\r\n    ) {\r\n      // User has reached beginning of the menu, this tab will close\r\n      // the menu drop because there are no more \"previous items\" to access\r\n      onDropClose();\r\n    } else {\r\n      let index;\r\n      if (activeItemIndex - 1 < 0) {\r\n        if (\r\n          constants.controlTop &&\r\n          activeItemIndex - 1 === controlButtonIndex\r\n        ) {\r\n          index = items.length;\r\n        } else {\r\n          index = items.length - 1;\r\n        }\r\n      } else {\r\n        index = activeItemIndex - 1;\r\n      }\r\n      setActiveItemIndex(index);\r\n      buttonRefs[index].focus();\r\n    }\r\n  };\r\n\r\n  const menuIcon =\r\n    icon !== false\r\n      ? (icon !== true && icon) || <MenuIcon color={iconColor} size={size} />\r\n      : null;\r\n\r\n  let buttonProps = { plain, size };\r\n  let content;\r\n  if (children) {\r\n    content = children;\r\n  } else if (!theme.button.default) {\r\n    content = (\r\n      <Box\r\n        direction=\"row\"\r\n        justify={justifyContent}\r\n        align=\"center\"\r\n        pad=\"small\"\r\n        gap={label && icon !== false ? 'small' : undefined}\r\n      >\r\n        <Text size={size}>{label}</Text>\r\n        {menuIcon}\r\n      </Box>\r\n    );\r\n  } else {\r\n    // when a theme has theme.button.default, keep content as\r\n    // undefined so we can rely on Button label & icon props\r\n    buttonProps = {\r\n      icon: menuIcon,\r\n      label,\r\n      plain,\r\n      reverse: true,\r\n      size,\r\n    };\r\n    content = undefined;\r\n  }\r\n\r\n  const controlMirror = (\r\n    <Box flex={false}>\r\n      <Button\r\n        ref={r => {\r\n          // make it accessible at the end of all menu items\r\n          buttonRefs[items.length] = r;\r\n        }}\r\n        a11yTitle={a11yTitle || messages.closeMenu || 'Close Menu'}\r\n        active={activeItemIndex === controlButtonIndex}\r\n        focusIndicator={false}\r\n        hoverIndicator=\"background\"\r\n        onClick={onDropClose}\r\n        onFocus={() => setActiveItemIndex(controlButtonIndex)}\r\n        // On first tab into menu, the control button should not\r\n        // be able to receive tab focus because the focus should\r\n        // go to the first menu item instead.\r\n        tabIndex={activeItemIndex === constants.none ? '-1' : undefined}\r\n        {...buttonProps}\r\n      >\r\n        {typeof content === 'function'\r\n          ? () => content({ ...props, drop: true })\r\n          : content}\r\n      </Button>\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Keyboard\r\n      onDown={onNextMenuItem}\r\n      onUp={onPreviousMenuItem}\r\n      onEnter={onSelectMenuItem}\r\n      onSpace={onSelectMenuItem}\r\n      onEsc={onDropClose}\r\n      onTab={onDropClose}\r\n      onKeyDown={onKeyDown}\r\n    >\r\n      <DropButton\r\n        ref={ref}\r\n        {...rest}\r\n        {...buttonProps}\r\n        a11yTitle={a11yTitle || messages.openMenu || 'Open Menu'}\r\n        disabled={disabled}\r\n        dropAlign={align}\r\n        dropTarget={dropTarget}\r\n        dropProps={dropProps}\r\n        open={isOpen}\r\n        onOpen={onDropOpen}\r\n        onClose={onDropClose}\r\n        dropContent={\r\n          <Keyboard\r\n            onTab={event =>\r\n              event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event)\r\n            }\r\n            onEnter={onSelectMenuItem}\r\n          >\r\n            <ContainerBox background={dropBackground || theme.menu.background}>\r\n              {align.top === 'top' ? controlMirror : undefined}\r\n              <Box overflow=\"auto\">\r\n                {items.map((item, index) => {\r\n                  // Determine whether the label is done as a child or\r\n                  // as an option Button kind property.\r\n                  const child = !theme.button.option ? (\r\n                    <Box\r\n                      align=\"start\"\r\n                      pad=\"small\"\r\n                      direction=\"row\"\r\n                      gap={item.gap}\r\n                    >\r\n                      {item.reverse && item.label}\r\n                      {item.icon}\r\n                      {!item.reverse && item.label}\r\n                    </Box>\r\n                  ) : (\r\n                    undefined\r\n                  );\r\n                  // if we have a child, turn on plain, and hoverIndicator\r\n\r\n                  return (\r\n                    // eslint-disable-next-line react/no-array-index-key\r\n                    <Box key={index} flex={false}>\r\n                      <Button\r\n                        ref={r => {\r\n                          buttonRefs[index] = r;\r\n                        }}\r\n                        onFocus={() => setActiveItemIndex(index)}\r\n                        active={activeItemIndex === index}\r\n                        focusIndicator={false}\r\n                        plain={!child ? undefined : true}\r\n                        align=\"start\"\r\n                        kind={!child ? 'option' : undefined}\r\n                        hoverIndicator={!child ? undefined : 'background'}\r\n                        {...(!child\r\n                          ? item\r\n                          : {\r\n                              ...item,\r\n                              gap: undefined,\r\n                              icon: undefined,\r\n                              label: undefined,\r\n                              reverse: undefined,\r\n                            })}\r\n                        onClick={(...args) => {\r\n                          if (item.onClick) {\r\n                            item.onClick(...args);\r\n                          }\r\n                          if (item.close !== false) {\r\n                            onDropClose();\r\n                          }\r\n                        }}\r\n                      >\r\n                        {child}\r\n                      </Button>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n              {align.bottom === 'bottom' ? controlMirror : undefined}\r\n            </ContainerBox>\r\n          </Keyboard>\r\n        }\r\n      >\r\n        {content}\r\n      </DropButton>\r\n    </Keyboard>\r\n  );\r\n});\r\n\r\nMenu.defaultProps = {\r\n  dropAlign: {\r\n    top: 'top',\r\n    left: 'left',\r\n  },\r\n  dropProps: {},\r\n  items: [],\r\n  messages: {\r\n    openMenu: 'Open Menu',\r\n    closeMenu: 'Close Menu',\r\n  },\r\n  justifyContent: 'start',\r\n};\r\n\r\nMenu.displayName = 'Menu';\r\n\r\nlet MenuDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  MenuDoc = require('./doc').doc(Menu); // eslint-disable-line global-require\r\n}\r\nconst MenuWrapper = MenuDoc || Menu;\r\n\r\nexport { MenuWrapper as Menu };\r\n","import React, { forwardRef, useMemo } from 'react';\r\n\r\nimport { Bar } from './Bar';\r\nimport { Circle } from './Circle';\r\n\r\nconst deriveMax = values => {\r\n  let max = 100;\r\n  if (values && values.length > 1) {\r\n    max = 0;\r\n    values.forEach(v => {\r\n      max += v.value;\r\n    });\r\n  }\r\n  return max;\r\n};\r\n\r\nconst Meter = forwardRef(\r\n  (\r\n    {\r\n      background = { color: 'light-2', opacity: 'medium' },\r\n      size = 'medium',\r\n      thickness = 'medium',\r\n      type = 'bar',\r\n      values,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const memoizedMax = useMemo(() => deriveMax(values), [values]);\r\n    let content;\r\n    if (type === 'bar') {\r\n      content = (\r\n        <Bar\r\n          ref={ref}\r\n          max={memoizedMax}\r\n          values={values}\r\n          size={size}\r\n          thickness={thickness}\r\n          background={background}\r\n          {...rest}\r\n        />\r\n      );\r\n    } else if (type === 'circle') {\r\n      content = (\r\n        <Circle\r\n          ref={ref}\r\n          max={memoizedMax}\r\n          values={values}\r\n          size={size}\r\n          thickness={thickness}\r\n          background={background}\r\n          {...rest}\r\n        />\r\n      );\r\n    }\r\n    return content;\r\n  },\r\n);\r\n\r\nMeter.displayName = 'Meter';\r\n\r\nlet MeterDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  MeterDoc = require('./doc').doc(Meter); // eslint-disable-line global-require\r\n}\r\nconst MeterWrapper = MeterDoc || Meter;\r\n\r\nexport { MeterWrapper as Meter };\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { parseMetricToNum } from '../../utils';\r\n\r\nimport { StyledMeter } from './StyledMeter';\r\nimport { strokeProps, defaultColor } from './utils';\r\n\r\nconst Bar = forwardRef((props, ref) => {\r\n  const { background, max, round, size, thickness, values, ...rest } = props;\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const width =\r\n    size === 'full' ? 288 : parseMetricToNum(theme.global.size[size] || size);\r\n  const height = parseMetricToNum(\r\n    theme.global.edgeSize[thickness] || thickness,\r\n  );\r\n  // account for the round cap, if any\r\n  const capOffset = round ? height / 2 : 0;\r\n  const mid = height / 2;\r\n  const someHighlight = (values || []).some(v => v.highlight);\r\n\r\n  let start = capOffset;\r\n  const paths = (values || [])\r\n    .filter(v => v.value > 0)\r\n    .map((valueArg, index) => {\r\n      const { color, highlight, label, onHover, value, ...pathRest } = valueArg;\r\n\r\n      const key = `p-${index}`;\r\n      const delta = (value * (width - 2 * capOffset)) / max;\r\n      const d = `M ${start},${mid} L ${start + delta},${mid}`;\r\n      const colorName =\r\n        color || defaultColor(index, theme, values ? values.length : 0);\r\n      let hoverProps;\r\n      if (onHover) {\r\n        hoverProps = {\r\n          onMouseOver: () => onHover(true),\r\n          onMouseLeave: () => onHover(false),\r\n        };\r\n      }\r\n      start += delta;\r\n\r\n      return (\r\n        <path\r\n          key={key}\r\n          d={d}\r\n          fill=\"none\"\r\n          {...strokeProps(\r\n            someHighlight && !highlight ? background : colorName,\r\n            theme,\r\n          )}\r\n          strokeWidth={height}\r\n          strokeLinecap={round ? 'round' : 'butt'}\r\n          {...hoverProps}\r\n          {...pathRest}\r\n        />\r\n      );\r\n    })\r\n    .reverse(); // reverse so the caps looks right\r\n\r\n  return (\r\n    <StyledMeter\r\n      ref={ref}\r\n      viewBox={`0 0 ${width} ${height}`}\r\n      preserveAspectRatio=\"none\"\r\n      width={size === 'full' ? '100%' : width}\r\n      height={height}\r\n      round={round ? { size: thickness } : undefined}\r\n      {...rest}\r\n    >\r\n      <path\r\n        d={`M ${capOffset},${mid} L ${width - capOffset},${mid}`}\r\n        fill=\"none\"\r\n        {...strokeProps(background, theme)}\r\n        strokeWidth={height}\r\n        strokeLinecap={round ? 'round' : 'square'}\r\n      />\r\n      {paths}\r\n    </StyledMeter>\r\n  );\r\n});\r\n\r\nBar.displayName = 'Bar';\r\n\r\nBar.defaultProps = {\r\n  background: 'light-1',\r\n};\r\n\r\nObject.setPrototypeOf(Bar.defaultProps, defaultProps);\r\n\r\nexport { Bar };\r\n","import React, { forwardRef, useContext } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { arcCommands, parseMetricToNum, translateEndAngle } from '../../utils';\r\n\r\nimport { StyledMeter } from './StyledMeter';\r\nimport { strokeProps, defaultColor } from './utils';\r\n\r\nconst Circle = forwardRef((props, ref) => {\r\n  const { background, max, round, size, thickness, values, ...rest } = props;\r\n  const theme = useContext(ThemeContext);\r\n  const width =\r\n    size === 'full' ? 288 : parseMetricToNum(theme.global.size[size] || size);\r\n  const height = parseMetricToNum(\r\n    theme.global.edgeSize[thickness] || thickness,\r\n  );\r\n  const mid = width / 2;\r\n  const radius = width / 2 - height / 2;\r\n  const anglePer = 360 / max;\r\n  const someHighlight = (values || []).some(v => v.highlight);\r\n\r\n  let startValue = 0;\r\n  let startAngle = 0;\r\n  const paths = [];\r\n  let pathCaps = [];\r\n  (values || [])\r\n    .filter(v => v.value > 0)\r\n    .forEach((valueArg, index) => {\r\n      const { color, highlight, label, onHover, value, ...pathRest } = valueArg;\r\n      const key = `p-${index}`;\r\n      const colorName =\r\n        color || defaultColor(index, theme, values ? values.length : 0);\r\n\r\n      let endAngle;\r\n      if (startValue + value >= max) {\r\n        endAngle = 360;\r\n      } else {\r\n        endAngle = Math.min(\r\n          360,\r\n          translateEndAngle(startAngle, anglePer, value),\r\n        );\r\n      }\r\n      let hoverProps;\r\n      if (onHover) {\r\n        hoverProps = {\r\n          onMouseOver: () => onHover(true),\r\n          onMouseLeave: () => onHover(false),\r\n        };\r\n      }\r\n      const stroke = strokeProps(\r\n        someHighlight && !highlight ? background : colorName,\r\n        theme,\r\n      );\r\n\r\n      if (round) {\r\n        const d1 = arcCommands(\r\n          width / 2,\r\n          width / 2,\r\n          radius,\r\n          startAngle,\r\n          endAngle,\r\n        );\r\n        paths.unshift(\r\n          <path\r\n            key={key}\r\n            d={d1}\r\n            fill=\"none\"\r\n            {...stroke}\r\n            strokeWidth={height}\r\n            strokeLinecap=\"round\"\r\n            {...hoverProps}\r\n            {...pathRest}\r\n          />,\r\n        );\r\n\r\n        // To handle situations where the last values are small, redraw\r\n        // a dot at the end. Give just a bit of angle to avoid anti-aliasing\r\n        // leakage around the edge.\r\n        const d2 = arcCommands(\r\n          width / 2,\r\n          width / 2,\r\n          radius,\r\n          endAngle - 0.5,\r\n          endAngle,\r\n        );\r\n        const pathCap = (\r\n          <path\r\n            key={`${key}-`}\r\n            d={d2}\r\n            fill=\"none\"\r\n            {...stroke}\r\n            strokeWidth={height}\r\n            strokeLinecap=\"round\"\r\n            {...hoverProps}\r\n            {...pathRest}\r\n          />\r\n        );\r\n        // If we are on a large enough path to not need re-drawing previous\r\n        // ones, clear the pathCaps we've collected already.\r\n        if (endAngle - startAngle > 2 * anglePer) {\r\n          pathCaps = [];\r\n        }\r\n        pathCaps.unshift(pathCap);\r\n      } else {\r\n        const d = arcCommands(\r\n          width / 2,\r\n          width / 2,\r\n          radius,\r\n          startAngle,\r\n          endAngle,\r\n        );\r\n        paths.push(\r\n          <path\r\n            key={key}\r\n            d={d}\r\n            fill=\"none\"\r\n            {...stroke}\r\n            strokeWidth={height}\r\n            strokeLinecap=\"butt\"\r\n            {...hoverProps}\r\n            {...pathRest}\r\n          />,\r\n        );\r\n      }\r\n      startValue += value;\r\n      startAngle = endAngle;\r\n    });\r\n\r\n  return (\r\n    <StyledMeter\r\n      ref={ref}\r\n      viewBox={`0 0 ${width} ${width}`}\r\n      width={size === 'full' ? '100%' : width}\r\n      height={size === 'full' ? '100%' : width}\r\n      {...rest}\r\n    >\r\n      <circle\r\n        cx={mid}\r\n        cy={mid}\r\n        r={radius}\r\n        {...strokeProps(background, theme)}\r\n        strokeWidth={height}\r\n        strokeLinecap={round ? 'round' : 'square'}\r\n        fill=\"none\"\r\n      />\r\n      {paths}\r\n      {pathCaps}\r\n    </StyledMeter>\r\n  );\r\n});\r\n\r\nCircle.displayName = 'Circle';\r\n\r\nCircle.defaultProps = {};\r\nObject.setPrototypeOf(Circle.defaultProps, defaultProps);\r\n\r\nexport { Circle };\r\n","export { Nav } from './Nav';\r\n","import React from 'react';\r\n\r\nimport { Box } from '../Box';\r\n\r\nconst Nav = ({ ...rest }) => (\r\n  <Box as=\"nav\" flex={false} gap=\"medium\" {...rest} />\r\n);\r\n\r\nlet NavDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  NavDoc = require('./doc').doc(Nav);\r\n}\r\nconst NavWrapper = NavDoc || Nav;\r\n\r\nexport { NavWrapper as Nav };\r\n","export { RangeInput } from './RangeInput';\r\n","import React, { forwardRef, useContext, useState } from 'react';\r\n\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { StyledRangeInput } from './StyledRangeInput';\r\n\r\nconst RangeInput = forwardRef(\r\n  (\r\n    { a11yTitle, name, onChange, onFocus, onBlur, value: valueProp, ...rest },\r\n    ref,\r\n  ) => {\r\n    const formContext = useContext(FormContext);\r\n\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp);\r\n\r\n    const [focus, setFocus] = useState();\r\n    return (\r\n      <StyledRangeInput\r\n        aria-label={a11yTitle}\r\n        ref={ref}\r\n        name={name}\r\n        focus={focus}\r\n        value={value}\r\n        {...rest}\r\n        onFocus={event => {\r\n          setFocus(true);\r\n          if (onFocus) onFocus(event);\r\n        }}\r\n        onBlur={event => {\r\n          setFocus(false);\r\n          if (onBlur) onBlur(event);\r\n        }}\r\n        onChange={event => {\r\n          setValue(event.target.value);\r\n          if (onChange) onChange(event);\r\n        }}\r\n        type=\"range\"\r\n      />\r\n    );\r\n  },\r\n);\r\n\r\nRangeInput.displayName = 'RangeInput';\r\n\r\nlet RangeInputDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RangeInputDoc = require('./doc').doc(RangeInput);\r\n}\r\nconst RangeInputWrapper = RangeInputDoc || RangeInput;\r\n\r\nexport { RangeInputWrapper as RangeInput };\r\n","import { rgba } from 'polished';\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { focusStyle, normalizeColor, parseMetricToNum } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\n// opacity of the bound trumps the track opacity\r\nconst getBoundOpacity = (props, bound) => {\r\n  return props.theme.rangeInput &&\r\n    props.theme.rangeInput.track &&\r\n    props.theme.rangeInput.track[bound] &&\r\n    props.theme.rangeInput.track[bound].opacity\r\n    ? props.theme.rangeInput.track[bound].opacity\r\n    : 1;\r\n};\r\n\r\nconst getBoundColor = (props, bound) => {\r\n  if (\r\n    props.theme.rangeInput &&\r\n    props.theme.rangeInput.track &&\r\n    props.theme.rangeInput.track[bound] &&\r\n    props.theme.rangeInput.track[bound].color\r\n  ) {\r\n    return rgba(\r\n      normalizeColor(props.theme.rangeInput.track[bound].color, props.theme),\r\n      getBoundOpacity(props, bound),\r\n    );\r\n  }\r\n  // If bound color is undefined pick the default track color with bound opacity\r\n  return rgba(\r\n    normalizeColor(props.theme.rangeInput.track.color, props.theme),\r\n    getBoundOpacity(props, bound),\r\n  );\r\n};\r\n\r\nconst trackColorStyle = props => {\r\n  // backward compatibility in case no bounds are defined\r\n  if (\r\n    props.theme.rangeInput &&\r\n    props.theme.rangeInput.track &&\r\n    !props.theme.rangeInput.track.lower &&\r\n    !props.theme.rangeInput.track.upper\r\n  ) {\r\n    const color = rgba(\r\n      normalizeColor(props.theme.rangeInput.track.color, props.theme),\r\n      0.2,\r\n    );\r\n    // Since the track color was changed from border-with-opacity to just border\r\n    // this condition is used to make sure we are applying the opacity correctly\r\n    // for 'border' color (for backward compatibility purposes).\r\n    if (color === 'rgba(0,0,0,0.2)') return `background: ${color}`;\r\n\r\n    // no bounds are defined but color may have changed\r\n    return `background: ${rgba(\r\n      normalizeColor(props.theme.rangeInput.track.color, props.theme),\r\n      props.theme.rangeInput.track.opacity || 1,\r\n    )}`;\r\n  }\r\n\r\n  const max = props.max || 100; // 'max' defaults to 100 in case not specified\r\n  const min = props.min || 0; // 'min' defaults to 0 in case not specified\r\n  const thumbPosition = `${((props.value - min) / (max - min)) * 100}%`;\r\n\r\n  const lowerTrackColor = getBoundColor(props, 'lower');\r\n  const upperTrackColor = getBoundColor(props, 'upper');\r\n\r\n  return `background: linear-gradient(\r\n      to right,\r\n      ${lowerTrackColor},\r\n      ${lowerTrackColor} ${thumbPosition},\r\n      ${upperTrackColor} ${thumbPosition},\r\n      ${upperTrackColor}\r\n    );\r\n  `;\r\n};\r\n\r\nconst rangeTrackStyle = css`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: ${props => props.theme.rangeInput.track.height};\r\n  ${props => trackColorStyle(props)};\r\n  ${props =>\r\n    props.theme.rangeInput &&\r\n    props.theme.rangeInput.track &&\r\n    props.theme.rangeInput.track.extend}\r\n`;\r\n\r\nconst rangeThumbStyle = css`\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  border-radius: ${props => props.theme.global.spacing};\r\n  height: ${props => props.theme.global.spacing};\r\n  width: ${props => props.theme.global.spacing};\r\n  overflow: visible;\r\n  background: ${props =>\r\n    normalizeColor(\r\n      props.theme.rangeInput.thumb.color || 'control',\r\n      props.theme,\r\n    )};\r\n  -webkit-appearance: none;\r\n  cursor: pointer;\r\n  ${props =>\r\n    props.theme.rangeInput &&\r\n    props.theme.rangeInput.thumb &&\r\n    props.theme.rangeInput.thumb.extend}\r\n`;\r\n\r\nconst firefoxMicrosoftThumbStyle = css`\r\n  ${rangeThumbStyle} margin-top: 0px;\r\n  height: ${props => props.theme.global.spacing};\r\n  width: ${props => props.theme.global.spacing};\r\n  ${props =>\r\n    props.theme.rangeInput &&\r\n    props.theme.rangeInput.thumb &&\r\n    props.theme.rangeInput.thumb.extend}\r\n`;\r\n\r\n/* eslint-disable max-len */\r\nconst StyledRangeInput = styled.input`\r\n  box-sizing: border-box;\r\n  position: relative;\r\n  -webkit-appearance: none;\r\n  border-color: transparent;\r\n  height: ${props => props.theme.global.spacing};\r\n  width: 100%;\r\n  padding: 0px;\r\n  cursor: pointer;\r\n  background: transparent;\r\n\r\n  &::-moz-focus-inner {\r\n    border: none;\r\n  }\r\n\r\n  &::-moz-focus-outer {\r\n    border: none;\r\n  }\r\n\r\n  &::-webkit-slider-runnable-track {\r\n    ${rangeTrackStyle}\r\n  }\r\n\r\n  &::-webkit-slider-thumb {\r\n    margin-top: -${props => (parseMetricToNum(props.theme.global.spacing) - parseMetricToNum(props.theme.rangeInput.track.height || 0)) * 0.5}px;\r\n    ${rangeThumbStyle}\r\n\r\n    ${props =>\r\n      !props.disabled &&\r\n      css`\r\n        &:hover {\r\n          box-shadow: 0px 0px 0px 2px\r\n            ${normalizeColor(\r\n              props.theme.rangeInput.thumb.color || 'control',\r\n              props.theme,\r\n            )};\r\n        }\r\n      `}\r\n  }\r\n\r\n  &::-moz-range-track {\r\n    ${rangeTrackStyle}\r\n  }\r\n\r\n  &::-moz-range-thumb {\r\n    ${firefoxMicrosoftThumbStyle}\r\n  }\r\n\r\n  &::-ms-thumb {\r\n    ${firefoxMicrosoftThumbStyle}\r\n  }\r\n\r\n  ${props =>\r\n    !props.disabled &&\r\n    css`\r\n      &:hover::-moz-range-thumb {\r\n        box-shadow: 0px 0px 0px 2px\r\n          ${normalizeColor(\r\n            props.theme.rangeInput.thumb.color || 'control',\r\n            props.theme,\r\n          )};\r\n      }\r\n\r\n      &:hover::-ms-thumb {\r\n        box-shadow: 0px 0px 0px 2px\r\n          ${normalizeColor(\r\n            props.theme.rangeInput.thumb.color || 'control',\r\n            props.theme,\r\n          )};\r\n      }\r\n    `}\r\n\r\n  &::-ms-track {\r\n    ${rangeTrackStyle}\r\n    border-color: transparent;\r\n    color: transparent;\r\n  }\r\n\r\n  &::-ms-fill-lower {\r\n    ${props => trackColorStyle(props, 'lower')};\r\n    border-color: transparent;\r\n  }\r\n\r\n  &::-ms-fill-upper {\r\n    ${props => trackColorStyle(props, 'upper')};\r\n    border-color: transparent;\r\n  }\r\n\r\n  ${props => props.focus && focusStyle()}\r\n  ${props => props.theme.rangeInput && props.theme.rangeInput.extend}\r\n`;\r\n/* eslint-enable max-len */\r\n\r\nStyledRangeInput.defaultProps = {};\r\nObject.setPrototypeOf(StyledRangeInput.defaultProps, defaultProps);\r\n\r\nexport { StyledRangeInput };\r\n","export { RangeSelector } from './RangeSelector';\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { Box } from '../Box';\r\nimport { EdgeControl } from './EdgeControl';\r\nimport { parseMetricToNum } from '../../utils';\r\n\r\nconst Container = styled(Box)`\r\n  user-select: none;\r\n`;\r\n\r\nconst RangeSelector = forwardRef(\r\n  (\r\n    {\r\n      color,\r\n      direction = 'horizontal',\r\n      invert,\r\n      max = 100,\r\n      messages = { lower: 'Lower Bounds', upper: 'Upper Bounds' },\r\n      min = 0,\r\n      onChange,\r\n      opacity = 'medium',\r\n      round,\r\n      size = 'medium',\r\n      step = 1,\r\n      values = [],\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [changing, setChanging] = useState();\r\n    const [lastChange, setLastChange] = useState();\r\n    const [moveValue, setMoveValue] = useState();\r\n    const containerRef = useRef();\r\n\r\n    const valueForMouseCoord = useCallback(\r\n      event => {\r\n        const rect = containerRef.current.getBoundingClientRect();\r\n        let value;\r\n        if (direction === 'vertical') {\r\n          // there is no x and y in unit testing\r\n          const y = event.clientY - (rect.top || 0); // test resilience\r\n          const scaleY = rect.height / (max - min + 1) || 1; // test resilience\r\n          value = Math.floor(y / scaleY) + min;\r\n        } else {\r\n          const x = event.clientX - (rect.left || 0); // test resilience\r\n          const scaleX = rect.width / (max - min + 1) || 1; // test resilience\r\n          value = Math.floor(x / scaleX) + min;\r\n        }\r\n        // align with closest step within [min, max]\r\n        const result = Math.ceil(value / step) * step;\r\n        if (result < min) {\r\n          return min;\r\n        }\r\n        if (result > max) {\r\n          return max;\r\n        }\r\n        return result;\r\n      },\r\n      [direction, max, min, step],\r\n    );\r\n\r\n    useEffect(() => {\r\n      const mouseMove = event => {\r\n        const value = valueForMouseCoord(event);\r\n        let nextValues;\r\n        if (changing === 'lower' && value <= values[1] && value !== moveValue) {\r\n          nextValues = [value, values[1]];\r\n        } else if (\r\n          changing === 'upper' &&\r\n          value >= values[0] &&\r\n          value !== moveValue\r\n        ) {\r\n          nextValues = [values[0], value];\r\n        } else if (changing === 'selection' && value !== moveValue) {\r\n          const delta = value - moveValue;\r\n          if (values[0] + delta >= min && values[1] + delta <= max) {\r\n            nextValues = [values[0] + delta, values[1] + delta];\r\n          }\r\n        }\r\n        if (nextValues) {\r\n          setMoveValue(value);\r\n          onChange(nextValues);\r\n        }\r\n      };\r\n\r\n      const mouseUp = () => setChanging(undefined);\r\n\r\n      if (changing) {\r\n        window.addEventListener('mousemove', mouseMove);\r\n        window.addEventListener('mouseup', mouseUp);\r\n\r\n        return () => {\r\n          window.removeEventListener('mousemove', mouseMove);\r\n          window.removeEventListener('mouseup', mouseUp);\r\n        };\r\n      }\r\n      return undefined;\r\n    }, [changing, max, min, moveValue, onChange, valueForMouseCoord, values]);\r\n\r\n    const onClick = useCallback(\r\n      event => {\r\n        const value = valueForMouseCoord(event);\r\n        if (\r\n          value <= values[0] ||\r\n          (value < values[1] && lastChange === 'lower')\r\n        ) {\r\n          setLastChange('lower');\r\n          onChange([value, values[1]]);\r\n        } else if (\r\n          value >= values[1] ||\r\n          (value > values[0] && lastChange === 'upper')\r\n        ) {\r\n          setLastChange('upper');\r\n          onChange([values[0], value]);\r\n        }\r\n      },\r\n      [lastChange, onChange, valueForMouseCoord, values],\r\n    );\r\n\r\n    const [lower, upper] = values;\r\n    // It needs to be true when vertical, due to how browsers manage height\r\n    // const fill = direction === 'vertical' ? true : 'horizontal';\r\n    const thickness =\r\n      size === 'full'\r\n        ? undefined\r\n        : `${parseMetricToNum(theme.global.edgeSize[size] || size)}px`;\r\n    const layoutProps = { fill: direction, round };\r\n    if (direction === 'vertical') layoutProps.width = thickness;\r\n    else layoutProps.height = thickness;\r\n    if (size === 'full') layoutProps.alignSelf = 'stretch';\r\n\r\n    return (\r\n      <Container\r\n        ref={containerRef}\r\n        direction={direction === 'vertical' ? 'column' : 'row'}\r\n        align=\"center\"\r\n        fill\r\n        {...rest}\r\n        tabIndex=\"-1\"\r\n        onClick={onChange ? onClick : undefined}\r\n      >\r\n        <Box\r\n          style={{ flex: `${lower - min} 0 0` }}\r\n          background={\r\n            invert\r\n              ? // preserve existing dark, instead of using darknes\r\n                // of this color\r\n                {\r\n                  color: color || theme.rangeSelector.background.invert.color,\r\n                  opacity,\r\n                  dark: theme.dark,\r\n                }\r\n              : undefined\r\n          }\r\n          {...layoutProps}\r\n        />\r\n        <EdgeControl\r\n          a11yTitle={messages.lower}\r\n          tabIndex={0}\r\n          ref={ref}\r\n          color={color}\r\n          direction={direction}\r\n          thickness={thickness}\r\n          edge=\"lower\"\r\n          onMouseDown={onChange ? () => setChanging('lower') : undefined}\r\n          onDecrease={\r\n            onChange && lower - step >= min\r\n              ? () => onChange([lower - step, upper])\r\n              : undefined\r\n          }\r\n          onIncrease={\r\n            onChange && lower + step <= upper\r\n              ? () => onChange([lower + step, upper])\r\n              : undefined\r\n          }\r\n        />\r\n        <Box\r\n          style={{\r\n            flex: `${upper - lower + 1} 0 0`,\r\n            cursor: direction === 'vertical' ? 'ns-resize' : 'ew-resize',\r\n          }}\r\n          background={\r\n            invert\r\n              ? undefined\r\n              : // preserve existing dark, instead of using darknes of\r\n                // this color\r\n                { color: color || 'control', opacity, dark: theme.dark }\r\n          }\r\n          {...layoutProps}\r\n          onMouseDown={\r\n            onChange\r\n              ? event => {\r\n                  const nextMoveValue = valueForMouseCoord(event);\r\n                  setChanging('selection');\r\n                  setMoveValue(nextMoveValue);\r\n                }\r\n              : undefined\r\n          }\r\n        />\r\n        <EdgeControl\r\n          a11yTitle={messages.upper}\r\n          tabIndex={0}\r\n          color={color}\r\n          direction={direction}\r\n          thickness={thickness}\r\n          edge=\"upper\"\r\n          onMouseDown={onChange ? () => setChanging('upper') : undefined}\r\n          onDecrease={\r\n            onChange && upper - step >= lower\r\n              ? () => onChange([lower, upper - step])\r\n              : undefined\r\n          }\r\n          onIncrease={\r\n            onChange && upper + step <= max\r\n              ? () => onChange([lower, upper + step])\r\n              : undefined\r\n          }\r\n        />\r\n        <Box\r\n          style={{ flex: `${max - upper} 0 0` }}\r\n          background={\r\n            invert\r\n              ? // preserve existing dark, instead of using darknes of this\r\n                // color\r\n                {\r\n                  color: color || theme.rangeSelector.background.invert.color,\r\n                  opacity,\r\n                  dark: theme.dark,\r\n                }\r\n              : undefined\r\n          }\r\n          {...layoutProps}\r\n          round={round}\r\n        />\r\n      </Container>\r\n    );\r\n  },\r\n);\r\n\r\nRangeSelector.displayName = 'RangeSelector';\r\n\r\nlet RangeSelectorDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RangeSelectorDoc = require('./doc').doc(RangeSelector);\r\n}\r\nconst RangeSelectorWrapper = RangeSelectorDoc || RangeSelector;\r\n\r\nexport { RangeSelectorWrapper as RangeSelector };\r\n","import React, { forwardRef, useContext, useState } from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { focusStyle, normalizeColor, parseMetricToNum } from '../../utils';\r\n\r\nconst DIRECTION_PROPS = {\r\n  horizontal: {\r\n    cursor: 'col-resize',\r\n    fill: 'vertical',\r\n  },\r\n  vertical: {\r\n    cursor: 'row-resize',\r\n    fill: 'horizontal',\r\n  },\r\n};\r\n\r\nconst StyledBox = styled(Box)`\r\n  ${props => props.focus && focusStyle()}\r\n`;\r\n\r\nconst EdgeControl = forwardRef(\r\n  (\r\n    { color, direction, edge, onDecrease, onIncrease, thickness, ...rest },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext);\r\n    const [focus, setFocus] = useState(false);\r\n    const { cursor, fill } = DIRECTION_PROPS[direction];\r\n    const size = parseMetricToNum(theme.global.spacing) / 2;\r\n    const keyboardProps =\r\n      direction === 'vertical'\r\n        ? { onUp: onDecrease, onDown: onIncrease }\r\n        : { onLeft: onDecrease, onRight: onIncrease };\r\n    const boxDirection = direction === 'vertical' ? 'row' : 'column';\r\n    const type =\r\n      (theme.rangeSelector &&\r\n        theme.rangeSelector.edge &&\r\n        theme.rangeSelector.edge.type) ||\r\n      'disc';\r\n\r\n    let node;\r\n    const backgroundColor = normalizeColor(color || 'control', theme);\r\n    if (type === 'bar') {\r\n      node = (\r\n        <StyledBox\r\n          flex={!thickness}\r\n          justifySelf=\"stretch\"\r\n          width={direction === 'vertical' ? thickness : `${size}px`}\r\n          height={direction === 'vertical' ? `${size}px` : thickness}\r\n          background={backgroundColor}\r\n          focus={focus}\r\n        />\r\n      );\r\n    } else if (type === 'disc') {\r\n      node = (\r\n        <StyledBox\r\n          width={`${size}px`}\r\n          height={`${size}px`}\r\n          round=\"full\"\r\n          background={backgroundColor}\r\n          focus={focus}\r\n        />\r\n      );\r\n    } else {\r\n      node = type;\r\n    }\r\n    return (\r\n      <Keyboard {...keyboardProps}>\r\n        <Box\r\n          direction={boxDirection}\r\n          style={{ flex: '0 0 1px' }}\r\n          overflow=\"visible\"\r\n          align=\"center\"\r\n          justify=\"center\"\r\n          alignSelf=\"stretch\"\r\n        >\r\n          <Box\r\n            ref={ref}\r\n            direction={boxDirection}\r\n            justify=\"center\"\r\n            align=\"center\"\r\n            basis=\"full\"\r\n            fill={fill}\r\n            style={{\r\n              cursor,\r\n              outline: 'none',\r\n              minWidth: size,\r\n              minHeight: size,\r\n              zIndex: 10,\r\n            }}\r\n            tabIndex={0}\r\n            onFocus={() => setFocus(true)}\r\n            onBlur={() => setFocus(false)}\r\n            {...rest}\r\n          >\r\n            {node}\r\n          </Box>\r\n        </Box>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nEdgeControl.displayName = 'EdgeControl';\r\n\r\nEdgeControl.defaultProps = {};\r\nObject.setPrototypeOf(EdgeControl.defaultProps, defaultProps);\r\n\r\nexport { EdgeControl };\r\n","export { RoutedAnchor } from './RoutedAnchor';\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Anchor } from '../Anchor';\r\n\r\nclass RoutedAnchor extends Component {\r\n  static contextTypes = {\r\n    router: PropTypes.shape({}).isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    method: 'push',\r\n  };\r\n\r\n  render() {\r\n    const { path, method, ...rest } = this.props;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.warn(\r\n        `This component will be deprecated in the upcoming releases. \r\n        Please refer to https://github.com/grommet/grommet/issues/2855 \r\n        for more information.`,\r\n      );\r\n    }\r\n    return (\r\n      <Anchor\r\n        {...rest}\r\n        href={path}\r\n        onClick={(event, ...args) => {\r\n          const { onClick } = this.props;\r\n          const { router } = this.context;\r\n          if (event) {\r\n            const modifierKey = event.ctrlKey || event.metaKey;\r\n\r\n            // if the user right-clicked in the Anchor we should let it go\r\n            if (modifierKey) {\r\n              return;\r\n            }\r\n          }\r\n          if (router) {\r\n            event.preventDefault();\r\n            (router.history || router)[method](path);\r\n          }\r\n          if (onClick) {\r\n            onClick(event, ...args);\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet RoutedAnchorDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RoutedAnchorDoc = require('./doc').doc(RoutedAnchor);\r\n}\r\nconst RoutedAnchorWrapper = RoutedAnchorDoc || RoutedAnchor;\r\n\r\nexport { RoutedAnchorWrapper as RoutedAnchor };\r\n","export { RoutedButton } from './RoutedButton';\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button } from '../Button';\r\n\r\nclass RoutedButton extends Component {\r\n  static contextTypes = {\r\n    router: PropTypes.shape({}).isRequired,\r\n  };\r\n\r\n  static defaultProps = {\r\n    method: 'push',\r\n  };\r\n\r\n  onClick = (event, ...args) => {\r\n    const { method, onClick, path } = this.props;\r\n    const { router } = this.context;\r\n    if (event) {\r\n      const modifierKey = event.ctrlKey || event.metaKey;\r\n\r\n      // if the user right-clicked in the button we should let it go\r\n      if (modifierKey) {\r\n        return;\r\n      }\r\n    }\r\n    if (router) {\r\n      event.preventDefault();\r\n      (router.history || router)[method](path);\r\n    }\r\n    if (onClick) {\r\n      onClick(event, ...args);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { href, path, method, onClick, ...rest } = this.props;\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.warn(\r\n        `This component will be deprecated in the upcoming releases.\r\n         Please refer to https://github.com/grommet/grommet/issues/2855 \r\n         for more information.`,\r\n      );\r\n    }\r\n    return (\r\n      <Button\r\n        {...rest}\r\n        href={path || href}\r\n        disabled={!path && !onClick}\r\n        onClick={this.onClick}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet RoutedButtonDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  RoutedButtonDoc = require('./doc').doc(RoutedButton);\r\n}\r\nconst RoutedButtonWrapper = RoutedButtonDoc || RoutedButton;\r\n\r\nexport { RoutedButtonWrapper as RoutedButton };\r\n","export { Select } from './Select';\r\n","import React, {\r\n  forwardRef,\r\n  isValidElement,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n  useRef,\r\n  useEffect,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { controlBorderStyle, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { DropButton } from '../DropButton';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { TextInput } from '../TextInput';\r\n\r\nimport { SelectContainer } from './SelectContainer';\r\nimport { applyKey } from './utils';\r\n\r\nconst SelectTextInput = styled(TextInput)`\r\n  cursor: ${props => (props.defaultCursor ? 'default' : 'pointer')};\r\n`;\r\n\r\nconst StyledSelectDropButton = styled(DropButton)`\r\n  ${props => !props.callerPlain && controlBorderStyle};\r\n  ${props =>\r\n    props.theme.select &&\r\n    props.theme.select.control &&\r\n    props.theme.select.control.extend};\r\n  ${props => props.open && props.theme.select.control.open};\r\n`;\r\n\r\nStyledSelectDropButton.defaultProps = {};\r\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\r\n\r\nconst defaultDropAlign = { top: 'bottom', left: 'left' };\r\nconst defaultMessages = { multiple: 'multiple' };\r\n\r\nconst Select = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      alignSelf,\r\n      children,\r\n      clear = false,\r\n      closeOnChange = true,\r\n      disabled,\r\n      disabledKey,\r\n      dropAlign = defaultDropAlign,\r\n      dropHeight,\r\n      dropProps,\r\n      dropTarget,\r\n      emptySearchMessage,\r\n      focusIndicator,\r\n      gridArea,\r\n      id,\r\n      icon,\r\n      labelKey,\r\n      margin,\r\n      messages = defaultMessages,\r\n      multiple,\r\n      name,\r\n      onChange,\r\n      onClick,\r\n      onClose,\r\n      onKeyDown,\r\n      onMore,\r\n      onOpen,\r\n      onSearch,\r\n      open: propOpen,\r\n      options: optionsProp,\r\n      placeholder,\r\n      plain,\r\n      replace,\r\n      searchPlaceholder,\r\n      selected,\r\n      size,\r\n      value: valueProp,\r\n      valueKey,\r\n      valueLabel,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const inputRef = useRef();\r\n    const formContext = useContext(FormContext);\r\n    // value is used for what we receive in valueProp and the basis for\r\n    // what we send with onChange\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp, '');\r\n    // valuedValue is the value mapped with any valueKey applied\r\n    const valuedValue = useMemo(() => {\r\n      if (Array.isArray(value))\r\n        return value.map(v =>\r\n          valueKey && valueKey.reduce ? v : applyKey(v, valueKey),\r\n        );\r\n      return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\r\n    }, [value, valueKey]);\r\n    // search input value\r\n    const [search, setSearch] = useState();\r\n    // All select option indices and values\r\n    const [allOptions, setAllOptions] = useState(optionsProp);\r\n    // Track changes to options property, except when options are being\r\n    // updated due to search activity. Allows option's initial index value\r\n    // to be referenced when filtered by search.\r\n    useEffect(() => {\r\n      if (!search) setAllOptions(optionsProp);\r\n    }, [optionsProp, search]);\r\n\r\n    // the option indexes present in the value\r\n    const optionIndexesInValue = useMemo(() => {\r\n      const result = [];\r\n      allOptions.forEach((option, index) => {\r\n        if (selected !== undefined) {\r\n          if (Array.isArray(selected)) {\r\n            if (selected.indexOf(index) !== -1) result.push(index);\r\n          } else if (index === selected) {\r\n            result.push(index);\r\n          }\r\n        } else if (Array.isArray(valuedValue)) {\r\n          if (valuedValue.some(v => v === applyKey(option, valueKey))) {\r\n            result.push(index);\r\n          }\r\n        } else if (valuedValue === applyKey(option, valueKey)) {\r\n          result.push(index);\r\n        }\r\n      });\r\n      return result;\r\n    }, [allOptions, selected, valueKey, valuedValue]);\r\n\r\n    const [open, setOpen] = useState(propOpen);\r\n    useEffect(() => setOpen(propOpen), [propOpen]);\r\n\r\n    const onRequestOpen = useCallback(() => {\r\n      if (open) return;\r\n      setOpen(true);\r\n      if (onOpen) onOpen();\r\n    }, [onOpen, open]);\r\n\r\n    const onRequestClose = useCallback(() => {\r\n      setOpen(false);\r\n      if (onClose) onClose();\r\n    }, [onClose]);\r\n\r\n    const onSelectChange = useCallback(\r\n      (event, { option, value: nextValue, selected: nextSelected }) => {\r\n        if (closeOnChange) onRequestClose();\r\n        setValue(nextValue);\r\n        if (onChange) {\r\n          event.persist();\r\n          const adjustedEvent = event;\r\n          adjustedEvent.target = inputRef.current;\r\n          adjustedEvent.value = nextValue;\r\n          adjustedEvent.option = option;\r\n          adjustedEvent.selected = nextSelected;\r\n          onChange(adjustedEvent);\r\n        }\r\n        setSearch();\r\n      },\r\n      [closeOnChange, onChange, onRequestClose, setValue],\r\n    );\r\n\r\n    let SelectIcon;\r\n    switch (icon) {\r\n      case false:\r\n        break;\r\n      case true:\r\n      case undefined:\r\n        SelectIcon =\r\n          open && theme.select.icons.up\r\n            ? theme.select.icons.up\r\n            : theme.select.icons.down;\r\n        break;\r\n      default:\r\n        SelectIcon = icon;\r\n    }\r\n\r\n    // element to show, trumps inputValue\r\n    const selectValue = useMemo(() => {\r\n      if (valueLabel) return valueLabel;\r\n      if (React.isValidElement(value)) return value; // deprecated\r\n      return undefined;\r\n    }, [value, valueLabel]);\r\n\r\n    // text to show\r\n    const inputValue = useMemo(() => {\r\n      if (!selectValue) {\r\n        if (optionIndexesInValue.length === 0) return '';\r\n        if (optionIndexesInValue.length === 1)\r\n          return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\r\n        return messages.multiple;\r\n      }\r\n      return undefined;\r\n    }, [labelKey, messages, optionIndexesInValue, allOptions, selectValue]);\r\n\r\n    const iconColor = normalizeColor(\r\n      theme.select.icons.color || 'control',\r\n      theme,\r\n    );\r\n\r\n    return (\r\n      <Keyboard onDown={onRequestOpen} onUp={onRequestOpen}>\r\n        <StyledSelectDropButton\r\n          ref={ref}\r\n          id={id}\r\n          disabled={disabled === true || undefined}\r\n          dropAlign={dropAlign}\r\n          dropTarget={dropTarget}\r\n          open={open}\r\n          alignSelf={alignSelf}\r\n          focusIndicator={focusIndicator}\r\n          gridArea={gridArea}\r\n          margin={margin}\r\n          onOpen={onRequestOpen}\r\n          onClose={onRequestClose}\r\n          onClick={onClick}\r\n          dropContent={\r\n            <SelectContainer\r\n              clear={clear}\r\n              disabled={disabled}\r\n              disabledKey={disabledKey}\r\n              dropHeight={dropHeight}\r\n              emptySearchMessage={emptySearchMessage}\r\n              id={id}\r\n              labelKey={labelKey}\r\n              multiple={multiple}\r\n              name={name}\r\n              onChange={onSelectChange}\r\n              onKeyDown={onKeyDown}\r\n              onMore={onMore}\r\n              onSearch={onSearch}\r\n              options={optionsProp}\r\n              allOptions={allOptions}\r\n              optionIndexesInValue={optionIndexesInValue}\r\n              replace={replace}\r\n              searchPlaceholder={searchPlaceholder}\r\n              search={search}\r\n              setSearch={setSearch}\r\n              selected={selected}\r\n              value={value}\r\n              valueKey={valueKey}\r\n            >\r\n              {children}\r\n            </SelectContainer>\r\n          }\r\n          // StyledDropButton needs to know if the border should be shown\r\n          callerPlain={plain}\r\n          plain // Button should be plain\r\n          dropProps={dropProps}\r\n          theme={theme}\r\n        >\r\n          <Box\r\n            align=\"center\"\r\n            direction=\"row\"\r\n            justify=\"between\"\r\n            background={theme.select.background}\r\n          >\r\n            <Box direction=\"row\" flex basis=\"auto\">\r\n              {selectValue || (\r\n                <SelectTextInput\r\n                  a11yTitle={\r\n                    a11yTitle &&\r\n                    `${a11yTitle}${\r\n                      value && typeof value === 'string' ? `, ${value}` : ''\r\n                    }`\r\n                  }\r\n                  // When Select is disabled, we want to show a default cursor\r\n                  // but not have disabled styling come from TextInput\r\n                  // Disabled can be a bool or an array of options to disable.\r\n                  // We only want to disable the TextInput if the control\r\n                  // button should be disabled which occurs when disabled\r\n                  // equals true.\r\n                  defaultCursor={disabled === true || undefined}\r\n                  id={id ? `${id}__input` : undefined}\r\n                  name={name}\r\n                  ref={inputRef}\r\n                  {...rest}\r\n                  tabIndex=\"-1\"\r\n                  type=\"text\"\r\n                  placeholder={placeholder}\r\n                  plain\r\n                  readOnly\r\n                  value={inputValue}\r\n                  size={size}\r\n                  theme={theme}\r\n                />\r\n              )}\r\n            </Box>\r\n            {SelectIcon && (\r\n              <Box\r\n                margin={theme.select.icons.margin}\r\n                flex={false}\r\n                style={{ minWidth: 'auto' }}\r\n              >\r\n                {isValidElement(SelectIcon) ? (\r\n                  SelectIcon\r\n                ) : (\r\n                  <SelectIcon color={iconColor} size={size} />\r\n                )}\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </StyledSelectDropButton>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nSelect.defaultProps = { ...defaultProps };\r\n\r\nSelect.displayName = 'Select';\r\n\r\nlet SelectDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  SelectDoc = require('./doc').doc(Select);\r\n}\r\nconst SelectWrapper = SelectDoc || Select;\r\n\r\nexport { SelectWrapper as Select };\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport styled, { ThemeContext } from 'styled-components';\r\n\r\nimport { selectedStyle, setFocusWithoutScroll } from '../../utils';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { InfiniteScroll } from '../InfiniteScroll';\r\nimport { Keyboard } from '../Keyboard';\r\nimport { Text } from '../Text';\r\nimport { TextInput } from '../TextInput';\r\n\r\nimport { StyledContainer } from './StyledSelect';\r\nimport { applyKey } from './utils';\r\n\r\n// position relative is so scroll can be managed correctly\r\nconst OptionsBox = styled.div`\r\n  position: relative;\r\n  scroll-behavior: smooth;\r\n  overflow: auto;\r\n  outline: none;\r\n`;\r\n\r\nconst OptionBox = styled(Box)`\r\n  ${props => props.selected && selectedStyle}\r\n`;\r\n\r\nconst SelectOption = styled(Button)`\r\n  display: block;\r\n  width: 100%;\r\n`;\r\n\r\nconst ClearButton = ({ clear, onClear, name, theme, setFocus }) => {\r\n  const { label, position } = clear;\r\n  const align = position !== 'bottom' ? 'start' : 'center';\r\n  const buttonLabel = label || `Clear ${name || 'selection'}`;\r\n  return (\r\n    <Button\r\n      onClick={onClear}\r\n      onFocus={() => setFocus(true)}\r\n      onBlur={() => setFocus(false)}\r\n    >\r\n      <Box {...theme.select.clear.container} align={align}>\r\n        <Text {...theme.select.clear.text}>{buttonLabel}</Text>\r\n      </Box>\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst SelectContainer = forwardRef(\r\n  (\r\n    {\r\n      clear,\r\n      children = null,\r\n      disabled,\r\n      disabledKey,\r\n      dropHeight,\r\n      emptySearchMessage = 'No matches found',\r\n      id,\r\n      labelKey,\r\n      multiple,\r\n      name,\r\n      onChange,\r\n      onKeyDown,\r\n      onMore,\r\n      onSearch,\r\n      optionIndexesInValue,\r\n      options,\r\n      allOptions,\r\n      searchPlaceholder,\r\n      search,\r\n      setSearch,\r\n      selected,\r\n      value = '',\r\n      valueKey,\r\n      replace = true,\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [activeIndex, setActiveIndex] = useState(-1);\r\n    const [keyboardNavigation, setKeyboardNavigation] = useState();\r\n    const [focus, setFocus] = useState(false);\r\n    const searchRef = useRef();\r\n    const optionsRef = useRef();\r\n    // adjust activeIndex when options change\r\n    useEffect(() => {\r\n      if (activeIndex === -1 && search && optionIndexesInValue.length) {\r\n        setActiveIndex(optionIndexesInValue[0]);\r\n      }\r\n    }, [activeIndex, optionIndexesInValue, search]);\r\n\r\n    // set initial focus\r\n    useEffect(() => {\r\n      // need to wait for Drop to be ready\r\n      const timer = setTimeout(() => {\r\n        const optionsNode = optionsRef.current;\r\n        if (onSearch) {\r\n          const searchInput = searchRef.current;\r\n          if (searchInput && searchInput.focus) {\r\n            setFocusWithoutScroll(searchInput);\r\n          }\r\n        } else if (optionsNode) {\r\n          setFocusWithoutScroll(optionsNode);\r\n        }\r\n      }, 100);\r\n      return () => clearTimeout(timer);\r\n    }, [onSearch]);\r\n\r\n    // clear keyboardNavigation after a while\r\n    useEffect(() => {\r\n      if (keyboardNavigation) {\r\n        // 100ms was empirically determined\r\n        const timer = setTimeout(() => setKeyboardNavigation(false), 100);\r\n        return () => clearTimeout(timer);\r\n      }\r\n      return undefined;\r\n    }, [keyboardNavigation]);\r\n\r\n    const optionLabel = useCallback(\r\n      index => applyKey(options[index], labelKey),\r\n      [labelKey, options],\r\n    );\r\n\r\n    const optionValue = useCallback(\r\n      index => applyKey(options[index], valueKey),\r\n      [options, valueKey],\r\n    );\r\n\r\n    const isDisabled = useCallback(\r\n      index => {\r\n        const option = options[index];\r\n        let result;\r\n        if (disabledKey) {\r\n          result = applyKey(option, disabledKey);\r\n        } else if (Array.isArray(disabled)) {\r\n          if (typeof disabled[0] === 'number') {\r\n            result = disabled.indexOf(index) !== -1;\r\n          } else {\r\n            const optionVal = optionValue(index);\r\n            result = disabled.indexOf(optionVal) !== -1;\r\n          }\r\n        }\r\n        return result;\r\n      },\r\n      [disabled, disabledKey, options, optionValue],\r\n    );\r\n\r\n    const isSelected = useCallback(\r\n      index => {\r\n        let result;\r\n        if (selected) {\r\n          // deprecated in favor of value\r\n          result = selected.indexOf(index) !== -1;\r\n        } else {\r\n          const optionVal = optionValue(index);\r\n          if (Array.isArray(value)) {\r\n            if (value.length === 0) {\r\n              result = false;\r\n            } else if (typeof value[0] !== 'object') {\r\n              result = value.indexOf(optionVal) !== -1;\r\n            } else if (valueKey) {\r\n              result = value.some(valueItem => {\r\n                const valueValue =\r\n                  typeof valueKey === 'function'\r\n                    ? valueKey(valueItem)\r\n                    : valueItem[valueKey];\r\n                return valueValue === optionVal;\r\n              });\r\n            }\r\n          } else if (valueKey && typeof value === 'object') {\r\n            const valueValue =\r\n              typeof valueKey === 'function'\r\n                ? valueKey(value)\r\n                : value[valueKey];\r\n            result = valueValue === optionVal;\r\n          } else {\r\n            result = value === optionVal;\r\n          }\r\n        }\r\n        return result;\r\n      },\r\n      [optionValue, selected, value, valueKey],\r\n    );\r\n\r\n    const selectOption = useCallback(\r\n      index => event => {\r\n        if (onChange) {\r\n          let nextValue;\r\n          let nextSelected;\r\n          if (multiple) {\r\n            const nextOptionIndexesInValue = optionIndexesInValue.slice(0);\r\n            const allOptionsIndex = allOptions.indexOf(options[index]);\r\n            const valueIndex = optionIndexesInValue.indexOf(allOptionsIndex);\r\n            if (valueIndex === -1) {\r\n              nextOptionIndexesInValue.push(allOptionsIndex);\r\n            } else {\r\n              nextOptionIndexesInValue.splice(valueIndex, 1);\r\n            }\r\n            nextValue = nextOptionIndexesInValue.map(i =>\r\n              valueKey && valueKey.reduce\r\n                ? applyKey(allOptions[i], valueKey)\r\n                : allOptions[i],\r\n            );\r\n            nextSelected = nextOptionIndexesInValue;\r\n          } else {\r\n            nextValue =\r\n              valueKey && valueKey.reduce\r\n                ? applyKey(options[index], valueKey)\r\n                : options[index];\r\n            nextSelected = index;\r\n          }\r\n          onChange(event, {\r\n            option: options[index],\r\n            value: nextValue,\r\n            selected: nextSelected,\r\n          });\r\n        }\r\n      },\r\n      [multiple, onChange, optionIndexesInValue, options, allOptions, valueKey],\r\n    );\r\n\r\n    const onClear = useCallback(\r\n      event => {\r\n        onChange(event, { option: undefined, value: '', selected: '' });\r\n      },\r\n      [onChange],\r\n    );\r\n\r\n    const onNextOption = useCallback(\r\n      event => {\r\n        event.preventDefault();\r\n        let nextActiveIndex = activeIndex + 1;\r\n        while (\r\n          nextActiveIndex < options.length &&\r\n          isDisabled(nextActiveIndex)\r\n        ) {\r\n          nextActiveIndex += 1;\r\n        }\r\n        if (nextActiveIndex !== options.length) {\r\n          setActiveIndex(nextActiveIndex);\r\n          setKeyboardNavigation(true);\r\n        }\r\n      },\r\n      [activeIndex, isDisabled, options],\r\n    );\r\n\r\n    const onPreviousOption = useCallback(\r\n      event => {\r\n        event.preventDefault();\r\n        let nextActiveIndex = activeIndex - 1;\r\n        while (nextActiveIndex >= 0 && isDisabled(nextActiveIndex)) {\r\n          nextActiveIndex -= 1;\r\n        }\r\n        if (nextActiveIndex >= 0) {\r\n          setActiveIndex(nextActiveIndex);\r\n          setKeyboardNavigation(true);\r\n        }\r\n      },\r\n      [activeIndex, isDisabled],\r\n    );\r\n\r\n    const onActiveOption = useCallback(\r\n      index => () => {\r\n        if (!keyboardNavigation) setActiveIndex(index);\r\n      },\r\n      [keyboardNavigation],\r\n    );\r\n\r\n    const onSelectOption = useCallback(\r\n      event => {\r\n        if (activeIndex >= 0 && !focus) {\r\n          event.preventDefault(); // prevent submitting forms\r\n          selectOption(activeIndex)(event);\r\n        }\r\n      },\r\n      [activeIndex, selectOption, focus],\r\n    );\r\n\r\n    const customSearchInput = theme.select.searchInput;\r\n    const SelectTextInput = customSearchInput || TextInput;\r\n    const selectOptionsStyle = theme.select.options\r\n      ? {\r\n          ...theme.select.options.box,\r\n          ...theme.select.options.container,\r\n        }\r\n      : {};\r\n\r\n    return (\r\n      <Keyboard\r\n        onEnter={onSelectOption}\r\n        onUp={onPreviousOption}\r\n        onDown={onNextOption}\r\n        onKeyDown={onKeyDown}\r\n      >\r\n        <StyledContainer\r\n          ref={ref}\r\n          as={Box}\r\n          id={id ? `${id}__select-drop` : undefined}\r\n          dropHeight={dropHeight}\r\n        >\r\n          {onSearch && (\r\n            <Box pad={!customSearchInput ? 'xsmall' : undefined} flex={false}>\r\n              <SelectTextInput\r\n                focusIndicator={!customSearchInput}\r\n                size=\"small\"\r\n                ref={searchRef}\r\n                type=\"search\"\r\n                value={search || ''}\r\n                placeholder={searchPlaceholder}\r\n                onChange={event => {\r\n                  const nextSearch = event.target.value;\r\n                  setSearch(nextSearch);\r\n                  setActiveIndex(-1);\r\n                  onSearch(nextSearch);\r\n                }}\r\n              />\r\n            </Box>\r\n          )}\r\n          {clear && clear.position !== 'bottom' && value && (\r\n            <ClearButton\r\n              clear={clear}\r\n              name={name}\r\n              onClear={onClear}\r\n              theme={theme}\r\n              setFocus={setFocus}\r\n            />\r\n          )}\r\n          <OptionsBox role=\"menubar\" tabIndex=\"-1\" ref={optionsRef}>\r\n            {options.length > 0 ? (\r\n              <InfiniteScroll\r\n                items={options}\r\n                step={theme.select.step}\r\n                onMore={onMore}\r\n                replace={replace}\r\n                show={activeIndex !== -1 ? activeIndex : undefined}\r\n              >\r\n                {(option, index, optionRef) => {\r\n                  const optionDisabled = isDisabled(index);\r\n                  const optionSelected = isSelected(index);\r\n                  const optionActive = activeIndex === index;\r\n                  // Determine whether the label is done as a child or\r\n                  // as an option Button kind property.\r\n                  let child;\r\n                  if (children)\r\n                    child = children(option, index, options, {\r\n                      active: optionActive,\r\n                      disabled: optionDisabled,\r\n                      selected: optionSelected,\r\n                    });\r\n                  else if (theme.select.options)\r\n                    child = (\r\n                      <OptionBox\r\n                        {...selectOptionsStyle}\r\n                        selected={optionSelected}\r\n                      >\r\n                        <Text {...theme.select.options.text}>\r\n                          {optionLabel(index)}\r\n                        </Text>\r\n                      </OptionBox>\r\n                    );\r\n                  // if we have a child, turn on plain, and hoverIndicator\r\n\r\n                  return (\r\n                    <SelectOption\r\n                      // eslint-disable-next-line react/no-array-index-key\r\n                      key={index}\r\n                      ref={optionRef}\r\n                      tabIndex=\"-1\"\r\n                      role=\"menuitem\"\r\n                      plain={!child ? undefined : true}\r\n                      align=\"start\"\r\n                      kind={!child ? 'option' : undefined}\r\n                      hoverIndicator={!child ? undefined : 'background'}\r\n                      label={!child ? optionLabel(index) : undefined}\r\n                      disabled={optionDisabled || undefined}\r\n                      active={optionActive}\r\n                      selected={optionSelected}\r\n                      option={option}\r\n                      onMouseOver={\r\n                        !optionDisabled ? onActiveOption(index) : undefined\r\n                      }\r\n                      onClick={\r\n                        !optionDisabled ? selectOption(index) : undefined\r\n                      }\r\n                    >\r\n                      {child}\r\n                    </SelectOption>\r\n                  );\r\n                }}\r\n              </InfiniteScroll>\r\n            ) : (\r\n              <SelectOption\r\n                key=\"search_empty\"\r\n                tabIndex=\"-1\"\r\n                role=\"menuitem\"\r\n                hoverIndicator=\"background\"\r\n                disabled\r\n                option={emptySearchMessage}\r\n              >\r\n                <OptionBox {...selectOptionsStyle}>\r\n                  <Text {...theme.select.container.text}>\r\n                    {emptySearchMessage}\r\n                  </Text>\r\n                </OptionBox>\r\n              </SelectOption>\r\n            )}\r\n          </OptionsBox>\r\n          {clear && clear.position === 'bottom' && value && (\r\n            <ClearButton\r\n              clear={clear}\r\n              name={name}\r\n              onClear={onClear}\r\n              theme={theme}\r\n              setFocus={setFocus}\r\n            />\r\n          )}\r\n        </StyledContainer>\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nexport { SelectContainer };\r\n","import styled from 'styled-components';\r\n\r\nimport { sizeStyle } from '../../utils';\r\n\r\nexport const StyledContainer = styled.div`\r\n  /* IE11 hack to get drop contents to not overflow */\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    width: 100%;\r\n  }\r\n\r\n  ${props =>\r\n    props.dropHeight\r\n      ? sizeStyle('max-height', props.dropHeight, props.theme)\r\n      : 'max-height: inherit;'};\r\n\r\n  ${props =>\r\n    props.theme.select.container && props.theme.select.container.extend};\r\n`;\r\n","export { Sidebar } from './Sidebar';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Box } from '../Box';\r\n\r\nexport const Sidebar = ({ children, footer, header, ...rest }) => {\r\n  return (\r\n    <Box pad=\"small\" gap=\"large\" height={{ min: '100%' }} {...rest}>\r\n      {header}\r\n      <Box flex>{children}</Box>\r\n      {footer}\r\n    </Box>\r\n  );\r\n};\r\n\r\nSidebar.propTypes = {\r\n  children: PropTypes.node,\r\n  footer: PropTypes.node,\r\n  header: PropTypes.node,\r\n};\r\n\r\nSidebar.defaultProps = {\r\n  children: undefined,\r\n  footer: undefined,\r\n  header: undefined,\r\n};\r\n","export { SkipLink } from './SkipLink';\r\n","import React, { forwardRef } from 'react';\r\n\r\nimport { Anchor } from '../Anchor';\r\n\r\nexport const SkipLink = forwardRef(({ id, label, ...rest }, ref) => (\r\n  <Anchor href={`#${id}`} ref={ref} label={label} {...rest} />\r\n));\r\n","export { SkipLinks } from './SkipLinks';\r\n","import React, { cloneElement, useContext, useRef, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { Box } from '../Box';\r\nimport { Text } from '../Text';\r\nimport { Layer } from '../Layer';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst SkipLinks = ({ children, id, messages }) => {\r\n  const theme = useContext(ThemeContext) || defaultProps.theme;\r\n  const [showLayer, setShowLayer] = useState(false);\r\n\r\n  const layerRef = useRef(null);\r\n\r\n  const onFocus = () => {\r\n    setShowLayer(true);\r\n  };\r\n\r\n  const removeLayer = () => {\r\n    setShowLayer(false);\r\n  };\r\n\r\n  const onBlur = () => {\r\n    // timeout needed so it gives enough time for activeElement to be updated\r\n    setTimeout(() => {\r\n      const layerNode = layerRef.current;\r\n      if (layerNode && !layerNode.contains(document.activeElement)) {\r\n        // close the layer when the activeElement isn't contained in the layer\r\n        removeLayer();\r\n      }\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <Layer\r\n      id={id}\r\n      position={showLayer ? theme.skipLinks.position : 'hidden'}\r\n      ref={layerRef}\r\n      onFocus={onFocus}\r\n      onBlur={onBlur}\r\n      modal={false}\r\n      // Prepend the Layer so any SkipLink will be the first element that\r\n      // pressing the Tab key reaches, targetChildPosition triggers prepend.\r\n      targetChildPosition=\"first\"\r\n      // Non-modal Layer's will take the full screen at small breakpoints\r\n      // by default, which isn't what we want, hence setting responsive false\r\n      responsive={false}\r\n    >\r\n      <Box {...theme.skipLinks.container}>\r\n        {messages.skipTo && (\r\n          <Text {...theme.skipLinks.label}>{messages.skipTo}</Text>\r\n        )}\r\n        <Box align=\"center\" gap=\"medium\">\r\n          {children.map((element, index) =>\r\n            cloneElement(element, {\r\n              key: `skip-link-${index}`,\r\n              onClick: removeLayer,\r\n            }),\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Layer>\r\n  );\r\n};\r\n\r\nSkipLinks.defaultProps = {\r\n  messages: {\r\n    skipTo: 'Skip To:',\r\n  },\r\n};\r\n\r\nlet SkipLinksDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  SkipLinksDoc = require('./doc').doc(SkipLinks);\r\n}\r\nconst SkipLinksWrapper = SkipLinksDoc || SkipLinks;\r\n\r\nexport { SkipLinksWrapper as SkipLinks };\r\n","export { SkipLinkTarget } from './SkipLinkTarget';\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { Anchor } from '../Anchor';\r\n\r\nconst HiddenAnchor = styled(Anchor)`\r\n  width: 0;\r\n  height: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n`;\r\n\r\nexport const SkipLinkTarget = ({ label, ...rest }) => (\r\n  <HiddenAnchor {...rest} tabIndex=\"-1\" aria-hidden=\"true\">\r\n    {label}\r\n  </HiddenAnchor>\r\n);\r\n","export { Tab } from './Tab';\r\n","import React, { forwardRef, useContext, useEffect, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Text } from '../Text';\r\nimport { TabsContext } from '../Tabs/TabsContext';\r\nimport { normalizeColor } from '../../utils';\r\n\r\nimport { StyledTab } from './StyledTab';\r\n\r\nconst Tab = forwardRef(\r\n  (\r\n    {\r\n      active: activeProp, // don't pass with rest\r\n      disabled,\r\n      children,\r\n      icon,\r\n      plain,\r\n      title,\r\n      onMouseOver,\r\n      onMouseOut,\r\n      reverse,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const {\r\n      active,\r\n      activeIndex,\r\n      onActivate,\r\n      setActiveContent,\r\n      setActiveTitle,\r\n    } = useContext(TabsContext);\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [over, setOver] = useState(undefined);\r\n    const [focus, setFocus] = useState(undefined);\r\n    let normalizedTitle = title;\r\n    const tabStyles = {};\r\n\r\n    useEffect(() => {\r\n      if (active) {\r\n        setActiveContent(children);\r\n        const activeTitle = typeof title === 'string' ? title : activeIndex + 1;\r\n        setActiveTitle(activeTitle);\r\n      }\r\n    }, [\r\n      active,\r\n      activeIndex,\r\n      children,\r\n      setActiveContent,\r\n      setActiveTitle,\r\n      title,\r\n    ]);\r\n\r\n    const onMouseOverTab = event => {\r\n      setOver(true);\r\n      if (onMouseOver) {\r\n        onMouseOver(event);\r\n      }\r\n    };\r\n\r\n    const onMouseOutTab = event => {\r\n      setOver(undefined);\r\n      if (onMouseOut) {\r\n        onMouseOut(event);\r\n      }\r\n    };\r\n\r\n    const onClickTab = event => {\r\n      if (event) {\r\n        event.preventDefault();\r\n      }\r\n      onActivate();\r\n    };\r\n\r\n    if (active && disabled) {\r\n      console.warn(\r\n        // eslint-disable-next-line max-len\r\n        `Warning: Tab props 'active' and 'disabled' have both been set to TRUE on the same Tab resulting in an interesting Tab state. Is this your intent?`,\r\n      );\r\n    }\r\n\r\n    if (!plain) {\r\n      if (typeof title !== 'string') {\r\n        normalizedTitle = title;\r\n      } else if (active) {\r\n        normalizedTitle = <Text {...theme.tab.active}>{title}</Text>;\r\n      } else if (disabled && theme.tab.disabled) {\r\n        normalizedTitle = <Text {...theme.tab.disabled}>{title}</Text>;\r\n      } else {\r\n        normalizedTitle = (\r\n          <Text color={over ? theme.tab.hover.color : theme.tab.color}>\r\n            {title}\r\n          </Text>\r\n        );\r\n      }\r\n\r\n      if (theme.tab.border) {\r\n        let borderColor =\r\n          theme.tab.border.color || theme.global.control.border.color;\r\n        if (active) {\r\n          borderColor = theme.tab.border.active.color || borderColor;\r\n        } else if (disabled && theme.tab.border.disabled) {\r\n          borderColor = theme.tab.border.disabled.color || borderColor;\r\n        } else if (over) {\r\n          borderColor = theme.tab.border.hover.color || borderColor;\r\n        }\r\n        borderColor = normalizeColor(borderColor, theme);\r\n\r\n        tabStyles.border = {\r\n          side: theme.tab.border.side,\r\n          size: theme.tab.border.size,\r\n          color: borderColor,\r\n        };\r\n      }\r\n\r\n      tabStyles.background = active\r\n        ? theme.tab.active.background || theme.tab.background\r\n        : theme.tab.background;\r\n      tabStyles.pad = theme.tab.pad;\r\n      tabStyles.margin = theme.tab.margin;\r\n    }\r\n\r\n    // needed to apply hover/active styles to the icon\r\n    const renderIcon = iconProp => {\r\n      if (active) {\r\n        return React.cloneElement(iconProp, {\r\n          ...theme.tab.active,\r\n        });\r\n      }\r\n      if (disabled) {\r\n        return React.cloneElement(iconProp, { ...theme.tab.disabled });\r\n      }\r\n      return React.cloneElement(iconProp, {\r\n        color: over ? theme.tab.hover.color : theme.tab.color,\r\n      });\r\n    };\r\n\r\n    let normalizedIcon;\r\n    if (icon) {\r\n      normalizedIcon = renderIcon(icon);\r\n    }\r\n\r\n    const first = reverse ? normalizedTitle : normalizedIcon;\r\n    const second = reverse ? normalizedIcon : normalizedTitle;\r\n\r\n    let withIconStyles;\r\n    if (first && second) {\r\n      withIconStyles = {\r\n        direction: 'row',\r\n        align: 'center',\r\n        justify: 'center',\r\n        gap: 'small',\r\n      };\r\n    }\r\n\r\n    return (\r\n      <Button\r\n        ref={ref}\r\n        plain\r\n        role=\"tab\"\r\n        aria-selected={active}\r\n        aria-expanded={active}\r\n        disabled={disabled}\r\n        {...rest}\r\n        onClick={onClickTab}\r\n        onMouseOver={onMouseOverTab}\r\n        onMouseOut={onMouseOutTab}\r\n        onFocus={() => {\r\n          setFocus(true);\r\n          if (onMouseOver) onMouseOver();\r\n        }}\r\n        onBlur={() => {\r\n          setFocus(undefined);\r\n          if (onMouseOut) onMouseOut();\r\n        }}\r\n        // ensure focus outline is not covered by hover styling\r\n        // of adjacent tabs\r\n        style={focus && { zIndex: 1 }}\r\n      >\r\n        <StyledTab\r\n          as={Box}\r\n          disabled={disabled}\r\n          plain={plain}\r\n          {...withIconStyles}\r\n          {...tabStyles}\r\n        >\r\n          {first}\r\n          {second}\r\n        </StyledTab>\r\n      </Button>\r\n    );\r\n  },\r\n);\r\n\r\nTab.displayName = 'Tab';\r\nTab.defaultProps = {};\r\nObject.setPrototypeOf(Tab.defaultProps, defaultProps);\r\n\r\nlet TabDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TabDoc = require('./doc').doc(Tab); // eslint-disable-line global-require\r\n}\r\nconst TabWrapper = TabDoc || Tab;\r\n\r\nexport { TabWrapper as Tab };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst tabHoverStyle = css`\r\n  &:hover {\r\n    ${props =>\r\n      props.theme.tab.hover.background &&\r\n      css`\r\n        background: ${normalizeColor(\r\n          props.theme.tab.hover.background,\r\n          props.theme,\r\n        )};\r\n      `}\r\n    ${props =>\r\n      props.theme.tab.hover.color &&\r\n      css`\r\n        color: ${normalizeColor(props.theme.tab.hover.color, props.theme)};\r\n      `}\r\n    ${props => props.theme.tab.hover.extend};\r\n  }\r\n`;\r\n\r\nconst StyledTab = styled.div`\r\n  ${genericStyles}\r\n  ${props =>\r\n    !props.plain && !props.disabled && props.theme.tab.hover && tabHoverStyle}\r\n  ${props => props.disabled && props.theme.tab.disabled}\r\n  ${props => props.theme.tab.extend}\r\n`;\r\n\r\nStyledTab.defaultProps = {};\r\nObject.setPrototypeOf(StyledTab.defaultProps, defaultProps);\r\n\r\nexport { StyledTab };\r\n","export { Tabs } from './Tabs';\r\n","import React, { forwardRef, useContext, useState } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { TabsContext } from './TabsContext';\r\nimport { StyledTabPanel, StyledTabs, StyledTabsHeader } from './StyledTabs';\r\nimport { normalizeColor } from '../../utils';\r\n\r\nconst Tabs = forwardRef(\r\n  (\r\n    {\r\n      alignControls,\r\n      children,\r\n      flex,\r\n      justify = 'center',\r\n      messages = { tabContents: 'Tab Contents' },\r\n      responsive = true,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const { activeIndex: propsActiveIndex, onActive } = rest;\r\n    const [activeIndex, setActiveIndex] = useState(rest.activeIndex || 0);\r\n    const [activeContent, setActiveContent] = useState();\r\n    const [activeTitle, setActiveTitle] = useState();\r\n\r\n    if (activeIndex !== propsActiveIndex && propsActiveIndex !== undefined) {\r\n      setActiveIndex(propsActiveIndex);\r\n    }\r\n\r\n    const activateTab = index => {\r\n      if (propsActiveIndex === undefined) {\r\n        setActiveIndex(index);\r\n      }\r\n      if (onActive) {\r\n        onActive(index);\r\n      }\r\n    };\r\n\r\n    /* eslint-disable no-param-reassign */\r\n    delete rest.activeIndex;\r\n    delete rest.onActive;\r\n    /* eslint-enable no-param-reassign */\r\n\r\n    const tabs = React.Children.map(children, (child, index) => (\r\n      <TabsContext.Provider\r\n        value={{\r\n          activeIndex,\r\n          active: activeIndex === index,\r\n          onActivate: () => activateTab(index),\r\n          setActiveContent,\r\n          setActiveTitle,\r\n        }}\r\n      >\r\n        {/* possible to have undefined child. in that case, you can't\r\n        do cloneElement */}\r\n        {child\r\n          ? // cloneElement is needed for backward compatibility with custom\r\n            // styled components that rely on props.active. We should reassess\r\n            // if it is still necessary in our next major release.\r\n            React.cloneElement(child, { active: activeIndex === index })\r\n          : child}\r\n      </TabsContext.Provider>\r\n    ));\r\n\r\n    const tabsHeaderStyles = {};\r\n    if (theme.tabs.header && theme.tabs.header.border) {\r\n      let borderColor =\r\n        theme.tabs.header.border.color || theme.global.control.border.color;\r\n      borderColor = normalizeColor(borderColor, theme);\r\n\r\n      tabsHeaderStyles.border = {\r\n        side: theme.tabs.header.border.side,\r\n        size: theme.tabs.header.border.size,\r\n        style: theme.tabs.header.border.style,\r\n        color: borderColor,\r\n      };\r\n    }\r\n\r\n    const tabContentTitle = `${activeTitle || ''} ${messages.tabContents}`;\r\n\r\n    return (\r\n      <StyledTabs\r\n        ref={ref}\r\n        as={Box}\r\n        role=\"tablist\"\r\n        flex={flex}\r\n        responsive={responsive}\r\n        {...rest}\r\n        background={theme.tabs.background}\r\n      >\r\n        <StyledTabsHeader\r\n          as={Box}\r\n          direction=\"row\"\r\n          justify={justify}\r\n          alignSelf={alignControls}\r\n          flex={false}\r\n          wrap\r\n          background={theme.tabs.header.background}\r\n          gap={theme.tabs.gap}\r\n          {...tabsHeaderStyles}\r\n        >\r\n          {tabs}\r\n        </StyledTabsHeader>\r\n        <StyledTabPanel\r\n          flex={flex}\r\n          aria-label={tabContentTitle}\r\n          role=\"tabpanel\"\r\n        >\r\n          {activeContent}\r\n        </StyledTabPanel>\r\n      </StyledTabs>\r\n    );\r\n  },\r\n);\r\n\r\nTabs.displayName = 'Tabs';\r\n\r\nlet TabsDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TabsDoc = require('./doc').doc(Tabs); // eslint-disable-line global-require\r\n}\r\nconst TabsWrapper = TabsDoc || Tabs;\r\n\r\nexport { TabsWrapper as Tabs };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst StyledTabsHeader = styled.div`\r\n  ${props => props.theme.tabs.header.extend};\r\n`;\r\n\r\nStyledTabsHeader.defaultProps = {};\r\nObject.setPrototypeOf(StyledTabsHeader.defaultProps, defaultProps);\r\n\r\nconst FLEX_MAP = {\r\n  [true]: '1 1',\r\n  [false]: '0 0',\r\n  grow: '1 0',\r\n  shrink: '0 1',\r\n};\r\n\r\nconst flexStyle = css`\r\n  flex: ${props =>\r\n    `${FLEX_MAP[props.flex]}${props.flex !== true ? ' auto' : ''}`};\r\n`;\r\n\r\nconst StyledTabPanel = styled.div`\r\n  min-height: 0;\r\n  ${props => props.flex && flexStyle} ${props => props.theme.tabs.panel.extend};\r\n`;\r\n\r\nStyledTabPanel.defaultProps = {};\r\nObject.setPrototypeOf(StyledTabPanel.defaultProps, defaultProps);\r\n\r\nconst StyledTabs = styled.div`\r\n  ${genericStyles} ${props => props.theme.tabs.extend};\r\n`;\r\n\r\nStyledTabs.defaultProps = {};\r\nObject.setPrototypeOf(StyledTabs.defaultProps, defaultProps);\r\n\r\nexport { StyledTabsHeader, StyledTabPanel, StyledTabs };\r\n","export { TextArea } from './TextArea';\r\n","import React, { forwardRef, useContext, useState } from 'react';\r\n\r\nimport { FormContext } from '../Form/FormContext';\r\nimport { Keyboard } from '../Keyboard';\r\n\r\nimport { StyledTextArea } from './StyledTextArea';\r\n\r\nconst TextArea = forwardRef(\r\n  (\r\n    {\r\n      a11yTitle,\r\n      fill,\r\n      name,\r\n      onBlur,\r\n      onChange,\r\n      onFocus,\r\n      onKeyDown,\r\n      value: valueProp,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const formContext = useContext(FormContext);\r\n    const [value, setValue] = formContext.useFormInput(name, valueProp);\r\n    const [focus, setFocus] = useState();\r\n\r\n    return (\r\n      <Keyboard\r\n        onEsc={event => {\r\n          // we have to stop both synthetic events and native events\r\n          // drop and layer should not close by pressing esc on this input\r\n          event.stopPropagation();\r\n          event.nativeEvent.stopImmediatePropagation();\r\n        }}\r\n        onKeyDown={onKeyDown}\r\n      >\r\n        <StyledTextArea\r\n          aria-label={a11yTitle}\r\n          ref={ref}\r\n          name={name}\r\n          fillArg={fill}\r\n          focus={focus}\r\n          value={value}\r\n          {...rest}\r\n          onFocus={event => {\r\n            setFocus(true);\r\n            if (onFocus) onFocus(event);\r\n          }}\r\n          onBlur={event => {\r\n            setFocus(false);\r\n            if (onBlur) onBlur(event);\r\n          }}\r\n          onChange={event => {\r\n            setValue(event.target.value);\r\n            if (onChange) onChange(event);\r\n          }}\r\n        />\r\n      </Keyboard>\r\n    );\r\n  },\r\n);\r\n\r\nTextArea.displayName = 'TextArea';\r\n\r\nlet TextAreaDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  TextAreaDoc = require('./doc').doc(TextArea);\r\n}\r\nconst TextAreaWrapper = TextAreaDoc || TextArea;\r\n\r\nexport { TextAreaWrapper as TextArea };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { disabledStyle, inputStyle } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst plainStyle = css`\r\n  outline: none;\r\n  border: none;\r\n  width: 100%;\r\n  -webkit-appearance: none;\r\n`;\r\n\r\nconst resizeStyle = resize => {\r\n  if (resize === 'horizontal') {\r\n    return 'resize: horizontal;';\r\n  }\r\n  if (resize === 'vertical') {\r\n    return 'resize: vertical;';\r\n  }\r\n  if (resize) {\r\n    return 'resize: both;';\r\n  }\r\n  return 'resize: none;';\r\n};\r\n\r\nconst StyledTextArea = styled.textarea`\r\n  ${inputStyle}\r\n  ${props => props.resize !== undefined && resizeStyle(props.resize)}\r\n  ${props => props.fillArg && 'height: 100%;'}\r\n  ${props => props.plain && plainStyle}\r\n  ${props =>\r\n    props.disabled &&\r\n    disabledStyle(\r\n      props.theme.textArea.disabled && props.theme.textArea.disabled.opacity,\r\n    )}\r\n  ${props => props.theme.textArea && props.theme.textArea.extend};\r\n`;\r\n\r\nStyledTextArea.defaultProps = {};\r\nObject.setPrototypeOf(StyledTextArea.defaultProps, defaultProps);\r\n\r\nexport { StyledTextArea };\r\n","export { Video } from './Video';\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nimport { Box } from '../Box';\r\nimport { Button } from '../Button';\r\nimport { Menu } from '../Menu';\r\nimport { Meter } from '../Meter';\r\nimport { Stack } from '../Stack';\r\nimport { Text } from '../Text';\r\nimport { containsFocus, useForwardedRef } from '../../utils';\r\n\r\nimport {\r\n  StyledVideo,\r\n  StyledVideoContainer,\r\n  StyledVideoControls,\r\n  StyledVideoScrubber,\r\n} from './StyledVideo';\r\n\r\n// Split the volume control into 6 segments. Empirically determined.\r\nconst VOLUME_STEP = 0.166667;\r\n\r\nconst formatTime = time => {\r\n  let minutes = Math.round(time / 60);\r\n  if (minutes < 10) {\r\n    minutes = `0${minutes}`;\r\n  }\r\n  let seconds = Math.round(time) % 60;\r\n  if (seconds < 10) {\r\n    seconds = `0${seconds}`;\r\n  }\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nconst Video = forwardRef(\r\n  (\r\n    {\r\n      alignSelf,\r\n      autoPlay,\r\n      children,\r\n      controls = 'over',\r\n      gridArea,\r\n      loop,\r\n      margin,\r\n      messages,\r\n      mute,\r\n      onDurationChange,\r\n      onEnded,\r\n      onPause,\r\n      onPlay,\r\n      onTimeUpdate,\r\n      onVolumeChange,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = useContext(ThemeContext) || defaultProps.theme;\r\n    const [captions, setCaptions] = useState([]);\r\n    const [currentTime, setCurrentTime] = useState();\r\n    const [duration, setDuration] = useState();\r\n    const [percentagePlayed, setPercentagePlayed] = useState();\r\n    const [playing, setPlaying] = useState(false);\r\n    const [scrubTime, setScrubTime] = useState();\r\n    const [volume, setVolume] = useState();\r\n    const [hasPlayed, setHasPlayed] = useState(false);\r\n    const [interacting, setInteracting] = useState();\r\n    const [height, setHeight] = useState();\r\n    const [width, setWidth] = useState();\r\n    const containerRef = useRef();\r\n    const scrubberRef = useRef();\r\n    const videoRef = useForwardedRef(ref);\r\n\r\n    // mute if needed\r\n    useEffect(() => {\r\n      const video = videoRef.current;\r\n      if (video && mute) video.muted = true;\r\n    }, [mute, videoRef]);\r\n\r\n    // when the video is first rendered, set state from it where needed\r\n    useEffect(() => {\r\n      const video = videoRef.current;\r\n      if (video) {\r\n        // hide all captioning to start with\r\n        const { textTracks } = video;\r\n        for (let i = 0; i < textTracks.length; i += 1) {\r\n          textTracks[i].mode = 'hidden';\r\n        }\r\n\r\n        setCurrentTime(video.currentTime);\r\n        setPercentagePlayed((video.currentTime / video.duration) * 100);\r\n        setVolume(videoRef.current.volume);\r\n      }\r\n    }, [videoRef]);\r\n\r\n    // turn off interacting after a while\r\n    useEffect(() => {\r\n      const timer = setTimeout(() => {\r\n        if (interacting && !containsFocus(containerRef.current)) {\r\n          setInteracting(false);\r\n        }\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }, [interacting]);\r\n\r\n    useLayoutEffect(() => {\r\n      const video = videoRef.current;\r\n      if (video) {\r\n        if (video.videoHeight) {\r\n          // set the size based on the video aspect ratio\r\n          const rect = video.getBoundingClientRect();\r\n          const ratio = rect.width / rect.height;\r\n          const videoRatio = video.videoWidth / video.videoHeight;\r\n          if (videoRatio > ratio) {\r\n            const nextHeight = rect.width / videoRatio;\r\n            if (nextHeight !== height) {\r\n              setHeight(nextHeight);\r\n              setWidth(undefined);\r\n            }\r\n          } else {\r\n            const nextWidth = rect.height * videoRatio;\r\n            if (nextWidth !== width) {\r\n              setHeight(undefined);\r\n              setWidth(nextWidth);\r\n            }\r\n          }\r\n        }\r\n\r\n        // remember the state of the text tracks for subsequent rendering\r\n        const { textTracks } = video;\r\n        if (textTracks.length > 0) {\r\n          if (textTracks.length === 1) {\r\n            const active = textTracks[0].mode === 'showing';\r\n            if (!captions || !captions[0] || captions[0].active !== active) {\r\n              setCaptions([{ active }]);\r\n            }\r\n          } else {\r\n            const nextCaptions = [];\r\n            let set = false;\r\n            for (let i = 0; i < textTracks.length; i += 1) {\r\n              const track = textTracks[i];\r\n              const active = track.mode === 'showing';\r\n              nextCaptions.push({ label: track.label, active });\r\n              if (!captions || !captions[i] || captions[i].active !== active) {\r\n                set = true;\r\n              }\r\n            }\r\n            if (set) {\r\n              setCaptions(nextCaptions);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }, [captions, height, videoRef, width]);\r\n\r\n    const play = useCallback(() => videoRef.current.play(), [videoRef]);\r\n\r\n    const pause = useCallback(() => videoRef.current.pause(), [videoRef]);\r\n\r\n    const scrub = useCallback(\r\n      event => {\r\n        if (scrubberRef.current) {\r\n          const scrubberRect = scrubberRef.current.getBoundingClientRect();\r\n          const percent =\r\n            (event.clientX - scrubberRect.left) / scrubberRect.width;\r\n          setScrubTime(duration * percent);\r\n        }\r\n      },\r\n      [duration],\r\n    );\r\n\r\n    const seek = useCallback(\r\n      event => {\r\n        if (scrubberRef.current) {\r\n          const scrubberRect = scrubberRef.current.getBoundingClientRect();\r\n          const percent =\r\n            (event.clientX - scrubberRect.left) / scrubberRect.width;\r\n          if (duration) videoRef.current.currentTime = duration * percent;\r\n        }\r\n      },\r\n      [duration, videoRef],\r\n    );\r\n\r\n    const louder = useCallback(() => {\r\n      videoRef.current.volume += VOLUME_STEP;\r\n    }, [videoRef]);\r\n\r\n    const quieter = useCallback(() => {\r\n      videoRef.current.volume -= VOLUME_STEP;\r\n    }, [videoRef]);\r\n\r\n    const showCaptions = index => {\r\n      const { textTracks } = videoRef.current;\r\n      for (let i = 0; i < textTracks.length; i += 1) {\r\n        textTracks[i].mode = i === index ? 'showing' : 'hidden';\r\n      }\r\n    };\r\n\r\n    const fullscreen = useCallback(() => {\r\n      const video = videoRef.current;\r\n      if (video.requestFullscreen) {\r\n        video.requestFullscreen();\r\n      } else if (video.msRequestFullscreen) {\r\n        video.msRequestFullscreen();\r\n      } else if (video.mozRequestFullScreen) {\r\n        video.mozRequestFullScreen();\r\n      } else if (video.webkitRequestFullscreen) {\r\n        video.webkitRequestFullscreen();\r\n      } else {\r\n        console.warn(\"This browser doesn't support fullscreen.\");\r\n      }\r\n    }, [videoRef]);\r\n\r\n    let controlsElement;\r\n    if (controls) {\r\n      const over = controls === 'over';\r\n      const background = over\r\n        ? (theme.video.controls && theme.video.controls.background) || {\r\n            color: 'background-back',\r\n            opacity: 'strong',\r\n            dark: true,\r\n          }\r\n        : undefined;\r\n      const iconColor = over && (theme.video.icons.color || 'text');\r\n\r\n      const formattedTime = formatTime(scrubTime || currentTime || duration);\r\n\r\n      const Icons = {\r\n        ClosedCaption: theme.video.icons.closedCaption,\r\n        Configure: theme.video.icons.configure,\r\n        FullScreen: theme.video.icons.fullScreen,\r\n        Pause: theme.video.icons.pause,\r\n        Play: theme.video.icons.play,\r\n        ReduceVolume: theme.video.icons.reduceVolume,\r\n        Volume: theme.video.icons.volume,\r\n      };\r\n\r\n      const captionControls = captions.map(caption => ({\r\n        icon: caption.label ? (\r\n          undefined\r\n        ) : (\r\n          <Icons.ClosedCaption color={iconColor} />\r\n        ),\r\n        label: caption.label,\r\n        active: caption.active,\r\n        onClick: () => showCaptions(caption.active ? -1 : 0),\r\n      }));\r\n\r\n      controlsElement = (\r\n        <StyledVideoControls\r\n          over={over}\r\n          active={!hasPlayed || controls === 'below' || (over && interacting)}\r\n          onBlur={() => {\r\n            if (!containsFocus(containerRef.current)) setInteracting(false);\r\n          }}\r\n        >\r\n          <Box\r\n            direction=\"row\"\r\n            align=\"center\"\r\n            justify=\"between\"\r\n            background={background}\r\n          >\r\n            <Button\r\n              icon={\r\n                playing ? (\r\n                  <Icons.Pause\r\n                    color={iconColor}\r\n                    a11yTitle={messages.pauseButton}\r\n                  />\r\n                ) : (\r\n                  <Icons.Play\r\n                    color={iconColor}\r\n                    a11yTitle={messages.playButton}\r\n                  />\r\n                )\r\n              }\r\n              hoverIndicator=\"background\"\r\n              onClick={playing ? pause : play}\r\n            />\r\n            <Box direction=\"row\" align=\"center\" flex>\r\n              <Box flex>\r\n                <Stack>\r\n                  <Meter\r\n                    aria-label={messages.progressMeter}\r\n                    background={\r\n                      over\r\n                        ? (theme.video.scrubber &&\r\n                            theme.video.scrubber.track &&\r\n                            theme.video.scrubber.track.color) ||\r\n                          'dark-3'\r\n                        : undefined\r\n                    }\r\n                    size=\"full\"\r\n                    thickness=\"small\"\r\n                    values={[{ value: percentagePlayed || 0 }]}\r\n                  />\r\n                  <StyledVideoScrubber\r\n                    aria-label={messages.scrubber}\r\n                    ref={scrubberRef}\r\n                    tabIndex={0}\r\n                    role=\"button\"\r\n                    value={\r\n                      scrubTime\r\n                        ? Math.round((scrubTime / duration) * 100)\r\n                        : undefined\r\n                    }\r\n                    onMouseMove={scrub}\r\n                    onMouseLeave={() => setScrubTime(undefined)}\r\n                    onClick={seek}\r\n                  />\r\n                </Stack>\r\n              </Box>\r\n              <Box pad={{ horizontal: 'small' }}>\r\n                <Text margin=\"none\">{formattedTime}</Text>\r\n              </Box>\r\n            </Box>\r\n            <Menu\r\n              icon={<Icons.Configure color={iconColor} />}\r\n              dropAlign={{ bottom: 'top', right: 'right' }}\r\n              dropBackground={background}\r\n              messages={{\r\n                openMenu: messages.openMenu,\r\n                closeMenu: messages.closeMenu,\r\n              }}\r\n              items={[\r\n                {\r\n                  icon: (\r\n                    <Icons.Volume\r\n                      color={iconColor}\r\n                      a11yTitle={messages.volumeUp}\r\n                    />\r\n                  ),\r\n                  onClick: volume <= 1 - VOLUME_STEP ? louder : undefined,\r\n                  close: false,\r\n                },\r\n                {\r\n                  icon: (\r\n                    <Icons.ReduceVolume\r\n                      color={iconColor}\r\n                      a11yTitle={messages.volumeDown}\r\n                    />\r\n                  ),\r\n                  onClick: volume >= VOLUME_STEP ? quieter : undefined,\r\n                  close: false,\r\n                },\r\n                ...captionControls,\r\n                {\r\n                  icon: (\r\n                    <Icons.FullScreen\r\n                      color={iconColor}\r\n                      a11yTitle={messages.fullScreen}\r\n                    />\r\n                  ),\r\n                  onClick: fullscreen,\r\n                },\r\n              ]}\r\n            />\r\n          </Box>\r\n        </StyledVideoControls>\r\n      );\r\n    }\r\n\r\n    let mouseEventListeners;\r\n    if (controls === 'over') {\r\n      mouseEventListeners = {\r\n        onMouseEnter: () => setInteracting(true),\r\n        onMouseMove: () => setInteracting(true),\r\n        onTouchStart: () => setInteracting(true),\r\n      };\r\n    }\r\n\r\n    let style;\r\n    if (rest.fit === 'contain' && controls === 'over') {\r\n      // constrain the size to fit the aspect ratio so the controls\r\n      // overlap correctly\r\n      if (width) {\r\n        style = { width };\r\n      } else if (height) {\r\n        style = { height };\r\n      }\r\n    }\r\n\r\n    return (\r\n      <StyledVideoContainer\r\n        ref={containerRef}\r\n        {...mouseEventListeners}\r\n        alignSelf={alignSelf}\r\n        gridArea={gridArea}\r\n        margin={margin}\r\n        style={style}\r\n      >\r\n        <StyledVideo\r\n          {...rest}\r\n          ref={videoRef}\r\n          onDurationChange={event => {\r\n            const video = videoRef.current;\r\n            setDuration(video.duration);\r\n            setPercentagePlayed((video.currentTime / video.duration) * 100);\r\n            if (onDurationChange) onDurationChange(event);\r\n          }}\r\n          onEnded={event => {\r\n            setPlaying(false);\r\n            if (onEnded) onEnded(event);\r\n          }}\r\n          onPause={event => {\r\n            setPlaying(false);\r\n            if (onPause) onPause(event);\r\n          }}\r\n          onPlay={event => {\r\n            setPlaying(true);\r\n            setHasPlayed(true);\r\n            if (onPlay) onPlay(event);\r\n          }}\r\n          onTimeUpdate={event => {\r\n            const video = videoRef.current;\r\n            setCurrentTime(video.currentTime);\r\n            setPercentagePlayed((video.currentTime / video.duration) * 100);\r\n            if (onTimeUpdate) onTimeUpdate(event);\r\n          }}\r\n          onVolumeChange={event => {\r\n            setVolume(videoRef.current.volume);\r\n            if (onVolumeChange) onVolumeChange(event);\r\n          }}\r\n          autoPlay={autoPlay || false}\r\n          loop={loop || false}\r\n        >\r\n          {children}\r\n        </StyledVideo>\r\n        {controlsElement}\r\n      </StyledVideoContainer>\r\n    );\r\n  },\r\n);\r\n\r\nVideo.defaultProps = {\r\n  messages: {\r\n    closeMenu: 'close menu',\r\n    fullScreen: 'full screen',\r\n    progressMeter: 'video progress',\r\n    scrubber: 'scrubber',\r\n    openMenu: 'open menu',\r\n    pauseButton: 'pause',\r\n    playButton: 'play',\r\n    volumeDown: 'volume down',\r\n    volumeUp: 'volume up',\r\n  },\r\n};\r\n\r\nVideo.displayName = 'Video';\r\n\r\nlet VideoDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  VideoDoc = require('./doc').doc(Video);\r\n}\r\nconst VideoWrapper = VideoDoc || Video;\r\n\r\nexport { VideoWrapper as Video };\r\n","import styled, { css } from 'styled-components';\r\n\r\nimport { genericStyles, normalizeColor } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst FIT_MAP = {\r\n  cover: 'cover',\r\n  contain: 'contain',\r\n};\r\n\r\nconst fitStyle = css`\r\n  flex: 1 1;\r\n  min-height: 0;\r\n  object-fit: ${props => FIT_MAP[props.fit]};\r\n`;\r\n\r\n// z-index is for Safari so controls aren't hidden\r\nconst StyledVideo = styled.video`\r\n  max-width: 100%;\r\n  z-index: 1;\r\n  ${props => props.fit && fitStyle} ::cue {\r\n    background: ${props => props.theme.video.captions.background};\r\n  }\r\n\r\n  ${props => props.theme.video && props.theme.video.extend};\r\n`;\r\n\r\nStyledVideo.defaultProps = {};\r\nObject.setPrototypeOf(StyledVideo.defaultProps, defaultProps);\r\n\r\nconst StyledVideoContainer = styled.div`\r\n  flex: 1 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  position: relative;\r\n  ${genericStyles};\r\n`;\r\n\r\nStyledVideoContainer.defaultProps = {};\r\nObject.setPrototypeOf(StyledVideoContainer.defaultProps, defaultProps);\r\n\r\n// z-index is for Safari so controls aren't hidden\r\nconst positionStyle = css`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 1;\r\n`;\r\n\r\nconst StyledVideoControls = styled.div`\r\n  flex: 0 0;\r\n  ${props => props.over && positionStyle} opacity: 0;\r\n  transition: opacity 0.3s;\r\n  ${props => (props.active ? 'opacity: 1;' : 'pointer-events: none')};\r\n`;\r\n\r\nStyledVideoControls.defaultProps = {};\r\nObject.setPrototypeOf(StyledVideoControls.defaultProps, defaultProps);\r\n\r\nconst headStyle = css`\r\n  ::after {\r\n    content: '';\r\n    height: 100%;\r\n    width: ${props => props.theme.global.edgeSize.xsmall};\r\n    background: ${props =>\r\n      normalizeColor(props.theme.video.scrubber.color, props.theme)};\r\n    position: absolute;\r\n    left: ${props => `${props.value}%`};\r\n  }\r\n`;\r\n\r\nconst StyledVideoScrubber = styled.div`\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 100%;\r\n  ${props => props.value && headStyle};\r\n`;\r\n\r\nStyledVideoScrubber.defaultProps = {};\r\nObject.setPrototypeOf(StyledVideoScrubber.defaultProps, defaultProps);\r\n\r\nexport {\r\n  StyledVideo,\r\n  StyledVideoContainer,\r\n  StyledVideoControls,\r\n  StyledVideoScrubber,\r\n};\r\n","export { WorldMap } from './WorldMap';\r\n","import React, { forwardRef } from 'react';\r\nimport { ThemeContext } from 'styled-components';\r\n\r\nimport { defaultProps } from '../../default-props';\r\nimport { normalizeColor, parseMetricToNum } from '../../utils';\r\n\r\nimport { StyledWorldMap } from './StyledWorldMap';\r\n\r\n// The graphic is drawn as a rectangular grid using coordinates spaced\r\n// by FACTOR pixels. The contents have both an area boundary for interaction\r\n// and dots described as rows where each row is described by three values:\r\n// a starting coordinate and a length. This approach is more efficient than\r\n// describing it via SVG elements, keeping the code/library size smaller.\r\nconst CONTINENTS = [\r\n  {\r\n    name: 'Australia',\r\n    origin: [74, 32],\r\n    area: [\r\n      [4, 0],\r\n      [7, 1],\r\n      [15, 7],\r\n      [13, 9],\r\n      [8, 8],\r\n      [0, 6],\r\n      [0, 2],\r\n    ],\r\n    dots: [\r\n      [4, 0, 1],\r\n      [2, 1, 6],\r\n      [0, 2, 9],\r\n      [0, 3, 10],\r\n      [0, 4, 10],\r\n      [0, 5, 3],\r\n      [5, 5, 5],\r\n      [5, 6, 4],\r\n      [8, 8, 1],\r\n      [15, 7, 1],\r\n      [14, 8, 1],\r\n      [13, 9, 1],\r\n    ],\r\n  },\r\n  {\r\n    name: 'Asia',\r\n    origin: [52, 1],\r\n    area: [\r\n      [16, 0],\r\n      [38, 5],\r\n      [40, 7],\r\n      [28, 17],\r\n      [24, 25],\r\n      [29, 29],\r\n      [19, 29],\r\n      [11, 24],\r\n      [3, 23],\r\n      [0, 20],\r\n      [0, 19],\r\n      [6, 13],\r\n      [7, 6],\r\n    ],\r\n    dots: [\r\n      [16, 0, 1],\r\n      [17, 1, 2],\r\n      [18, 2, 2],\r\n      [15, 3, 6],\r\n      [28, 3, 1],\r\n      [30, 3, 1],\r\n      [10, 4, 2],\r\n      [13, 4, 10],\r\n      [24, 4, 1],\r\n      [9, 5, 22],\r\n      [32, 5, 1],\r\n      [38, 5, 1],\r\n      [7, 6, 2],\r\n      [10, 6, 1],\r\n      [12, 6, 27],\r\n      [7, 7, 34],\r\n      [7, 8, 31],\r\n      [7, 9, 26],\r\n      [34, 9, 3],\r\n      [7, 10, 22],\r\n      [31, 10, 1],\r\n      [33, 10, 1],\r\n      [7, 11, 21],\r\n      [32, 11, 2],\r\n      [7, 12, 21],\r\n      [32, 12, 1],\r\n      [6, 13, 22],\r\n      [32, 13, 1],\r\n      [6, 14, 22],\r\n      [5, 15, 22],\r\n      [3, 16, 2],\r\n      [6, 16, 20],\r\n      [2, 17, 3],\r\n      [6, 17, 16],\r\n      [24, 17, 1],\r\n      [28, 17, 1],\r\n      [1, 18, 22],\r\n      [26, 18, 2],\r\n      [0, 19, 24],\r\n      [0, 20, 5],\r\n      [6, 20, 17],\r\n      [2, 21, 5],\r\n      [10, 21, 14],\r\n      [2, 22, 5],\r\n      [11, 22, 4],\r\n      [16, 22, 4],\r\n      [3, 23, 3],\r\n      [11, 23, 2],\r\n      [17, 23, 3],\r\n      [23, 23, 1],\r\n      [11, 24, 2],\r\n      [18, 24, 2],\r\n      [23, 24, 1],\r\n      [24, 25, 1],\r\n      [18, 26, 1],\r\n      [22, 26, 1],\r\n      [18, 27, 1],\r\n      [20, 27, 4],\r\n      [18, 28, 1],\r\n      [21, 28, 1],\r\n      [23, 28, 1],\r\n      [26, 28, 3],\r\n      [19, 29, 1],\r\n      [28, 29, 2],\r\n    ],\r\n  },\r\n  {\r\n    // 21X, 40Y\r\n    name: 'Africa',\r\n    origin: [40, 19],\r\n    area: [\r\n      [3, 0],\r\n      [6, 0],\r\n      [11, 2],\r\n      [16, 7],\r\n      [16, 15],\r\n      [11, 18],\r\n      [9, 18],\r\n      [0, 6],\r\n      [0, 3],\r\n    ],\r\n    dots: [\r\n      [3, 0, 4],\r\n      [2, 1, 6],\r\n      [9, 1, 2],\r\n      [1, 2, 11],\r\n      [0, 3, 13],\r\n      [0, 4, 14],\r\n      [0, 5, 14],\r\n      [0, 6, 16],\r\n      [1, 7, 16],\r\n      [2, 8, 2],\r\n      [6, 8, 11],\r\n      [7, 9, 9],\r\n      [7, 10, 8],\r\n      [7, 11, 7],\r\n      [8, 12, 7],\r\n      [7, 13, 8],\r\n      [7, 14, 7],\r\n      [16, 14, 1],\r\n      [8, 15, 5],\r\n      [15, 15, 2],\r\n      [8, 16, 5],\r\n      [9, 17, 3],\r\n      [9, 18, 3],\r\n    ],\r\n  },\r\n  {\r\n    name: 'Europe',\r\n    origin: [39, 2],\r\n    area: [\r\n      [8, 0],\r\n      [10, 0],\r\n      [20, 2],\r\n      [19, 11],\r\n      [18, 13],\r\n      [14, 16],\r\n      [3, 16],\r\n      [0, 7],\r\n    ],\r\n    dots: [\r\n      [8, 0, 3],\r\n      [9, 1, 1],\r\n      [20, 2, 1],\r\n      [19, 3, 1],\r\n      [12, 4, 1],\r\n      [19, 4, 1],\r\n      [9, 5, 6],\r\n      [9, 6, 7],\r\n      [17, 6, 3],\r\n      [0, 7, 1],\r\n      [8, 7, 12],\r\n      [7, 8, 3],\r\n      [11, 8, 9],\r\n      [7, 9, 3],\r\n      [11, 9, 9],\r\n      [4, 10, 1],\r\n      [7, 10, 1],\r\n      [9, 10, 1],\r\n      [11, 10, 9],\r\n      [3, 11, 2],\r\n      [7, 11, 13],\r\n      [4, 12, 1],\r\n      [6, 12, 13],\r\n      [4, 13, 15],\r\n      [5, 14, 3],\r\n      [9, 14, 4],\r\n      [15, 14, 2],\r\n      [3, 15, 3],\r\n      [8, 15, 1],\r\n      [10, 15, 5],\r\n      [6, 15, 2],\r\n      [3, 16, 2],\r\n      [10, 16, 5],\r\n    ],\r\n  },\r\n  {\r\n    name: 'South America',\r\n    origin: [22, 26],\r\n    area: [\r\n      [2, 0],\r\n      [5, 0],\r\n      [11, 4],\r\n      [11, 8],\r\n      [3, 18],\r\n      [2, 17],\r\n      [0, 4],\r\n      [0, 3],\r\n    ],\r\n    dots: [\r\n      [2, 0, 4],\r\n      [1, 1, 7],\r\n      [1, 2, 7],\r\n      [0, 3, 10],\r\n      [0, 4, 12],\r\n      [1, 5, 11],\r\n      [2, 6, 9],\r\n      [3, 7, 8],\r\n      [3, 8, 8],\r\n      [3, 9, 6],\r\n      [3, 10, 6],\r\n      [3, 11, 5],\r\n      [3, 12, 3],\r\n      [2, 13, 3],\r\n      [2, 14, 3],\r\n      [2, 15, 2],\r\n      [2, 16, 2],\r\n      [2, 17, 2],\r\n      [3, 18, 1],\r\n    ],\r\n  },\r\n  {\r\n    name: 'North America',\r\n    origin: [0, 0],\r\n    area: [\r\n      [21, 0],\r\n      [39, 0],\r\n      [39, 6],\r\n      [22, 26],\r\n      [16, 23],\r\n      [2, 12],\r\n      [0, 7],\r\n    ],\r\n    dots: [\r\n      [22, 0, 6],\r\n      [29, 0, 1],\r\n      [31, 0, 1],\r\n      [33, 0, 5],\r\n      [20, 1, 1],\r\n      [22, 1, 1],\r\n      [24, 1, 2],\r\n      [27, 1, 13],\r\n      [17, 2, 1],\r\n      [20, 2, 5],\r\n      [26, 2, 13],\r\n      [13, 3, 1],\r\n      [19, 3, 1],\r\n      [21, 3, 3],\r\n      [26, 3, 14],\r\n      [14, 4, 1],\r\n      [16, 4, 4],\r\n      [21, 4, 3],\r\n      [29, 4, 11],\r\n      [12, 5, 3],\r\n      [16, 5, 1],\r\n      [18, 5, 1],\r\n      [20, 5, 3],\r\n      [24, 5, 1],\r\n      [30, 5, 8],\r\n      [14, 6, 3],\r\n      [19, 6, 1],\r\n      [22, 6, 4],\r\n      [31, 6, 8],\r\n      [0, 7, 15],\r\n      [16, 7, 1],\r\n      [18, 7, 4],\r\n      [24, 7, 2],\r\n      [30, 7, 7],\r\n      [2, 8, 20],\r\n      [24, 8, 3],\r\n      [29, 8, 5],\r\n      [2, 9, 20],\r\n      [24, 9, 2],\r\n      [30, 9, 3],\r\n      [1, 10, 18],\r\n      [23, 10, 2],\r\n      [31, 10, 1],\r\n      [2, 11, 2],\r\n      [8, 11, 11],\r\n      [23, 11, 2],\r\n      [26, 11, 1],\r\n      [2, 12, 1],\r\n      [8, 12, 13],\r\n      [24, 12, 3],\r\n      [10, 13, 12],\r\n      [23, 13, 5],\r\n      [11, 14, 17],\r\n      [11, 15, 9],\r\n      [21, 15, 6],\r\n      [28, 15, 2],\r\n      [11, 16, 11],\r\n      [23, 16, 4],\r\n      [11, 17, 14],\r\n      [12, 18, 11],\r\n      [12, 19, 12],\r\n      [13, 20, 9],\r\n      [15, 21, 3],\r\n      [22, 21, 1],\r\n      [16, 22, 2],\r\n      [16, 23, 2],\r\n      [20, 23, 1],\r\n      [23, 23, 1],\r\n      [18, 24, 3],\r\n      [21, 25, 1],\r\n      [22, 26, 1],\r\n    ],\r\n  },\r\n];\r\n\r\n// FACTOR is the distance in pixels between coordinates\r\nconst FACTOR = 10;\r\n\r\nconst maxCoordinate = (a, b) => [Math.max(a[0], b[0]), Math.max(a[1], b[1])];\r\n// const minCoordinate = (a, b) =>\r\n//   [Math.min(a[0], b[0]), Math.min(a[1], b[1])];\r\n\r\n// Based on https://stackoverflow.com/a/43861247\r\nconst MAP_LAT_BOTTOM = -50.0; // empirically determined\r\nconst MAP_LAT_BOTTOM_RAD = (MAP_LAT_BOTTOM * Math.PI) / 180;\r\nconst MAP_LON_LEFT = -171.0; // empirically determined\r\nconst MAP_LON_RIGHT = 184.0; // empirically determined\r\nconst MAP_LON_DELTA = MAP_LON_RIGHT - MAP_LON_LEFT;\r\n\r\nconst mapValues = extent => {\r\n  const mapRadius = ((extent[0] / MAP_LON_DELTA) * 360) / (2 * Math.PI);\r\n  const mapOffsetY = Math.round(\r\n    (mapRadius / 2) *\r\n      Math.log(\r\n        (1 + Math.sin(MAP_LAT_BOTTOM_RAD)) / (1 - Math.sin(MAP_LAT_BOTTOM_RAD)),\r\n      ),\r\n  );\r\n  return { mapRadius, mapOffsetY };\r\n};\r\n\r\nconst latLonToCoord = (latLon, origin, extent) => {\r\n  const { mapRadius, mapOffsetY } = mapValues(extent);\r\n  const x = Math.round(\r\n    ((latLon[1] - MAP_LON_LEFT) * extent[0]) / MAP_LON_DELTA,\r\n  );\r\n  const latitudeRad = (latLon[0] * Math.PI) / 180;\r\n  const y =\r\n    extent[1] +\r\n    mapOffsetY -\r\n    Math.round(\r\n      (mapRadius / 2) *\r\n        Math.log((1 + Math.sin(latitudeRad)) / (1 - Math.sin(latitudeRad))),\r\n    );\r\n  return [x, y]; // the coordinate value of this point on the map image\r\n};\r\n\r\nconst coordToLatLon = (coord, origin, extent) => {\r\n  const { mapRadius, mapOffsetY } = mapValues(extent);\r\n  const a = (extent[1] + mapOffsetY - coord[1]) / mapRadius;\r\n  const lat = (180 / Math.PI) * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);\r\n  const lon = (coord[0] * MAP_LON_DELTA) / extent[0] + MAP_LON_LEFT;\r\n  return [lat, lon];\r\n};\r\n\r\nconst buildContinent = ({ area, dots, name, origin }) => {\r\n  let extent = [...origin];\r\n  const stateDots = dots\r\n    .map(segment => {\r\n      const count = segment[2];\r\n      const spots = [];\r\n      for (let i = 0; i < count; i += 1) spots.push('h0');\r\n      const dotCommands = spots.join(' m10,0 ');\r\n      const x = FACTOR * (origin[0] + segment[0] + 1);\r\n      const y = FACTOR * (origin[1] + segment[1] + 1);\r\n      extent = maxCoordinate(extent, [\r\n        origin[0] + segment[0] + segment[2],\r\n        origin[1] + segment[1],\r\n      ]);\r\n      return `M${x},${y} ${dotCommands}`;\r\n    })\r\n    .join(' ');\r\n\r\n  const stateArea = `${area\r\n    .map((point, index) => {\r\n      const x = FACTOR * (point[0] + origin[0] + 1);\r\n      const y = FACTOR * (point[1] + origin[1] + 1);\r\n      return `${index === 0 ? 'M' : 'L'}${x},${y}`;\r\n    })\r\n    .join(' ')} Z`;\r\n\r\n  const mid = [\r\n    origin[0] + (extent[0] - origin[0]) / 2,\r\n    origin[1] + (extent[1] - origin[1]) / 2,\r\n  ];\r\n  return {\r\n    area: stateArea,\r\n    dots: stateDots,\r\n    name,\r\n    origin,\r\n    extent,\r\n    mid,\r\n  };\r\n};\r\n\r\nconst buildWorld = () => {\r\n  // Build the SVG paths describing the individual dots\r\n  const continents = CONTINENTS.map(buildContinent);\r\n  const origin = [0, 0];\r\n  let extent = [0, 0];\r\n  continents.forEach(continent => {\r\n    extent = maxCoordinate(extent, continent.extent);\r\n  });\r\n\r\n  return {\r\n    continents,\r\n    extent,\r\n    origin,\r\n    x: origin[0] * FACTOR,\r\n    y: origin[1] * FACTOR,\r\n    width: (extent[0] - origin[0] + 1) * FACTOR,\r\n    height: (extent[1] - origin[1] + 2) * FACTOR,\r\n  };\r\n};\r\n\r\nconst buildInteractiveProps = (\r\n  { name, onClick, onHover },\r\n  activeFunc,\r\n  active,\r\n) => ({\r\n  role: 'button',\r\n  'aria-label': name,\r\n  tabIndex: '0',\r\n  onClick: onClick ? () => onClick(name) : undefined,\r\n  onMouseOver: () => {\r\n    if (!active) {\r\n      activeFunc(name);\r\n      if (onHover) {\r\n        onHover(true);\r\n      }\r\n    }\r\n  },\r\n  onMouseLeave: () => {\r\n    if (active) {\r\n      activeFunc(undefined);\r\n      if (onHover) {\r\n        onHover(false);\r\n      }\r\n    }\r\n  },\r\n  onFocus: () => {\r\n    // This moves the map unnecessarily. Instead, we should check\r\n    // the position and scroll if it isn't already visible\r\n    // this._worldMapRef.scrollIntoView();\r\n    if (!active) {\r\n      activeFunc(name);\r\n    }\r\n  },\r\n  onBlur: () => {\r\n    if (active) {\r\n      activeFunc(undefined);\r\n    }\r\n  },\r\n});\r\n\r\nconst WorldMap = forwardRef(\r\n  (\r\n    {\r\n      fill,\r\n      color,\r\n      continents: continentsProp,\r\n      hoverColor,\r\n      onSelectPlace,\r\n      places: placesProp,\r\n      ...rest\r\n    },\r\n    ref,\r\n  ) => {\r\n    const theme = React.useContext(ThemeContext);\r\n\r\n    const world = React.useMemo(buildWorld, []);\r\n\r\n    const [continents, setContinents] = React.useState({});\r\n    React.useEffect(() => {\r\n      if (continentsProp) {\r\n        setContinents(\r\n          continentsProp.reduce((obj, continent) => {\r\n            // eslint-disable-next-line no-param-reassign\r\n            obj[continent.name] = continent;\r\n            return obj;\r\n          }, {}),\r\n        );\r\n      } else setContinents({});\r\n    }, [continentsProp]);\r\n\r\n    const [places, setPlaces] = React.useState([]);\r\n    React.useEffect(() => {\r\n      if (placesProp) {\r\n        setPlaces(\r\n          placesProp.map(({ location, ...place }) => {\r\n            const coords = latLonToCoord(location, world.origin, world.extent);\r\n            return { coords, key: location.join(','), ...place };\r\n          }),\r\n        );\r\n      } else setPlaces([]);\r\n    }, [placesProp, world]);\r\n\r\n    const [over, setOver] = React.useState();\r\n    const [activeCoords, setActiveCoords] = React.useState();\r\n    const [activeContinent, setActiveContinent] = React.useState();\r\n    const [activePlace, setActivePlace] = React.useState();\r\n    const containerRef = React.useRef();\r\n\r\n    const onMouseMove = React.useCallback(\r\n      event => {\r\n        // determine the map coordinates for where the mouse is\r\n        // containerRef uses the group so we can handle aspect ratio scaling\r\n        const rect = containerRef.current.getBoundingClientRect();\r\n        // since the SVG viewBox might be scaled\r\n        const scale = rect.width / world.width;\r\n        const coords = [\r\n          Math.round((event.clientX - rect.left) / scale / FACTOR),\r\n          Math.round((event.clientY - rect.top) / scale / FACTOR),\r\n        ];\r\n        setActiveCoords(coords);\r\n      },\r\n      [world.width],\r\n    );\r\n\r\n    const continentElements = world.continents.map(({ area, dots, name }) => {\r\n      const { color: continentColor, onClick, onHover, ...restContinents } =\r\n        continents[name] || {};\r\n      const active = activeContinent && activeContinent === name;\r\n\r\n      let interactiveProps = {};\r\n      if (onClick || onHover) {\r\n        interactiveProps = buildInteractiveProps(\r\n          continents[name],\r\n          activate => setActiveContinent(activate),\r\n          active,\r\n        );\r\n      }\r\n\r\n      return (\r\n        <g key={name} {...interactiveProps} {...restContinents}>\r\n          <path stroke=\"none\" fill=\"#fff\" fillOpacity=\"0.01\" d={area} />\r\n          <path\r\n            d={dots}\r\n            strokeLinecap=\"round\"\r\n            strokeWidth={parseMetricToNum(\r\n              theme.worldMap.continent[active ? 'active' : 'base'],\r\n            )}\r\n            stroke={normalizeColor(\r\n              continentColor || color || theme.worldMap.color,\r\n              theme,\r\n            )}\r\n          />\r\n        </g>\r\n      );\r\n    });\r\n\r\n    const placeElements = places.map(place => {\r\n      const {\r\n        color: placeColor,\r\n        coords,\r\n        key,\r\n        name,\r\n        onClick,\r\n        onHover,\r\n        ...restPlace\r\n      } = place;\r\n      const d = `M${FACTOR * coords[0]}, ${FACTOR * coords[1]} h0`;\r\n      const active = activePlace && activePlace === name;\r\n\r\n      let interactiveProps = {};\r\n      if (onClick || onHover) {\r\n        interactiveProps = buildInteractiveProps(\r\n          place,\r\n          activate => setActivePlace(activate),\r\n          active,\r\n        );\r\n      }\r\n\r\n      return (\r\n        <path\r\n          key={key}\r\n          strokeLinecap=\"round\"\r\n          strokeWidth={parseMetricToNum(\r\n            theme.worldMap.place[active ? 'active' : 'base'],\r\n          )}\r\n          stroke={normalizeColor(\r\n            placeColor || color || theme.worldMap.color,\r\n            theme,\r\n          )}\r\n          {...interactiveProps}\r\n          {...restPlace}\r\n          d={d}\r\n        />\r\n      );\r\n    });\r\n\r\n    // If the caller is interested in onSelectPlace changes, track where the\r\n    let interactiveProps = {};\r\n    if (onSelectPlace) {\r\n      interactiveProps = {\r\n        onMouseOver: () => setOver(true),\r\n        onMouseMove: over ? onMouseMove : undefined,\r\n        onMouseLeave: () => {\r\n          setOver(false);\r\n          setActiveCoords(undefined);\r\n        },\r\n      };\r\n    }\r\n\r\n    let active;\r\n    if (activeCoords) {\r\n      const d = `M${FACTOR * activeCoords[0]}, ${FACTOR * activeCoords[1]} h0`;\r\n      active = (\r\n        <g\r\n          stroke=\"none\"\r\n          fill=\"none\"\r\n          fillRule=\"evenodd\"\r\n          onClick={() =>\r\n            onSelectPlace(\r\n              coordToLatLon(activeCoords, world.origin, world.extent),\r\n            )\r\n          }\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeWidth={parseMetricToNum(theme.worldMap.place.active)}\r\n            stroke={normalizeColor(\r\n              hoverColor || color || theme.worldMap.hover.color,\r\n              theme,\r\n            )}\r\n            d={d}\r\n          />\r\n        </g>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <StyledWorldMap\r\n        ref={ref}\r\n        viewBox={`${world.x} ${world.y} ${world.width} ${world.height}`}\r\n        preserveAspectRatio=\"xMinYMin meet\"\r\n        fillProp={fill}\r\n        width={world.width}\r\n        height={world.height}\r\n        {...interactiveProps}\r\n        {...rest}\r\n      >\r\n        <g ref={containerRef} stroke=\"none\" fill=\"none\" fillRule=\"evenodd\">\r\n          {continentElements}\r\n        </g>\r\n        {placeElements}\r\n        {active}\r\n      </StyledWorldMap>\r\n    );\r\n    // }\r\n  },\r\n);\r\n\r\nWorldMap.displayName = 'WorldMap';\r\n\r\nWorldMap.defaultProps = {};\r\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\r\n\r\nlet WorldMapDoc;\r\nif (process.env.NODE_ENV !== 'production') {\r\n  // eslint-disable-next-line global-require\r\n  WorldMapDoc = require('./doc').doc(WorldMap);\r\n}\r\nconst WorldMapWrapper = WorldMapDoc || WorldMap;\r\n\r\nexport { WorldMapWrapper as WorldMap };\r\n","import styled from 'styled-components';\r\n\r\nimport { genericStyles } from '../../utils';\r\nimport { defaultProps } from '../../default-props';\r\n\r\nconst fillStyle = fillProp => {\r\n  if (fillProp === 'horizontal') {\r\n    return `\r\n      width: 100%;\r\n      height: unset;\r\n    `;\r\n  }\r\n  if (fillProp === 'vertical') {\r\n    return `\r\n      width: unset;\r\n      height: 100%;\r\n    `;\r\n  }\r\n  if (fillProp) {\r\n    return `\r\n      width: 100%;\r\n      height: 100%;\r\n    `;\r\n  }\r\n  return '';\r\n};\r\n\r\n// undefined fillProp has width for backwards compatibility\r\nconst StyledWorldMap = styled.svg`\r\n  ${genericStyles}\r\n  ${props =>\r\n    props.fillProp !== undefined ? fillStyle(props.fillProp) : 'width: 100%;'}\r\n  ${props => props.theme.worldMap && props.theme.worldMap.extend};\r\n`;\r\n\r\nStyledWorldMap.defaultProps = {};\r\nObject.setPrototypeOf(StyledWorldMap.defaultProps, defaultProps);\r\n\r\nexport { StyledWorldMap };\r\n","// https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\nvar parseHexToRGB = function parseHexToRGB(color) {\n  return color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (m, r, g, b) {\n    return \"#\" + r + r + g + g + b + b;\n  }).substring(1).match(/.{2}/g).map(function (x) {\n    return parseInt(x, 16);\n  });\n};\n\nvar getRGBArray = function getRGBArray(color) {\n  if (/^#/.test(color)) {\n    return parseHexToRGB(color);\n  }\n\n  if (/^rgb/.test(color)) {\n    return color.match(/rgba?\\((\\s?[0-9]*\\s?),(\\s?[0-9]*\\s?),(\\s?[0-9]*\\s?).*?\\)/).splice(1);\n  }\n\n  return color;\n};\n\nexport var colorIsDark = function colorIsDark(color) {\n  var _getRGBArray = getRGBArray(color),\n      red = _getRGBArray[0],\n      green = _getRGBArray[1],\n      blue = _getRGBArray[2]; // http://www.had2know.com/technology/\n  //  color-contrast-calculator-web-design.html\n\n\n  var brightness = (299 * red + 587 * green + 114 * blue) / 1000;\n  return brightness < 125;\n};\nexport var normalizeColor = function normalizeColor(color, theme) {\n  var colorSpec = theme.global.colors[color] || color; // If the color has a light or dark object, use that\n\n  var result = colorSpec;\n\n  if (theme.dark && colorSpec.dark) {\n    result = colorSpec.dark;\n  } else if (!theme.dark && colorSpec.light) {\n    result = colorSpec.light;\n  } // allow one level of indirection in color names\n\n\n  if (result && theme.global.colors[result] && theme.global.colors[result] !== result) {\n    result = normalizeColor(result, theme);\n  }\n\n  return result;\n};","import { css } from 'styled-components';\nimport { normalizeColor } from '../utils';\nexport var colorStyle = function colorStyle(name, value, theme, required) {\n  return css([\"\", \":\", \";\"], name, normalizeColor(value, theme, required));\n};","import { css } from 'styled-components';\nexport var sizeStyle = function sizeStyle(name, value, theme) {\n  return css([\"\", \":\", \";\"], name, theme.global.size[value] || value);\n};"],"sourceRoot":""}